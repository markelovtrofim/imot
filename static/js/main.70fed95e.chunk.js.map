{"version":3,"sources":["store/auth/auth.types.ts","components/common/BlockBox.tsx","assets/images/logo.svg","localizations/index.ts","store/api.ts","store/auth/auth.slice.ts","hooks/redux.ts","store/calls/calls.slice.ts","store/search/search.slice.ts","store/dicts/dicts.slice.ts","store/lang/lang.slice.ts","store/users/users.slice.ts","components/common/Selects/ContainedSelect.tsx","components/common/Header.tsx","components/common/Input.tsx","components/common/ModalWindowBox.tsx","store/search/template.slice.ts","components/common/Snackbar.tsx","components/common/Search/CreateNameTemplateModalWindow.tsx","components/common/Search/DeleteTemplateModalWindow.tsx","components/common/Selects/TextSelect/TextSelect.jss.tsx","components/common/Selects/TextSelect/TextSelect.svg.tsx","components/common/Selects/TextSelect/TextSelect.tsx","utils/optionsCreator.ts","components/common/Checkbox.tsx","store/reports/reports.slice.ts","components/common/Search/SearchSelect.tsx","components/common/Criterias/CriteriaItem.tsx","components/common/Criterias/CriteriasList.tsx","components/common/Selects/CustomControlSelect.tsx","components/common/Criterias/SaveCriterias.tsx","components/common/Criterias/CriteriaTemplate.tsx","components/common/Search/index.tsx","components/common/ButtonGroup.tsx","components/common/DateRangePickerWrapper.tsx","components/common/Ð¡ontrolBlock.tsx","components/common/Tag.tsx","components/common/IconButton.tsx","components/common/Buttons/Plus.tsx","components/common/Buttons/Reboot.tsx","components/common/Buttons/History.tsx","components/common/Buttons/Download.tsx","components/common/Buttons/Back.tsx","components/common/AudioPlayer.tsx","pages/Calls/Body/DialogItem.tsx","pages/Calls/Body/CallBody.tsx","pages/Calls/Call.tsx","pages/Calls/CallsHeader.tsx","pages/Calls/Calls.tsx","assets/images/Auth/dashboard.png","assets/images/Auth/sound.png","pages/Auth/ForgotPasswordModalWindow.tsx","pages/Auth/SignUpModalWindow.tsx","pages/Auth/Auth.tsx","assets/images/Auth/phone.png","pages/MarkupRules/Tags/TagDetails/TagDetails.svg.tsx","pages/Reports/Reports.tsx","store/error/error.slice.ts","store/tags/tags.slice.ts","components/MarkupRules/Groups/Group.tsx","components/MarkupRules/Groups/Groups.tsx","components/MarkupRules/Items/Item.tsx","components/MarkupRules/Items/Items.tsx","components/common/Switch.tsx","components/common/FIeld.tsx","assets/images/no-results.png","assets/loading.svg","pages/MarkupRules/Dicts/DictsDetail.tsx","pages/MarkupRules/Dicts/Dicts.tsx","pages/MarkupRules/Tags/TagDetails/TagDetails.jss.ts","components/common/Alert/Alert.svg.tsx","components/common/Alert/Alert.tsx","components/common/Selects/CustomSelect/CustomSelect.jss.tsx","components/common/Selects/CustomSelect/CustomSelect.components.tsx","components/common/Selects/CustomSelect/CustomSelect.tsx","pages/MarkupRules/Tags/TagDetails/TagDetails.tsx","pages/MarkupRules/Tags/TagPage.jss.ts","pages/MarkupRules/Tags/TagGroups/TagGroup/TagGroup.jss.tsx","pages/MarkupRules/Tags/TagGroups/TagGroup/TagGroup.svg.tsx","pages/MarkupRules/Tags/TagGroups/TagGroup/TagGroup.tsx","pages/MarkupRules/Tags/TagGroups/TagGroups.tsx","pages/MarkupRules/Tags/TagItems/TagItem/TagItem.jss.ts","pages/MarkupRules/Tags/TagItems/TagItem/TagItem.tsx","pages/MarkupRules/Tags/TagItems/TagItems.tsx","pages/MarkupRules/Tags/TagDetails/PostModalWindow.tsx","pages/MarkupRules/Tags/TagPage.tsx","pages/MarkupRules/Checklists/ChecklistsDetail.tsx","pages/MarkupRules/Checklists/Checklists.tsx","pages/MarkupRules/MarkupRules.tsx","pages/LoadCall/LoadCall.tsx","pages/Settings/Settings.tsx","pages/Calls/CallPage.tsx","App.tsx","theme.tsx","store/store.ts","index.tsx"],"names":["AuthResponseErrors","BlockBox","bcColor","margin","width","padding","border","borderRadius","height","minHeight","boxShadow","children","classes","makeStyles","boxWrapper","backgroundColor","useStyles","className","translate","key","language","langData","en","ru","instance","axios","create","baseURL","fetchAuthToken","createAsyncThunk","authData","thunkAPI","a","bodyFormData","FormData","append","username","password","post","headers","response","localStorage","setItem","JSON","stringify","token","data","access_token","mainToken","dispatch","authSlice","actions","setAuth","status","Number","message","substr","FieldsRequired","setError","IncorrectData","removeAuthToken","_","removeItem","initialState","error","isAuth","isLoading","createSlice","name","reducers","state","action","payload","authReset","useAppSelector","useSelector","convertDataForRequest","defaultCriterias","activeCriterias","requestArray","i","length","values","push","convertDate","date","yyyy","getFullYear","mm","getMonth","strMm","dd","getDate","strDd","getCallPublicToken","id","parse","getItem","get","getAndSetCallStt","getCallStt","callSttData","callStt","callsSlice","setStt","stt","index","bundleIndex","getAndSetCallAudio","getCallAudio","audioLinkData","audioLink","setAudio","audio","responseType","blob","Blob","type","blobUrl","URL","createObjectURL","getBaseCallsData","getState","startDate","search","endDate","requestData","calls","skip","limit","incrementSkip","setBaseCallsData","getCallsInfo","setEmptyState","leaveBundles","localCalls","getCallInfo","callInfoData","callInfo","info","setCallsInfo","console","log","getCallsInfoById","bundleLength","total","found","callIds","lengthEmptyArray","output","createInitialCalls","currentCall","callPageSearchParams","setCallPageSearchParams","call_ids","slice","currentCalls","current","map","item","removeAudio","zeroingSkip","callsReset","setCurrentCall","getAllSearchCriterias","searchSlice","setAllCriterias","getDefaultCriterias","setDefaultCriterias","Date","now","allCriterias","activeCriteriasReports","activeCriteriasColumn","setDate","setDefaultCriteriaValues","obj","find","indexOf","setClearDefaultCriteriasValues","setActiveCriterias","setActiveCriteriaValues","removeActiveCriteria","cloneDeep","splice","removeAllActiveCriterias","removeAllState","setActiveCriteriasReports","setActiveCriteriaReportsValues","removeActiveCriteriaReports","removeAllActiveCriteriasReports","setActiveCriteriaReportsColumn","setActiveCriteriaReportsColumnValues","removeActiveCriteriaColumnReports","removeAllActiveCriteriasColumnReports","searchReset","getGroups","dictsSlice","setGroups","getDicts","url","filter","group","setDicts","getDict","setCurrentDict","postDict","Error","deleteDict","delete","updateDict","put","dictActions","dictId","createNullArray","count","result","activePage","activeId","groups","currentGroup","dicts","currentDict","setActivePage","setSearch","setCurrentGroup","setEmptyDicts","dictsReset","getLang","langSlice","setLang","loading","setDefaultLang","setLoading","langReset","getMe","usersSlice","setCurrentUser","getChildUsers","setUsers","getUserToken","getChildUser","setCurrentChildUser","currentUser","childUsers","currentChildUser","OnTopArrow","props","viewBox","fill","xmlns","fillRule","clipRule","d","OnBottomArrow","ContainedSelect","justify","marginRight","onSelectChange","options","value","customStyles","container","provided","menu","overflow","overflowY","zIndex","outline","background","option","cursor","fontFamily","fontSize","color","control","borderColor","menuIsOpen","minWidth","placeholder","indicatorsContainer","singleValue","selectBox","display","justifyContent","alignItems","selectMenuListInput","position","selectMenuListInputIcon","left","top","selectOption","selectArrow","selectArrowOnArrow","marginBottom","selectCheckBox","selectSelectBox","selectPlaceholder","Arrow","memo","cn","Option","useState","setMenuIsOpen","useEffect","document","addEventListener","removeEventListener","openMenuOnFocus","components","IndicatorsContainer","IndicatorSeparator","Control","onClick","style","onChange","event","isClearable","closeMenuOnSelect","styles","isSearchable","hideSelectedOptions","headerWrapper","headerInner","maxWidth","headerLeftBlock","headerIconWrapper","headerIcon","headerItemText","transition","opacity","textTransform","headerRightBlock","langHandler","langHandlerItem","headerLogout","LogoutSvg","Header","lang","useDispatch","currentLang","target","history","location","pathname","path","useHistory","split","pagePath","activeMarkupRulesPage","users","React","alignment","setAlignment","listen","pathArray","auth","handleUserChange","e","label","window","reload","convertedOptions","login","optionsConverter","convertedValue","src","LogoImg","alt","ToggleButtonGroup","exclusive","newAlignment","ToggleButton","disabled","replace","accessRights","includes","Select","MenuProps","disableScrollLock","variant","Button","startIcon","Input","inputRoot","TextField","handleChange","autoComplete","Transition","forwardRef","ref","Slide","direction","ModalWindow","isMWOpen","handleMWClose","text","mwWrapper","mwTitle","mwTitleText","fontWeight","Dialog","open","onClose","TransitionComponent","Typography","getAllTemplates","templateSlice","setAllTemplates","getTemplate","setCurrentTemplate","createTemplate","updateTemplate","deleteTemplate","title","allTemplates","currentTemplate","templateReset","InfoSvg","WarningSvg","ErrorSvg","cx","cy","r","SuccessSvg","CustomSnackbar","time","bg","snackbar","testAlign","icon","CircularProgress","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Alert","sx","paddingTop","mwIconButton","mwText","mwHelp","mwButtonBox","marginTop","textAlign","CreateNameTemplateModalWindow","isOpen","handleClose","method","setDisabled","formik","useFormik","initialValues","validate","onSubmit","localDefaultCriterias","items","setSnackbar","ModalWindowBox","handleSubmit","LoadingButton","template","useMuiTextSelectStyles","theme","arrowColor","selectArrowOnTopBox","PlusSvg","MinusSvg","CrossSvgWithBg","TextSelect","handleValueChange","iconPosition","customControl","notClose","menuPosition","ifArrowColor","customSelectStyles","right","menuList","createTextSelectStyles","isMenuOpen","CustomMenuList","selectProps","handleSelectClick","setIsMenuOpen","marginLeft","MenuList","optionsCreatorVEL","local","optionsCreatorWithKey","BpIcon","styled","BpCheckedIcon","backgroundImage","content","CustomCheckbox","Checkbox","bgcolor","disableRipple","checkedIcon","inputProps","getAllReports","reportsSlice","setReports","convertCriterias","convertColumn","parameters","activeReport","cols_group_by","group_by","local2","search_items","convertColsGroupBy","j","select","tagsVal","col_name","nameColumn","op","opTags","convertCallSearch","callSearchArr","arr","call_search_items","requestCriterias","requestSearchItemsColumn","requestFilters","reports","requestRowsGroupBy","activeParameters","getReport","setActiveReport","getCallReport","setCallReport","getSelectors","getSelectorsValues","getTagNames","setTagNames","allReports","currentSavedReport","callReport","report","cols","rows","total_calls","row_group_header","row_info","row_percent_count_from_total","row_total_calls_count","row_total_calls_minutes","diff_report","report_parameters_hash","report_name","report_type","rows_group_by","selectors","cols_groupings","groupings_by_time","report_types","rows_groupings","tagNames","tableRows","tableColumns","setCurrentSavedReport","setNameReport","setTypeReport","setActiveRowsGroupBy","setDefaultColsGroupBy","setDefaultColsTagGroupBy","setDefaultColsTitleGroupBy","convertSearchItems","setActiveParameters","massiv","callFilters","activeValues","setParameterSelectFieldValue","arrayIndex","fieldIndex","setParameterTagstFieldValue","setNameColumnFieldValue","setFilterFieldValue","setFilterFieldTags","setActiveCriteriaColumn","criteria","setOptionsCriterias","setActiveCriteriaValuesColumn","removeActiveCriteriaColumn","removeParameterField","setTableRows","setTableColumns","CrossWithoutBg","SearchSelect","criteriaFull","criteriaCurrent","isDefaultCriteria","block","dropdownIndicator","multiValue","multiValueRemove","valueContainer","paddingRight","selectItem","selectTag","CustomMultiValueLabel","MultiValueLabel","CustomMultiValueRemove","MultiValueRemove","CustomInd","CustomOption","checked","selectSearch","useRef","selectType","focus","onInputChange","inputValue","onMenuInputFocus","autoCorrect","spellCheck","currentTarget","onMouseDown","stopPropagation","onTouchEnd","onFocus","handleSelectChange","eventConverterResult","eventConverter","converter","converterCurrentResult","converterFullResult","isMulti","createOptionPosition","formatCreateLabel","str","tabIndex","isValidNewOption","DropdownIndicator","ValueContainer","hasValue","CHIPS_LIMIT","chips","overflowCounter","displayChips","searchText","whiteSpace","CriteriaItem","searchItems","flexWrap","searchItem","searchItemBlock_1","gridRowStart","gridRowEnd","searchItemBlock_2","searchItemBlock_3","searchItemBlock_4","searchItemBlock_noWide","searchItemBlock_Wide","CriteriasList","switchSearchItemCLassName","classSwitcher","compResult","v","criteriaWide","wide","VerticalDotsSvg","HorizontalDotsSvg","PenSvg","TrashSvg","CloneSvg","CustomControlSelect","svg","optionsPosition","customDotsStyles","base","flex","bottom","flexDirection","isDisabled","menuPlacement","SingleValue","searchTitleRight","searchDeleteAllButton","searchDeleteAllButtonText","searchButton","textDecoration","searchButtonIcon","FolderPlusSvg","CrossSvg","SaveCriterias","removeAllCriteriasHandler","handleCreateNewTemplateButtonClick","criteriaTemplateTitle","borderLeft","paddingLeft","criteriaTemplateText","lineHeight","criteriaTemplateTextNumber","CriteriaTemplate","searchTitle","searchTitleLeft","searchTitleLeftText","searchTitleLeftStick","tagsBox","searchSearchButton","Search","pageName","searchRequest","convertedTemplate","optionsCreator","isOpenRenameWindow","setIsOpenRenameWindow","isOpenRenameMethod","setIsOpenRenameMethod","isOpenDeleteWindow","setIsOpenDeleteWindow","setOp","handleMoreSelectClick","forEach","fullCriteriaLocal","activeCriteriasLocal","some","loadingPosition","parseInt","DeleteTemplateModalWindow","cbDateItems","controlBlockDateItem","calendar","calendarInput","WebkitTextFillColor","controlBlockButtonBox","controlBlockButton","ButtonGroup","unitOfTime","toString","CalendarSvg","dateRangePickerInputs","outlined","dateRangePanel","borderTop","DateRangePickerWrapper","DateRangePicker","menuClassName","ranges","startOfDay","endOfDay","closeOverlay","subDays","subMonths","addYears","caretAs","isoWeek","appearance","format","onClean","controlBlockWrapper","controlBlockDate","controlBlockDownload","cbButtonWithIcon","unitsOfTime","today","yesterday","week","month","year","ControlBlock","element","getElementById","classList","remove","dateReports","errorSnackbar","setErrorSnackbar","switchEntity","TwoTags","body","general","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","Chip","BaseTag","Fragment","matchData","tooltip","arrow","Tooltip","disableInteractive","placement","IconButton","button","useButtonStyles","Fab","Plus","handleClick","RebootSvg","Reboot","HistorySvg","History","DownloadSvg","Download","BackSvg","Back","audioPlayer","AudioPlayer","callAudio","onListen","audioPlayerRef","setIsPlaying","controls","listenInterval","onSeeked","DialogItem","prevFragment","fragment","fragmentIndex","callId","diItem","diBodyInner","diBodyText","dateTypography","diTagsBlock","diFragment","typographyTitle","titleCustomer","titleEmployee","condition","timeConverter","begin","words","word","audioEl","play","currentTime","CallSvg","CallBody","fragments","expanded","audioRef","onFragmentClick","setIsCallBodyData","prevActiveFragment","activeFragmentRef","callBodyWrapper","cbDialogWrapper","cbDialogInner","cbDialogItems","audioPlayerBox","isActive","activeFragment","prevIndex","undefined","currentIndex","getIndices","array","necessaryElements","indices","publicTokenData","publicToken","host","origin","publicUrl","navigator","clipboard","writeText","eventCurrentTime","currentTimeLocal","phrases","currentFragments","phrase","end","currentFragmentsIndices","currentWords","currentWordsIndices","findWordIndexes","activeWord","add","removeElement","fBegin","fEnd","formPublicToken","operatorPhone","clientPhone","callTimeReadable","Accordion","disableGutters","TransitionProps","unmountOnExit","timeout","elevation","palette","divider","borderBottom","AccordionSummary","expandIcon","mode","transform","spacing","AccordionDetails","MuiAccordionDetails","CallStubMiddleware","handleExpandedChange","solo","accordion","slave","callInner","employee","employeeText","callDateBox","callDate","callTime","callDurationBox","callDuration","callMNumberBox","callMNumber","callTagsTitle","accordionDetails","Call","Grid","xs","Skeleton","s","hoursIsDisplay","pad","n","secs","mins","areEqual","prevProps","nextProps","accordionSummary","userSelect","callEmAndCl","tagsAndFragmentsBlock","setIndex","isCallBodyData","tagsAndFragmentsArray","tags","tagsAndFragmentsSeparator","scroll","setTimeout","topValue","pageYOffset","getBoundingClientRect","scrollTo","behavior","onResize","offsetHeight","removeFragment","activePhraseHtmlEl","activePhrase","allPhrases","scrollIntoView","duration","Stack","tag","callsHeader","callsTitle","callsCols","callsTitleText","ClockSvg","ArrowsSvg","CallsHeader","switchTitleFound","Calls","fetching","setFetching","setExpanded","pushNewCalls","then","scrollHandler","documentElement","scrollHeight","scrollTop","innerHeight","callsArrays","callsArrayIndex","call","ForgotPasswordModalWindow","submitButtonDisabled","setSubmitButtonDisabled","email","test","alert","mwNumberInput","phoneNumber","render","setFieldValue","defaultCountry","authWrapper","authBothSides","authGreetSide","authText","authWelcome","authTo","authHelp","authPhoneIcon","authDashboardIcon","authSoundIcon","authFormSide","authFormInner","authInputBox","authInput","authLogoBox","authPasswordInputIcon","authLoginInputIcon","authForgotButton","authButton","LoginSvg","PasswordSvg","Auth","buttonClick","setButtonClick","openChangePasswordWindow","setOpenChangePasswordWindow","openSignUpWindow","setOpenSignUpWindow","DashboardPng","SoundPng","endIcon","severity","SignUpModalWindow","reportItemInfo","reportTitle","reportFindNumber","reportButtonsGroup","reportButtonsGroupLeft","reportOptionsButton","reportOptionsButtonActive","getReportsButton","reportInput","borderRaduis","checkboxDiff","checkboxDiffValues","checkboxDiffLabel","reportName","errorInput","notFoundCalls","tableHeaderTitle","tableHeaderSubTitle","paddingBottom","tableHeaderSubSubTitle","ExportIcon","Reports","totalCalls","panel","foundCalls","setFoundCalls","savedReportsOptions","optionsCreatorWithName","callsSwitch","setCallSwitch","allCriteriasOptions","setAllCriteriasValue","copyAllCriteriasOptions","allCriteriasColumn","visibleParametres","setVisibleParametres","handleOptionsReportsSelect","handleOtionsReportsSelectObj","func","funcForTag","funcForCriterias","selectorsValues","typeReportOptions","typeReport","typeReportValue","groupByRowsReportOptions","groupByRows","groupByRowsValue","groupByColumnsReportOptions","groupByColumns","groupByColumnsValue","timeColumnsReportOptions","timeColumnsReportValue","setTimeColumnsReportValue","tagNamesOptions","tagNamesValues","setTagNamesValues","tagNamesSecOptions","tagNamesSecValue","setTagNamesSecValue","checkboxValue","setCheckBoxValue","checkboxCalls","setCheckboxCalls","checkboxMinuts","setCheckboxMinuts","checkboxPercent","setCheckboxPercent","rowGroupHeaderTitle","columnsTable","columnsArray","field","headerName","editable","headerAlign","align","headerClassName","cellClassName","renderHeader","columns","resultIds","itemRow","indexRow","itemCol","indexCol","calls_count","calls_minutes","percent_calls_count_from_total","diffValue","diffAdd","diffValueMinuts","diffAddMinuts","diffValuePercent","diffAddPercent","row_sum_calls_count","row_sum_calls_minutes","row_total_processed_calls_count","diffValueCount","diffAddCount","rowsTable","getCallParametres","reportNameColumnDefault","setReportNameColumnDefault","formReport","switchVisibleParametres","validateInputItem","setValidateInputItem","saveReportAsync","getCalls","opCriteriasColumn","setOpCriteriasColumn","allCriteriasArr","heightTable","setHeightTable","gridWrapperRef","gridDiv","gridEl","querySelector","clientHeight","curActiveParameter","allOptions","onAllCriteriasColumnSelectValueChangeTEST","FormGroup","FormControlLabel","flexGrow","Box","maHheight","visibility","alignSelf","maxHeight","DataGrid","autoHeight","pagination","pageSize","rowsPerPageOptions","disableColumnMenu","onCellClick","params","row","localeText","toolbarColumns","errorSlice","textError","counterError","showError","setTextError","incrementCounterError","setShowError","getTagGroups","tagsSlice","setTagGroups","getTags","generateEndUrlPart","setTags","getTag","setCurrentTag","setActiveGlobalFilterCriterias","globalFilter","removeFragments","fragmentRules","setFragment","removeSetTags","setSetTag","updateTag","postTag","deleteTag","getAllGlobalTagFilters","setAllGlobalFilterCriterias","tagsActions","tagId","activeTagId","searchParams","searchInput","tagGroups","currentTagGroup","currentTag","allGlobalFilterCriterias","defaultGlobalFilterCriterias","activeGlobalFilterCriterias","activeFragments","activeSetTags","DirectionOptions","fragmentsArray","phrasesAndDicts","fromStart","silentBefore","silentAfter","interruptTime","setCurrentTagGroup","setSearchParams","setSearchInput","fullCriteria","setActiveGlobalFilterCriteria","removeActiveGlobalFilterCriteria","currentActiveCriterias","currentActiveCriteria","criteriaIndex","setActiveGlobalFilterCriteriaValues","activeCriteria","activeCriteriaIndex","fragmentRulesItemLocal","Object","keys","unshift","visible","dictsArray","converted","setFragmentFieldValue","setFragmentField","removeFragmentField","setSetTagFieldValue","tagIndex","fieldKey","removeSetTag","tagsReset","PurpleCircleSvg","stroke","Group","groupItem","groupTopBlock","groupTopBlockText","groupBottomBlock","groupBottomBlockText","groupBottomBlockRight","groupBottomBlockSvg","userIdData","userId","onGroupClick","dictsData","dataDict","dict","queryString","extract","Groups","dictGroups","Boolean","Item","itemBox","borderRight","rule","usedRules","Items","currentItem","grey","Root","switchUnstyledClasses","track","thumb","focusVisible","input","CustomSwitch","onChecked","SwitchUnstyled","component","componentsProps","Field","bgColor","labelBrother","fieldBox","fieldText","fieldLabel","ddTextarea","resize","switchText","rulesText","DictDetails","groupName","setSubmitLoading","phrasesParseToObject","phrasesArray","phrasesArrayNew","groupsData","setRender","join","submitLoading","deleteLoading","setDeleteLoading","deleteDictMWIsOpen","setDeleteDictMWIsOpen","dictHandleDelete","dataDicts","enabled","setChecked","checkedDisable","setCheckedDisable","InputBase","allowedActions","Switch","createSelectOptions","DictDetailsStubMiddleware","Preloader","noResultsPng","createQueryString","queryObj","DictsPage","dpContainer","dpLeftBlock","dpLeftBlockGroups","dpLeftBlockDicts","dpBothBox","dpRightBlock","MWTitle","MWTitleText","MWButtons","MWInput","useDictsStyles","searchStringParserInObj","initialString","searchStringArray","query","queryByParameters","searchParamsObject","currentGroupLocal","getStartDictsData","newSearch","currentSearch","oldSearchConverted","dictHandleAddSubmit","setAddButtonLoading","dictName","owner","sttAutoReplace","allowedUsers","newDictIdData","newDictId","setSuccessSnackbarOpen","setAddDictMWIsOpen","addDictMWIsOpen","addButtonLoading","isErrorSnackbarOpen","setErrorSnackbarOpen","isSuccessSnackbarOpen","searchObj","handleMWOpen","useTagDetailsStyles","tdWrapper","tdNameAdnPriority","tdTagNameInput","tdPriorityInput","typographyTitleMini","typographyTitleMiniTwo","typographyTitleMiniThree","CustomAlert","iconType","alertObject","useMuiCustomSelectStyles","selectCustomStylesCreator","LimitedChipsContainer","CustomSelect","valueHandler","isDefaultField","deleteIcon","removeSelectHandler","AddButton","TagDetails","globalFilterOptions","localCriterias","defAcCriterias","handleGlobalFilterSelectClick","globalFilterValueHandler","isDefault","selectConverter","defaultValues","addRuleSelectConverter","priority","calculatedRulePriority","globalFiltersForRequest","fragmentsForRequest","ii","iii","rulePriority","deleteMWIsOpen","setDeleteMWIsOpen","buttonLoading","setButtonLoading","handleDeleteMWClose","currentCriteria","removeGlobalFilterField","displayFragment","fragmentField","fragmentFieldIndex","setTagIndex","tagsData","tagsDicts","useTagsStyles","tagsContainer","useTagGroupStyles","TagGroup","onTagGroupClick","dataTag","TagGroups","useTagItemStyles","TagItem","TagItems","PostModalWindow","MWTextTitle","allDicts","convertedDicts","dictsConverter","howSaid","postTagData","TagPage","getStartTagsData","ChecklistsDetail","ChecklistsPage","checklistsContainer","checklistsLeftBlock","checklistsRightBlock","SearchInput","searchTagsParams","searchDictsParams","isDtOrTg","searchInHistory","newSearchDictsParams","newSearchTagsParams","searchInputBox","searchInputInputBox","searchInputSvgBox","MarkupRulesButtons","buttonsBox","page","SearchSvg","InfoCircleActive","InfoCircle","MarkupRules","pathActivePage","appClasses","Dicts","Checklists","LoadCall","loadCallInner","loadCallTitle","loadCallSelectLabel","loadCallButton","employeeSelectTestOptions","employeeSelectTestValues","setEmployeeSelectTestValues","metaSelectTestOptions","metaSelectTestValues","setMetaSelectTestValues","snackbarIsOpen","setSnackbarIsOpen","MenuItem","menuItem","menuItemText","useMenuItemStyles","Settings","settingsBox","settingsMenu","settingsMenuTitle","settingsBodyInner","useSettingsStyles","settingsPageChanger","setSettingsPageChanger","CallPage","callPageBox","callAudioData","fetchCallInfoData","to","wrapper","Test","App","languageParam","searchCallParams","exact","createTheme","typography","body1","allVariants","primary","main","contrastText","secondary","rootReducer","combineReducers","reducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","__store__","ReactDOM","StrictMode","StylesProvider","injectFirst","ThemeProvider"],"mappings":"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","file":"static/js/main.70fed95e.chunk.js","sourcesContent":["export enum AuthResponseErrors {\r\n  FieldsRequired = 422,\r\n  IncorrectData = 401\r\n}","import React, {FC} from 'react';\r\nimport {makeStyles} from '@mui/styles';\r\n\r\ntype BoxPropsType = {\r\n  width?: string,\r\n  padding?: string,\r\n  borderRadius?: string,\r\n  border?: string,\r\n  height?: string,\r\n  minHeight?: string,\r\n  margin?: string,\r\n  bcColor?: string,\r\n  boxShadow?: string,\r\n};\r\n\r\nconst BlockBox: FC<BoxPropsType> = ({bcColor, margin, width, padding = '0', border,\r\n                                     borderRadius = '10px', height = '100%', minHeight, boxShadow, children\r\n                                   }) => {\r\n  const useStyles = makeStyles(({\r\n    boxWrapper: {\r\n      backgroundColor: bcColor ? bcColor : '#FFFFFF',\r\n      margin: margin ? margin : '0px',\r\n      width,\r\n      height,\r\n      minHeight,\r\n      padding,\r\n      border,\r\n      borderRadius,\r\n      boxShadow,\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  return <div className={classes.boxWrapper}>\r\n    {children}\r\n  </div>\r\n};\r\n\r\nexport default BlockBox;","export default __webpack_public_path__ + \"static/media/logo.db689cef.svg\";","import en from './en.json';\r\nimport ru from './ru.json';\r\nimport {LangType} from \"../store/lang/lang.slice\";\r\n\r\nexport const translate = (key: string, language: string): string => {\r\n  let langData: { [key: string]: string } = {};\r\n  if (language === 'en') {\r\n    langData = en;\r\n  } else if (language === 'ru') {\r\n    langData = ru;\r\n  }\r\n  return langData[key];\r\n}","import axios from 'axios';\r\n\r\nconst API_URL = 'https://imot-api.pyzzle.ru';\r\n\r\nexport const instance = axios.create({\r\n  baseURL: API_URL\r\n});\r\n","import {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {AuthResponseErrors} from \"./auth.types\";\r\nimport {instance} from \"../api\";\r\n\r\ntype AuthType = {\r\n  access_token: \"string\",\r\n  token_type: \"string\"\r\n};\r\n\r\nexport const fetchAuthToken = createAsyncThunk(\r\n  'auth/fetchAuthToken',\r\n  async (authData: { username: string, password: string }, thunkAPI) => {\r\n    try {\r\n      let bodyFormData = new FormData();\r\n      bodyFormData.append('username', authData.username);\r\n      bodyFormData.append('password', authData.password);\r\n      const response = await instance.post<AuthType>('token', bodyFormData, {\r\n        headers: {\r\n          'Content-Security-Policy': 'block-all-mixed-content'\r\n        }\r\n      });\r\n      localStorage.setItem('token', JSON.stringify({\r\n        token: response.data.access_token\r\n      }));\r\n      localStorage.setItem('mainToken', JSON.stringify({\r\n        mainToken: response.data.access_token\r\n      }));\r\n      thunkAPI.dispatch(authSlice.actions.setAuth(true));\r\n    } catch (error) {\r\n      // @ts-ignore\r\n      const status = Number(error.message.substr(-3, 3));\r\n      if (status === AuthResponseErrors.FieldsRequired) {\r\n        thunkAPI.dispatch(authSlice.actions.setError('ÐÐ¾Ð»Ñ Ð¾Ð±ÑÐ·Ð°ÑÐµÐ»ÑÐ½Ñ Ð´Ð»Ñ Ð²Ð²Ð¾Ð´Ð°'));\r\n      } else if (status === AuthResponseErrors.IncorrectData) {\r\n        thunkAPI.dispatch(authSlice.actions.setError('ÐÐµÐ²ÐµÑÐ½ÑÐ¹ Ð»Ð¾Ð³Ð¸Ð½ Ð¸Ð»Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ'));\r\n      } else {\r\n        thunkAPI.dispatch(authSlice.actions.setError('ÐÐµÐ¿ÑÐµÐ´Ð²Ð¸Ð´ÐµÐ½Ð½Ð°Ñ Ð¾ÑÐ¸Ð±ÐºÐ°. ÐÐµÑÐµÐ·Ð°Ð³ÑÑÐ·Ð¸ÑÐµ Ð¿ÑÐ¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ.'));\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nexport const removeAuthToken = createAsyncThunk(\r\n  'auth/removeAuthToken',\r\n  async (_, {dispatch}) => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('path');\r\n    dispatch(authSlice.actions.setAuth(false));\r\n  }\r\n);\r\n\r\ntype InitialStateType = {\r\n  error: null | string,\r\n  isAuth: boolean,\r\n  isLoading: boolean\r\n};\r\n\r\nconst initialState: InitialStateType = {\r\n  error: null,\r\n  isAuth: false,\r\n  isLoading: false\r\n};\r\n\r\nexport const authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    setAuth(state, action: PayloadAction<boolean>) {\r\n      state.isAuth = action.payload;\r\n    },\r\n    setError(state, action: PayloadAction<string | null>) {\r\n      state.error = action.payload;\r\n    },\r\n\r\n    authReset: () => initialState\r\n  }\r\n});\r\n","import {TypedUseSelectorHook, useSelector} from \"react-redux\";\r\nimport {RootState} from \"../store/store\";\r\n\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import {createAsyncThunk, createSlice, current, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {CallType} from \"./calls.types\";\r\nimport {RootState} from \"../store\";\r\nimport {instance} from \"../api\";\r\n\r\n// get all calls\r\ntype ResponseBaseCallsDataType = {\r\n  total: number,\r\n  found: number,\r\n  skip: number,\r\n  limit: number,\r\n  call_ids: string[]\r\n};\r\n\r\nconst convertDataForRequest = (defaultCriterias: any, activeCriterias: any) => {\r\n  let requestArray = [];\r\n  for (let i = 0; i < defaultCriterias.length; i++) {\r\n    if (defaultCriterias[i].values.length > 0) {\r\n      requestArray.push({key: defaultCriterias[i].key, values: defaultCriterias[i].values})\r\n    }\r\n  }\r\n  for (let i = 0; i < activeCriterias.length; i++) {\r\n    if (activeCriterias[i].values.length > 0) {\r\n      requestArray.push({key: activeCriterias[i].key, values: activeCriterias[i].values});\r\n    }\r\n  }\r\n  return requestArray;\r\n};\r\n\r\nconst convertDate = (date: Date | null) => {\r\n  if (date) {\r\n    const yyyy = date.getFullYear();\r\n    const mm = date.getMonth() + 1; // Months start at 0!\r\n    let strMm = `${mm}`;\r\n\r\n    const dd = date.getDate();\r\n    let strDd = `${dd}`;\r\n\r\n    if (mm < 10) strMm = `0${mm}`;\r\n    if (dd < 10) strDd = `0${dd}`;\r\n    return `${yyyy}-${strMm}-${strDd}`;\r\n  }\r\n  return date;\r\n};\r\n\r\n// Ð¿ÑÐ±Ð»Ð¸ÑÐ½ÑÐ¹ ÑÐ¾ÐºÐµÐ½ - ÑÐ¾ÐºÐµÐ½, ÐºÐ¾ÑÐ¾ÑÑÐ¹ ÑÐ¾Ð·Ð´Ð°ÐµÑÑÑ Ð´Ð»Ñ Ð´Ð¾ÑÑÑÐ¿Ð° Ðº ÐºÐ¾Ð½ÐºÑÐµÑÐ½Ð¾Ð¼Ñ Ð·Ð²Ð¾Ð½ÐºÑ Ð´Ð°Ð¶Ðµ Ð´Ð»Ñ Ð½Ðµ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð¾Ð²Ð°Ð½Ð½ÑÑ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»ÐµÐ¹.\r\nexport const getCallPublicToken = createAsyncThunk(\r\n  'calls/getCallPublicToken',\r\n  async (id: string, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const {data} = await instance.get(`call/${id}/public_token`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const getAndSetCallStt = createAsyncThunk(\r\n  'calls/getCallStt',\r\n  async (payload: { id: string, bundleIndex: number }, thunkAPI) => {\r\n    const callSttData = await thunkAPI.dispatch(getCallStt({id: payload.id}));\r\n    // @ts-ignore\r\n    const callStt = callSttData.payload;\r\n    thunkAPI.dispatch(callsSlice.actions.setStt({stt: callStt, id: payload.id, index: payload.bundleIndex}));\r\n  }\r\n);\r\n\r\nexport const getCallStt = createAsyncThunk(\r\n  'calls/getCallStt',\r\n  async (payload: { id: string | any, token?: string | any }, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const {data} = await instance.get(`call/${payload.id}/stt`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${payload.token ? payload.token : token}`\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n);\r\n\r\n\r\nexport const getAndSetCallAudio = createAsyncThunk(\r\n  'calls/getAndSetCallAudio',\r\n  async (payload: { id: string, bundleIndex: number }, thunkAPI) => {\r\n    const audioLinkData = await thunkAPI.dispatch(getCallAudio({id: payload.id}));\r\n    // @ts-ignore\r\n    const audioLink = audioLinkData.payload;\r\n    thunkAPI.dispatch(callsSlice.actions.setAudio({audio: audioLink, id: payload.id, index: payload.bundleIndex}))\r\n  }\r\n);\r\n\r\nexport const getCallAudio = createAsyncThunk(\r\n  'calls/getCallAudio',\r\n  async (payload: { id: string | any, token?: string | any }, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const {data} = await instance.get(`call/${payload.id}/audio`, {\r\n      responseType: 'arraybuffer',\r\n      headers: {\r\n        'Authorization': `Bearer ${payload.token ? payload.token : token}`,\r\n        'Content-Type': 'audio/wav'\r\n      }\r\n    });\r\n    const blob = new Blob([data], {\r\n      type: 'audio/wav'\r\n    });\r\n    // Ð½Ð¸Ð¶Ðµ ÑÑÑÐºÐ°, ÐºÐ¾ÑÐ¾ÑÐ°Ñ Ð² ÑÐµÐ¾ÑÐ¸Ð¸ Ð¼Ð¾Ð¶ÐµÑ Ð¿Ð¾Ð¼Ð¾ÑÑ Ð·Ð°Ð³ÑÑÐ¶Ð°ÑÑ Ð°ÑÐ´Ð¸Ð¾ Ð¿Ð¾ÑÑÐµÐ¿ÐµÐ½Ð½Ð¾, Ð° Ð½Ðµ Ð´Ð¾Ð¶ÐµÐ´Ð°ÑÑÑÑ ÐµÐ³Ð¾ Ð¿Ð¾Ð»Ð¾ÑÑÑÑ.\r\n    // const source = new MediaSource();\r\n    const blobUrl = URL.createObjectURL(blob);\r\n    return blobUrl;\r\n  }\r\n);\r\n\r\nexport const getBaseCallsData = createAsyncThunk(\r\n  'calls/getBaseCallsData',\r\n  async (_, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n\r\n      // @ts-ignore;\r\n      const state: RootState = thunkAPI.getState();\r\n\r\n      let startDate = convertDate(state.search.date[0]);\r\n      let endDate = convertDate(state.search.date[1]);\r\n      const requestData = convertDataForRequest(state.search.defaultCriterias, state.search.activeCriterias);\r\n      const response = await instance.post<ResponseBaseCallsDataType>(\r\n        `search_calls/?` +\r\n        `skip=${state.calls.skip}&limit=${state.calls.limit}` +\r\n        `&start_date=${startDate}` +\r\n        `&end_date=${endDate}`,\r\n        requestData,\r\n        {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n      thunkAPI.dispatch(callsSlice.actions.incrementSkip(null));\r\n      // @ts-ignore\r\n      thunkAPI.dispatch(callsSlice.actions.setBaseCallsData({...response.data, skip: thunkAPI.getState().calls.skip}));\r\n      // @ts-ignore\r\n      await thunkAPI.dispatch(getCallsInfo(thunkAPI.getState().calls.calls[thunkAPI.getState().calls.calls.length - 1]))\r\n    } catch (error) {\r\n      thunkAPI.dispatch(callsSlice.actions.setEmptyState({leaveBundles: 0}));\r\n    }\r\n  }\r\n);\r\n\r\nexport const getCallsInfo = createAsyncThunk(\r\n  'calls/getCallsInfo',\r\n  async (payload: CallType[], thunkAPI) => {\r\n    try {\r\n      let localCalls = [];\r\n      for (let i = 0; i < payload.length; i++) {\r\n        const callInfoData = await thunkAPI.dispatch(getCallInfo({id: payload[i].id}));\r\n        const callInfo = callInfoData.payload;\r\n        localCalls.push({\r\n          id: payload[i].id,\r\n          info: callInfo,\r\n          stt: null,\r\n          audio: null\r\n        });\r\n      }\r\n      thunkAPI.dispatch(callsSlice.actions.setCallsInfo(localCalls));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getCallInfo = createAsyncThunk(\r\n  'calls/getCallInfo',\r\n  async (payload: { id: string | any, token?: string | any }, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const response = await instance.get(`call/${payload.id}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${payload.token ? payload.token : token}`\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getCallsInfoById = createAsyncThunk(\r\n  'calls/getCallsInfoById',\r\n  async (payload: any [], thunkAPI) => {\r\n    try {\r\n      let localCalls = [];\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      for (let i = 0; i < payload.length; i++) {\r\n        const response = await instance.get(`call/${payload[i]}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        localCalls.push({\r\n          id: payload[i],\r\n          info: response.data,\r\n          stt: null,\r\n          audio: null\r\n        })\r\n      }\r\n      thunkAPI.dispatch(callsSlice.actions.setCallsInfo(localCalls));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\n\r\ntype InitialStateType = {\r\n  bundleLength: number,\r\n  total: number | null,\r\n  found: number | null,\r\n  skip: number,\r\n  limit: number,\r\n  callIds: null,\r\n  calls: CallType[][] | [],\r\n  currentCall: CallType | null | false,\r\n  callPageSearchParams: string\r\n}\r\n\r\nconst createInitialCalls = (lengthEmptyArray: number = 10) => {\r\n  let output = [];\r\n  for (let i = 0; i < lengthEmptyArray; i++) {\r\n    output.push({\r\n      id: null,\r\n      info: null,\r\n      stt: null,\r\n      audio: null\r\n    });\r\n  }\r\n  return [output];\r\n};\r\n\r\nconst initialState: InitialStateType = {\r\n  bundleLength: 10,\r\n  total: null,\r\n  found: null,\r\n  skip: 0,\r\n  limit: 10,\r\n  callIds: null,\r\n  calls: createInitialCalls(),\r\n\r\n  currentCall: null,\r\n  callPageSearchParams: \"\"\r\n};\r\n\r\nexport const callsSlice = createSlice({\r\n  name: 'calls',\r\n  initialState,\r\n  reducers: {\r\n    setCallPageSearchParams(state, action: PayloadAction<string>) {\r\n      state.callPageSearchParams = action.payload;\r\n    },\r\n\r\n    setBaseCallsData(state, action: PayloadAction<ResponseBaseCallsDataType>) {\r\n      let calls = [];\r\n      for (let i = 0; i < action.payload.call_ids.length; i++) {\r\n        calls.push({\r\n          id: action.payload.call_ids[i],\r\n          info: null,\r\n          stt: null,\r\n          audio: null\r\n        })\r\n      }\r\n      state.found = action.payload.found;\r\n      state.skip = action.payload.skip;\r\n      state.limit = action.payload.limit;\r\n\r\n      if (!state.total) {\r\n        state.total = action.payload.total;\r\n        state.calls = [calls]\r\n      } else {\r\n        state.total = action.payload.total;\r\n        state.calls.slice(state.bundleLength);\r\n        // @ts-ignore\r\n        state.calls.push(calls);\r\n      }\r\n\r\n    },\r\n    setCallsInfo(state, action: PayloadAction<any[]>) {\r\n      if (action.payload.length < 1) {\r\n        state.calls = []\r\n      } else {\r\n        state.calls[state.calls.length - 1] = action.payload;\r\n      }\r\n    },\r\n    setEmptyState(state, action: PayloadAction<{ leaveBundles: number }>) {\r\n      if (action.payload.leaveBundles === 0) {\r\n        state.calls = [];\r\n      } else {\r\n        const currentCalls = current(state.calls);\r\n        state.calls = currentCalls.slice(0, action.payload.leaveBundles);\r\n        state.skip = 10;\r\n      }\r\n    },\r\n    setAudio(state, action: PayloadAction<any>) {\r\n      state.calls[action.payload.index].map((item) => {\r\n        if (item.info && (item.info.id === action.payload.id)) {\r\n          item.audio = action.payload.audio\r\n        }\r\n      });\r\n    },\r\n    setStt(state, action: PayloadAction<{ stt: any, id: string, index: number }>) {\r\n      state.calls[action.payload.index].map(i => {\r\n        // @ts-ignore\r\n        if (i.info.id === action.payload.id) {\r\n          i.stt = action.payload.stt\r\n        }\r\n      });\r\n    },\r\n\r\n    removeAudio(state, action: PayloadAction<{ id: string, bundleIndex: number }>) {\r\n      if (state.calls[0]) {\r\n        state.calls[action.payload.bundleIndex].map(i => {\r\n          // @ts-ignore\r\n          if (i.info.id === action.payload.id) {\r\n            i.audio = null;\r\n          }\r\n        })\r\n      }\r\n    },\r\n    zeroingSkip(state, action: PayloadAction<null>) {\r\n      state.skip = 0;\r\n    },\r\n    incrementSkip(state, action: PayloadAction<null>) {\r\n      state.skip += state.limit;\r\n    },\r\n\r\n    callsReset: () => initialState,\r\n\r\n    // current call\r\n    setCurrentCall(state, action: PayloadAction<CallType | null | false>) {\r\n      state.currentCall = action.payload;\r\n    }\r\n  }\r\n});\r\n","import {createAsyncThunk, createSlice, current, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {CriteriasType, RequestDataType} from \"./search.types\";\r\nimport cloneDeep from \"lodash.clonedeep\";\r\nimport {instance} from \"../api\";\r\n\r\nexport const getAllSearchCriterias = createAsyncThunk(\r\n  'search/getBaseSearchCriterias',\r\n  async (payload, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n\r\n    const response = await instance.get(`search_criterias/`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    thunkAPI.dispatch(searchSlice.actions.setAllCriterias(response.data));\r\n  }\r\n);\r\n\r\nexport const getDefaultCriterias = createAsyncThunk(\r\n  'search/getBaseSearchCriterias',\r\n  async (payload, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const response = await instance.get(`search_criterias/default_keys`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    thunkAPI.dispatch(searchSlice.actions.setDefaultCriterias(response.data));\r\n  }\r\n)\r\n\r\ntype InitialStateType = {\r\n  date: Date[] | null[],\r\n  allCriterias: CriteriasType[] | null,\r\n  defaultCriterias: RequestDataType[],\r\n  activeCriterias: CriteriasType[],\r\n  activeCriteriasReports: CriteriasType[],\r\n  activeCriteriasColumn: CriteriasType[],\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n  date: [new Date(Date.now() - 8760 * 60 * 60 * 1000), new Date(Date.now())],\r\n  allCriterias: null,\r\n  defaultCriterias: [],\r\n  activeCriterias: [],\r\n  activeCriteriasReports: [],\r\n  activeCriteriasColumn: [],\r\n};\r\n\r\nexport const searchSlice = createSlice({\r\n  name: 'search',\r\n  initialState,\r\n  reducers: {\r\n    setDate(state, action: PayloadAction<typeof initialState.date | null[]>) {\r\n      state.date = action.payload;\r\n    },\r\n\r\n    setDefaultCriterias(state, action: PayloadAction<string[] | null>) {\r\n      if (!action.payload) {\r\n        state.defaultCriterias.length = 0;\r\n      } else {\r\n        for (let i = 0; i < action.payload.length; i++) {\r\n          state.defaultCriterias.push({key: action.payload[i], values: []});\r\n        }\r\n      }\r\n    },\r\n    setDefaultCriteriaValues(state, action: PayloadAction<RequestDataType>) {\r\n      const obj = current(state.defaultCriterias).find(item => {\r\n        return item.key === action.payload.key\r\n      });\r\n      if (obj) {\r\n        const index = current(state.defaultCriterias).indexOf(obj);\r\n        state.defaultCriterias[index].values = action.payload.values;\r\n      }\r\n    },\r\n    setClearDefaultCriteriasValues(state, action: PayloadAction<null>) {\r\n      for (let i = 0; i < state.defaultCriterias.length; i++) {\r\n        state.defaultCriterias[i] = {...state.defaultCriterias[i], values: []};\r\n      }\r\n    },\r\n    setAllCriterias(state, action: PayloadAction<CriteriasType[]>) {\r\n      state.allCriterias = action.payload;\r\n    },\r\n    setActiveCriterias(state, action: PayloadAction<CriteriasType[]>) {\r\n      state.activeCriterias = action.payload;\r\n    },\r\n    setActiveCriteriaValues(state, action: PayloadAction<RequestDataType>) {\r\n      const obj = current(state.activeCriterias).find(item => {\r\n        return item.key === action.payload.key\r\n      });\r\n      // @ts-ignore\r\n      const index = current(state.activeCriterias).indexOf(obj);\r\n      state.activeCriterias[index].values = action.payload.values;\r\n    },\r\n    removeActiveCriteria(state, action: PayloadAction<CriteriasType>) {\r\n      let activeCriterias = cloneDeep(current(state.activeCriterias));\r\n      const obj = current(state.activeCriterias).find(item => {\r\n        return item.key === action.payload.key\r\n      });\r\n      // @ts-ignore\r\n      const index = current(state.activeCriterias).indexOf(obj);\r\n      activeCriterias.splice(index, 1);\r\n      state.activeCriterias = activeCriterias;\r\n    },\r\n    removeAllActiveCriterias(state, action: PayloadAction<null>) {\r\n      state.activeCriterias = [];\r\n    },\r\n    removeAllState(state, action: PayloadAction<null>) {\r\n      state.date = [new Date(), new Date()];\r\n      state.allCriterias = null;\r\n      state.defaultCriterias = [];\r\n      state.activeCriterias = [];\r\n      // state.activeCriteriasReports = [];\r\n    },\r\n\r\n\r\n    // for reports\r\n    setActiveCriteriasReports(state, action: PayloadAction<CriteriasType[]>) {\r\n      state.activeCriteriasReports = action.payload;\r\n    },\r\n    setActiveCriteriaReportsValues(state, action: PayloadAction<RequestDataType>) {\r\n      const obj = current(state.activeCriteriasReports).find(item => {\r\n        return item.key === action.payload.key\r\n      });\r\n      // @ts-ignore\r\n      const index = current(state.activeCriteriasReports).indexOf(obj);\r\n      state.activeCriteriasReports[index].values = action.payload.values;\r\n    },\r\n    removeActiveCriteriaReports(state, action: PayloadAction<CriteriasType>) {\r\n      let activeCriteriasReports = cloneDeep(current(state.activeCriteriasReports));\r\n      const obj = current(state.activeCriteriasReports).find(item => {\r\n        return item.key === action.payload.key\r\n      });\r\n      // @ts-ignore\r\n      const index = current(state.activeCriteriasReports).indexOf(obj);\r\n      activeCriteriasReports.splice(index, 1);\r\n      state.activeCriteriasReports = activeCriteriasReports;\r\n    },\r\n    removeAllActiveCriteriasReports(state, action: PayloadAction<null>) {\r\n      state.activeCriteriasReports = [];\r\n    },\r\n\r\n    //for column in report\r\n    setActiveCriteriaReportsColumn(state, action: PayloadAction<CriteriasType[]>) {\r\n      state.activeCriteriasColumn = action.payload;\r\n    }, \r\n    setActiveCriteriaReportsColumnValues(state, action: PayloadAction<RequestDataType>) {\r\n      const obj = current(state.activeCriteriasColumn).find(item => {\r\n        return item.key === action.payload.key\r\n      });\r\n      // @ts-ignore\r\n      const index = current(state.activeCriteriasColumn).indexOf(obj);\r\n      state.activeCriteriasColumn[index].values = action.payload.values;\r\n    },\r\n\r\n    \r\n    removeActiveCriteriaColumnReports(state, action: PayloadAction<CriteriasType>) {\r\n      let activeCriteriasColumn = cloneDeep(current(state.activeCriteriasColumn));\r\n      const obj = current(state.activeCriteriasColumn).find(item => {\r\n        return item.key === action.payload.key\r\n      });\r\n      // @ts-ignore\r\n      const index = current(state.activeCriteriasColumn).indexOf(obj);\r\n      activeCriteriasColumn.splice(index, 1);\r\n      state.activeCriteriasColumn = activeCriteriasColumn;\r\n    },\r\n    removeAllActiveCriteriasColumnReports(state, action: PayloadAction<null>) {\r\n      state.activeCriteriasColumn = [];\r\n    },\r\n    \r\n    searchReset: () => initialState\r\n\r\n  }\r\n})","import  {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {DictActionType, DictType, DictTypeDetailed, GroupType, MarkupRulesPagesType} from \"./dicts.types\";\r\nimport {instance} from \"../api\";\r\n\r\nexport const getGroups = createAsyncThunk(\r\n  'dicts/getGroups',\r\n  async (payload, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const {data} = await instance.get<GroupType[]>(`dict_groups/`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      await thunkAPI.dispatch(dictsSlice.actions.setGroups(data));\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getDicts = createAsyncThunk(\r\n  'dicts/getDicts',\r\n  async (payload: { activeDictIndex?: number, filter?: string, group?: string }, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const url = `dicts/` +\r\n        `?show_disabled=true` +\r\n        `${payload.filter ? `&filter=${payload.filter}` : ''}` +\r\n        `${payload.group ? `&group=${payload.group}` : ''}`\r\n      const {data} = await instance.get(url, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      await thunkAPI.dispatch(dictsSlice.actions.setDicts(data));\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getDict = createAsyncThunk(\r\n  'dict/getDict',\r\n  async (payload: string, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const {data} = await instance.get(`dict/${payload}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      await thunkAPI.dispatch(dictsSlice.actions.setCurrentDict(data));\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const postDict = createAsyncThunk(\r\n  'dicts/postDict',\r\n  async (payload: DictTypeDetailed, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const {data} = await instance.post(`dict/`, payload,{\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      return data;\r\n    } catch(e) {\r\n      debugger\r\n      thunkAPI.dispatch(dictsSlice.actions.setError('Ð­ÑÐ¾Ñ ÑÐ»Ð¾Ð²Ð°ÑÑ Ð½ÐµÐ»ÑÐ·Ñ ÑÐ´Ð°Ð»Ð¸ÑÑ.'))\r\n      return Error;\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteDict = createAsyncThunk(\r\n  'dicts/deleteDict',\r\n  async (payload: string, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const {data} = await instance.delete(`dict/${payload}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      return data;\r\n    } catch(e) {\r\n      thunkAPI.dispatch(dictsSlice.actions.setError('Ð­ÑÐ¾Ñ ÑÐ»Ð¾Ð²Ð°ÑÑ Ð½ÐµÐ»ÑÐ·Ñ ÑÐ´Ð°Ð»Ð¸ÑÑ.'))\r\n      return Error;\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateDict = createAsyncThunk(\r\n  'dicts/updateDict',\r\n  async (payload: DictTypeDetailed, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const {data} = await instance.put(`dict/${payload.id}`, payload, {\r\n        headers: {\r\n          'accept': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\n\r\nexport const dictActions = createAsyncThunk(\r\n  'dicts/dictActions',\r\n  async (payload: {dictId: string, action: DictActionType}, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const {data} = await instance.post(`dict/${payload.dictId}/action`, {action: payload.action}, {\r\n        headers: {\r\n          'accept': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      debugger\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n)\r\n\r\n\r\ntype InitialStateType = {\r\n  activePage: string,\r\n  search: string,\r\n\r\n  activeId: string | null,\r\n\r\n  groups: GroupType[] | null[],\r\n  currentGroup: GroupType | null,\r\n\r\n  dicts: DictType[] | null[] | null,\r\n  currentDict: DictTypeDetailed | null | false | undefined,\r\n\r\n  error: string | null\r\n};\r\n\r\nconst createNullArray = (count: number) => {\r\n  let result = [];\r\n  for (let i = 0; i < count; i++) {\r\n    result.push(null);\r\n  }\r\n  return result;\r\n};\r\n\r\nconst initialState: InitialStateType = {\r\n  activePage: '',\r\n  search: '',\r\n\r\n\r\n\r\n\r\n  activeId: null,\r\n\r\n  groups: createNullArray(4),\r\n  currentGroup: null,\r\n\r\n  dicts: createNullArray(15),\r\n  currentDict: null,\r\n\r\n  error: null,\r\n};\r\n\r\nexport const dictsSlice = createSlice({\r\n  name: 'dicts',\r\n  initialState,\r\n  reducers: {\r\n    // Error\r\n    setError(state, action: PayloadAction<string | null>) {\r\n      state.error = action.payload;\r\n    },\r\n\r\n    // Active page\r\n    setActivePage(state, action: PayloadAction<string>) {\r\n      state.activePage = action.payload;\r\n    },\r\n\r\n    // Search params\r\n    setSearch(state, action: PayloadAction<string>) {\r\n      state.search = action.payload;\r\n    },\r\n\r\n    // Groups\r\n    setGroups(state, action: PayloadAction<GroupType[]>) {\r\n      state.groups = action.payload;\r\n    },\r\n    setCurrentGroup(state, action: PayloadAction<GroupType | null>) {\r\n      state.currentGroup = action.payload;\r\n    },\r\n\r\n    // Dicts\r\n    setDicts(state, action: PayloadAction<DictType[] | null>) {\r\n      state.dicts = action.payload;\r\n    },\r\n    setEmptyDicts(state, action) {\r\n      state.dicts = createNullArray(15);\r\n    },\r\n    setCurrentDict(state, action: PayloadAction<DictTypeDetailed | null | false | undefined>) {\r\n      state.currentDict = action.payload;\r\n    },\r\n\r\n    dictsReset: () => initialState\r\n  }\r\n});\r\n","import {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {instance} from \"../api\";\r\n\r\nexport type LangType = 'ru' | 'en';\r\n\r\nexport const getLang = createAsyncThunk(\r\n  'search/getBaseSearchCriterias',\r\n  async (payload: string, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      await instance.get(`set_language?language=${payload}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      thunkAPI.dispatch(langSlice.actions.setLang(payload))\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n);\r\n\r\n\r\ntype InitialStateType = {\r\n  language: string,\r\n  loading: boolean\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n  language: 'ru',\r\n  loading: false\r\n};\r\n\r\nexport const langSlice = createSlice({\r\n  name: 'language',\r\n  initialState,\r\n  reducers: {\r\n    setLang(state, action: PayloadAction<string>) {\r\n      state.language = action.payload;\r\n    },\r\n\r\n    setDefaultLang(state, action: PayloadAction<null>) {\r\n      state.language = \"ru\";\r\n    },\r\n\r\n    setLoading(state, action: PayloadAction<boolean>) {\r\n      state.loading = action.payload;\r\n    },\r\n    langReset: () => initialState\r\n  }\r\n})","import {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport {ChildUserType, UserType} from \"./users.types\";\r\nimport {langSlice} from '../lang/lang.slice';\r\nimport {instance} from \"../api\";\r\nimport {removeAuthToken} from \"../auth/auth.slice\";\r\n\r\nexport const getMe = createAsyncThunk(\r\n  'users/getMe',\r\n  async (payload, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const response = await instance.get<UserType>(`user/me`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      thunkAPI.dispatch(usersSlice.actions.setCurrentUser(response.data));\r\n      thunkAPI.dispatch(langSlice.actions.setLang(response.data.language));\r\n    } catch (e) {\r\n      thunkAPI.dispatch(removeAuthToken());\r\n    }\r\n  }\r\n);\r\n\r\nexport const getChildUsers = createAsyncThunk(\r\n  'users/getChildUsers',\r\n  async(payload, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const response = await instance.get<ChildUserType[]>(`users/?with_childs=false`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    thunkAPI.dispatch(usersSlice.actions.setUsers(response.data));\r\n  }\r\n);\r\n\r\nexport const getUserToken = createAsyncThunk(\r\n  'users/getChildUsers',\r\n  async(payload: string, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    debugger\r\n    const response = await instance.get(`set_filter_user?user_id=${payload ? payload : ''}`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    localStorage.setItem('token', JSON.stringify({\r\n      token: response.data.access_token\r\n    }));\r\n    debugger\r\n  }\r\n);\r\n\r\nexport const getChildUser = createAsyncThunk(\r\n  'users/getChildUser',\r\n  async(payload: string | void, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const response = await instance.get(`user/filter`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${payload ? payload : token}`\r\n      }\r\n    });\r\n    thunkAPI.dispatch(usersSlice.actions.setCurrentChildUser(response.data));\r\n  }\r\n);\r\n\r\ntype InitialStateType = {\r\n  currentUser: UserType | null,\r\n  childUsers: ChildUserType[] | null,\r\n  currentChildUser: ChildUserType | null\r\n};\r\n\r\nconst initialState: InitialStateType = {\r\n  currentUser: null,\r\n  childUsers: null,\r\n  currentChildUser: null\r\n};\r\n\r\nexport const usersSlice = createSlice({\r\n  name: 'users',\r\n  initialState,\r\n  reducers: {\r\n    setCurrentUser(state, action: PayloadAction<UserType>) {\r\n      state.currentUser = action.payload;\r\n    },\r\n    setUsers(state, action: PayloadAction<ChildUserType[]>) {\r\n      state.childUsers = action.payload;\r\n    },\r\n    setCurrentChildUser(state, action: PayloadAction<ChildUserType>) {\r\n      state.currentChildUser = action.payload;\r\n    }\r\n  }\r\n});\r\n","import * as React from 'react';\r\nimport {FC, memo, useEffect, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport Select, {components} from \"react-select\";\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport cn from 'classnames';\r\nimport {templateSlice} from \"../../../store/search/template.slice\";\r\nimport {searchSlice} from \"../../../store/search/search.slice\";\r\n\r\nexport const OnTopArrow = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"8\" height=\"5\" viewBox=\"0 0 8 5\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M7.39101 4.59994C7.17176 4.83662 6.81636 4.83662 6.59711 4.59994L3.9999 1.79621L1.40271 4.59994C1.18347 4.83662 0.828006 4.83662 0.608766 4.59994C0.389526 4.36325 0.389526 3.97957 0.608766 3.74288L3.60295 0.510518C3.8222 0.273838 4.1776 0.273838 4.39685 0.510518L7.39101 3.74288C7.61026 3.97957 7.61026 4.36325 7.39101 4.59994Z\"\r\n            fill=\"#1B202B\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const OnBottomArrow = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"8\" height=\"5\" viewBox=\"0 0 8 5\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M7.39101 0.400166C7.61026 0.636846 7.61026 1.02059 7.39101 1.25725L4.39685 4.48958C4.1776 4.72627 3.8222 4.72627 3.60295 4.48958L0.608766 1.25725C0.389526 1.02059 0.389526 0.636846 0.608766 0.400166C0.828006 0.163486 1.18347 0.163486 1.40271 0.400166L3.9999 3.20392L6.59711 0.400166C6.81636 0.163486 7.17176 0.163486 7.39101 0.400166Z\"\r\n            fill=\"#738094\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\n\r\n// TYPE BLOCK\r\ntype ContainedSelectPropsType = {\r\n  width: string,\r\n  height?: string,\r\n  justify?: string,\r\n  marginRight?: string,\r\n\r\n  onSelectChange: (event: any) => void,\r\n  options: { value: any, label: string }[],\r\n  value: any\r\n}\r\n\r\n\r\nconst ContainedSelect: FC<ContainedSelectPropsType> = ({\r\n                                                         width,\r\n                                                         height,\r\n                                                         justify,\r\n                                                         marginRight,\r\n\r\n                                                         onSelectChange,\r\n                                                         options,\r\n                                                         value\r\n                                                       }) => {\r\n  // STYLES BLOCK\r\n  const useStyles = makeStyles(({\r\n    selectBox: {\r\n      display: 'flex !important',\r\n      justifyContent: justify ? justify : 'left',\r\n      alignItems: 'center',\r\n      width: '100% !important',\r\n      marginRight: marginRight ? marginRight : '25px'\r\n    },\r\n    selectMenuListInput: {\r\n      width: \"228px\",\r\n      margin: '16px 24px',\r\n      outline: 'none',\r\n      backgroundColor: '#F8FAFC',\r\n      border: '1px solid #E3E8EF',\r\n      borderRadius: '5px',\r\n      padding: '10px 30px 10px 12px',\r\n      color: '#738094',\r\n      fontSize: '14px',\r\n      position: 'relative'\r\n    },\r\n    selectMenuListInputIcon: {\r\n      position: 'absolute',\r\n      left: '262px',\r\n      top: '23px',\r\n      color: '#738094',\r\n      width: '11px'\r\n    },\r\n    selectOption: {\r\n      cursor: 'pointer',\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      padding: '5px 24px'\r\n    },\r\n    selectArrow: {\r\n      marginRight: '10px'\r\n    },\r\n    selectArrowOnArrow: {\r\n      marginBottom: '5px'\r\n    },\r\n    selectCheckBox: {\r\n      '&.MuiCheckbox-root': {\r\n        backgroundColor: '#E3E8EF !important'\r\n      }\r\n    },\r\n    selectSelectBox: {\r\n      position: 'relative'\r\n    },\r\n    selectPlaceholder: {\r\n      // @ts-ignore\r\n      position: 'absolute !important',\r\n      left: '11px !important',\r\n      top: '9px !important'\r\n    }\r\n  }));\r\n  const customStyles = {\r\n    container: (provided: any) => ({\r\n      ...provided,\r\n      width: width,\r\n    }),\r\n    menu: (provided: any) => ({\r\n      ...provided,\r\n      overflow: 'hidden',\r\n      overflowY: 'auto',\r\n      zIndex: '1000',\r\n      '&::-webkit-scrollbar': {\r\n        width: '4px',\r\n        backgroundColor: '#f1f1f1',\r\n        outline: 'none',\r\n      },\r\n      '&::-webkit-scrollbar-thumb': {\r\n        background: '#A3AEBE',\r\n        height: '50px',\r\n        borderRadius: '10px'\r\n      },\r\n      '&::-webkit-scrollbar-thumb:hover': {\r\n        background: '#9298A1'\r\n      }\r\n    }),\r\n    option: (provided: any, state: any) => ({\r\n      cursor: 'pointer',\r\n      padding: '10px 24px',\r\n      fontFamily: 'Inter, sans-serif',\r\n      fontSize: '14px',\r\n      backgroundColor: '#ffffff',\r\n      color: '#000',\r\n      \"&:hover\": {\r\n        backgroundColor: '#F8FAFC',\r\n        color: '#722ED1'\r\n      }\r\n    }),\r\n    control: (provided: any, state: any) => ({\r\n      ...provided,\r\n      cursor: 'pointer',\r\n      width: '100%',\r\n      minHeight: '32px',\r\n      height: height ? height : '32px',\r\n      border: '1px solid #E3E8EF',\r\n      boxShadow: 'none',\r\n      borderColor: menuIsOpen ? '#722ED1 !important' : '#E3E8EF !important',\r\n      \"&:hover\": {\r\n        borderColor: '#E3E8EF'\r\n      },\r\n      minWidth: '70px',\r\n      borderRadius: '5px',\r\n      backgroundColor: '#F8FAFC'\r\n    }),\r\n    placeholder: (provided: any) => ({\r\n      ...provided,\r\n      fontSize: '14px',\r\n      color: '#738094',\r\n      fontFamily: 'Inter, sans-serif'\r\n    }),\r\n    indicatorsContainer: (provided: any) => ({\r\n      ...provided,\r\n      '& svg path:hover': {\r\n        fill: 'hsl(0, 0%, 80%)'\r\n      },\r\n      padding: '0'\r\n    }),\r\n    singleValue: (provided: any) => ({\r\n      ...provided,\r\n      cursor: 'pointer',\r\n      fontFamily: 'Inter, sans-serif',\r\n      fontSize: '13px',\r\n      color: `#738094`\r\n    })\r\n  }\r\n  const classes = useStyles();\r\n\r\n\r\n  // COMPONENTS BLOCK\r\n  const Arrow = memo((props: any) => {\r\n    if (menuIsOpen) {\r\n      return <div className={cn(classes.selectArrowOnArrow, classes.selectArrow)}><OnTopArrow/></div>\r\n    }\r\n    return <OnBottomArrow className={classes.selectArrow}/>\r\n  });\r\n  const Option = memo((props: any) => {\r\n    return <div>\r\n      <components.Option {...props} className={classes.selectOption}>\r\n        {props.children}\r\n      </components.Option>\r\n    </div>\r\n  });\r\n  const Control: FC<any> = ({children, ...props}) => (\r\n    <div onClick={() => setMenuIsOpen(true)}\r\n         style={{display: 'flex', alignItems: 'center', cursor: 'pointer', width: '100%'}}>\r\n      <components.Control {...props}>\r\n        {children}\r\n      </components.Control>\r\n    </div>\r\n  );\r\n\r\n  // LOGIC BLOCK\r\n  // Ð¾ÑÐºÑÑÑÐµ Ð¸ Ð·Ð°ÐºÑÑÑÐ¸Ðµ Ð¼ÐµÐ½ÑÑÐºÐ¸.\r\n  const [menuIsOpen, setMenuIsOpen] = useState<boolean>(false);\r\n\r\n  // Ð²ÑÐ¿Ð¾Ð»Ð½ÑÐµÑÑÑ ÐºÐ¾Ð³Ð´Ð° Ð¼ÐµÐ½ÑÐµÑÑÑ Ð·Ð½Ð°ÑÐµÐ½Ð¸Ðµ.\r\n  const handleSelectChange = (event: any) => {\r\n    onSelectChange(event);\r\n    setMenuIsOpen(false);\r\n  };\r\n\r\n\r\n  // ÐºÐ¾ÑÑÑÐ»ÐµÑÐµÐº Ð´Ð»Ñ Ð·Ð°Ð³ÑÑÑÐ¸Ñ ÑÐµÐ»ÐµÐºÑÐ¾Ð²\r\n  useEffect(() => {\r\n    document.addEventListener(\"mousedown\", () => setMenuIsOpen(false));\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", () => setMenuIsOpen(false));\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.selectBox}>\r\n      <Select\r\n        openMenuOnFocus={true}\r\n        menuIsOpen={menuIsOpen}\r\n        name=\"color\"\r\n        placeholder={''}\r\n        components={{\r\n          Option: Option,\r\n          IndicatorsContainer: () => (<Arrow/>),\r\n          IndicatorSeparator: () => null,\r\n          Control: Control,\r\n        }}\r\n        onChange={handleSelectChange}\r\n        isClearable={true}\r\n        closeMenuOnSelect={false}\r\n        styles={customStyles}\r\n        isSearchable={false}\r\n        value={value}\r\n        options={options}\r\n        hideSelectedOptions={false}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContainedSelect;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Button, LinearProgress, SelectChangeEvent, Typography} from '@mui/material';\r\nimport {makeStyles} from '@mui/styles';\r\nimport {useHistory} from 'react-router-dom';\r\nimport LogoImg from '../../assets/images/logo.svg';\r\nimport {RootState} from '../../store/store';\r\nimport {translate} from '../../localizations';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Select from '@mui/material/Select';\r\nimport {removeAuthToken} from \"../../store/auth/auth.slice\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {callsSlice} from \"../../store/calls/calls.slice\";\r\nimport {searchSlice} from \"../../store/search/search.slice\";\r\nimport {getGroups} from \"../../store/dicts/dicts.slice\";\r\nimport {getChildUser, getChildUsers, getMe, getUserToken} from \"../../store/users/users.slice\";\r\nimport ContainedSelect from \"./Selects/ContainedSelect\";\r\nimport {getLang, langSlice} from \"../../store/lang/lang.slice\";\r\nimport queryString from \"query-string\";\r\n\r\nconst useStyles = makeStyles(({\r\n  headerWrapper: {\r\n    backgroundColor: '#FFFFFF',\r\n  },\r\n  headerInner: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    maxWidth: '1920px',\r\n    height: '100%',\r\n    width: '100%',\r\n    margin: '0 auto'\r\n  },\r\n  headerLeftBlock: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  headerIconWrapper: {\r\n    maxWidth: '73px',\r\n    width: '73px',\r\n    margin: '0 24px'\r\n  },\r\n  headerIcon: {\r\n    display: 'block',\r\n    maxWidth: '100%',\r\n    width: '100%',\r\n    height: 'auto',\r\n  },\r\n  headerItemText: {\r\n    color: '#738094 !important',\r\n    transition: '0.4s !important',\r\n    opacity: '0.7',\r\n    padding: '13px 20px !important',\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    '&.Mui-selected, &:active': {\r\n      backgroundColor: '#E3E8EF !important',\r\n      color: '#000 !important'\r\n    },\r\n    border: 'none !important',\r\n    outline: 'none !important',\r\n    backgroundColor: '#ffffff !important',\r\n  },\r\n  headerRightBlock: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    height: '53px !important'\r\n  },\r\n  langHandler: {\r\n    '& .MuiInput-input:focus': {\r\n      backgroundColor: '#fff',\r\n    },\r\n    border: 'none',\r\n    outline: 'none',\r\n    '&::before': {\r\n      border: 'none !important'\r\n    },\r\n    '&::after': {\r\n      border: 'none !important'\r\n    }\r\n  },\r\n  langHandlerItem: {\r\n    '&.MuiMenuItem-root': {\r\n      backgroundColor: '#fff !important'\r\n    }\r\n  },\r\n  headerLogout: {\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: '0 17px 0 26px !important',\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    color: '#738094 !important',\r\n    '&:hover': {\r\n      backgroundColor: '#fff !important'\r\n    },\r\n    '& .MuiButton-startIcon': {\r\n      marginRight: '10px',\r\n    },\r\n    '& .MuiButton-startIcon svg': {\r\n      fill: '#738094',\r\n    },\r\n  },\r\n}));\r\n\r\nexport const LogoutSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        d=\"M5.5 10.6663C5.5 10.3902 5.72387 10.1663 6 10.1663H10C10.0921 10.1663 10.1667 10.0917 10.1667 9.99967V1.99967C10.1667 1.90763 10.0921 1.83301 10 1.83301H6C5.72387 1.83301 5.5 1.60915 5.5 1.33301C5.5 1.05687 5.72387 0.833008 6 0.833008H10C10.6443 0.833008 11.1667 1.35534 11.1667 1.99967V9.99967C11.1667 10.644 10.6443 11.1663 10 11.1663H6C5.72387 11.1663 5.5 10.9425 5.5 10.6663Z\"/>\r\n      <path\r\n        d=\"M0.333984 6.74307C0.333984 7.11127 0.632458 7.40974 1.00065 7.40974H4.23798C4.25327 7.64667 4.2724 7.88347 4.29538 8.11994L4.31516 8.3234C4.34731 8.65427 4.69865 8.85233 4.99838 8.70873C6.21699 8.12467 7.32019 7.32554 8.25485 6.3496L8.27485 6.32874C8.45292 6.1428 8.45292 5.84967 8.27485 5.66374L8.25485 5.64287C7.32019 4.66694 6.21699 3.86778 4.99838 3.28377C4.69865 3.14011 4.34731 3.33824 4.31516 3.66907L4.29538 3.87253C4.2724 4.10902 4.25327 4.34579 4.23798 4.58273L1.00065 4.58274C0.632464 4.58274 0.333984 4.8812 0.333984 5.2494V6.74307Z\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst Header: React.FC = () => {\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n  const {loading} = useAppSelector(state => state.lang);\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  async function handleLangChange(event: SelectChangeEvent) {\r\n    // let pathArray = [];\r\n    // pathArray = location.pathname.split(\"/\");\r\n    // const languageParam = pathArray[1];\r\n\r\n    const currentLang = event.target.value;\r\n    await dispatch(getLang(currentLang));\r\n\r\n    history.location.pathname = '/'\r\n    history.push(`${currentLang}/_/calls`)\r\n  }\r\n\r\n  const {path} = JSON.parse(localStorage.getItem('path') || '{}');\r\n\r\n  const history = useHistory();\r\n  let historyPathArray;\r\n  if (path) {\r\n    historyPathArray = path.split('/');\r\n  }\r\n  const pagePath = history.location.pathname.split('/')[1];\r\n  const activeMarkupRulesPage = useAppSelector(state => state.dicts.activePage);\r\n\r\n  const currentUser = useAppSelector(state => state.users.currentUser);\r\n  const childUsers = useAppSelector(state => state.users.childUsers);\r\n  const currentChildUser = useAppSelector(state => state.users.currentChildUser);\r\n\r\n  const [alignment, setAlignment] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    history.listen((location) => {\r\n      const pathArray = location.pathname.split('/');\r\n      setAlignment(pathArray[3]);\r\n    })\r\n  }, [history.location.pathname]);\r\n\r\n  const handleRouteChange = (\r\n    event: React.MouseEvent<HTMLElement>,\r\n    newAlignment: string,\r\n  ) => {\r\n    setAlignment(newAlignment);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getChildUser());\r\n    dispatch(getMe());\r\n    dispatch(getChildUsers());\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    dispatch(removeAuthToken());\r\n    dispatch(callsSlice.actions.setEmptyState({leaveBundles: 0}));\r\n    dispatch(searchSlice.actions.removeAllState(null));\r\n    history.location.pathname = \"/\";\r\n    history.push(`/${language}/auth`);\r\n  };\r\n\r\n  function login() {\r\n    history.location.pathname = \"/\";\r\n    history.push(`/${language}/auth`)\r\n  }\r\n\r\n  const isAuth = useAppSelector(state => state.auth.isAuth);\r\n\r\n  // users changer\r\n  const handleUserChange = async (e: any) => {\r\n    if (e.label === 'ÐÑÐµ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ð¸') {\r\n      const {mainToken} = JSON.parse(localStorage.getItem('mainToken') || '{}');\r\n      localStorage.setItem('token', JSON.stringify({\r\n        token: mainToken\r\n      }));\r\n    } else {\r\n      await dispatch(getUserToken(e.value));\r\n    }\r\n    window.location.reload();\r\n  };\r\n  const optionsConverter = () => {\r\n    let result = [{value: '', label: 'ÐÑÐµ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ð¸'}]\r\n    if (childUsers) {\r\n      for (let i = 0; i < childUsers.length; i++) {\r\n        result.push({value: childUsers[i].id, label: childUsers[i].name ? childUsers[i].name : childUsers[i].login});\r\n      }\r\n      return result;\r\n    }\r\n    return []\r\n  };\r\n  const convertedOptions = optionsConverter();\r\n  const convertedValue = convertedOptions.filter((item) => {\r\n    if (currentChildUser) {\r\n      return item.value === currentChildUser.id\r\n    }\r\n  })[0] || {value: '', label: 'ÐÑÐµ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ð¸'};\r\n\r\n\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.language) {\r\n      dispatch(langSlice.actions.setLang(currentUser.language));\r\n    }\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <div className={classes.headerWrapper}>\r\n      {/*{loading && <LinearProgress color=\"primary\"/>}*/}\r\n      <div className={classes.headerInner}>\r\n        <div className={classes.headerLeftBlock}>\r\n          {/* ÐÐ¾Ð³Ð¾ÑÐ¸Ð¿ */}\r\n          <div className={classes.headerIconWrapper}>\r\n            <img className={classes.headerIcon} height={55} src={LogoImg} alt=\"Imot.io\"/>\r\n          </div>\r\n          {/* ÐÐ°Ð²Ð¸Ð³Ð°ÑÐ¸Ñ */}\r\n          {isAuth && (\r\n            <ToggleButtonGroup\r\n              value={alignment}\r\n              exclusive\r\n              onChange={handleRouteChange}\r\n              style={{cursor: 'pointer'}}\r\n            >\r\n              {/* Calls */}\r\n              <ToggleButton\r\n                key={0}\r\n                disabled={'calls' === alignment}\r\n                value={'calls'}\r\n                onClick={() => {\r\n                  dispatch(langSlice.actions.setLoading(true));\r\n                  history.location.pathname = '/'\r\n                  history.replace(`${language}/${currentUser ? currentUser.id : \"#\"}/calls`);\r\n                }}\r\n                className={classes.headerItemText}\r\n              >\r\n                {translate('calls', language)}\r\n              </ToggleButton>\r\n\r\n              {/* Reports */}\r\n              <ToggleButton\r\n                key={1}\r\n                disabled={'reports' === alignment}\r\n                value={'reports'}\r\n                onClick={() => {\r\n                  dispatch(langSlice.actions.setLoading(true));\r\n                  history.location.pathname = '/'\r\n                  history.replace(`${language}/${currentUser ? currentUser.id : \"#\"}/reports`);\r\n                }}\r\n                className={classes.headerItemText}\r\n              >\r\n                {translate('reports', language)}\r\n              </ToggleButton>\r\n\r\n              {/* Markuprules */}\r\n              <ToggleButton\r\n                key={2}\r\n                disabled={pagePath === 'markuprules' && pagePath === alignment}\r\n                value={'markuprules'}\r\n                onClick={async () => {\r\n                  dispatch(langSlice.actions.setLoading(true));\r\n                  history.location.pathname = '/'\r\n                  history.replace(`${language}/${currentUser ? currentUser.id : \"#\"}/markuprules/${activeMarkupRulesPage}`);\r\n                  await dispatch(getGroups());\r\n                }}\r\n                className={classes.headerItemText}\r\n              >\r\n                {translate('markupRules', language)}\r\n              </ToggleButton>\r\n\r\n              {/* Upload */}\r\n              <ToggleButton\r\n                key={3}\r\n                disabled={'upload' === alignment}\r\n                value={'upload'}\r\n                onClick={() => {\r\n                  dispatch(langSlice.actions.setLoading(true));\r\n                  history.location.pathname = '/'\r\n                  history.replace(`${language}/${currentUser ? currentUser.id : \"#\"}/upload`);\r\n                }}\r\n                className={classes.headerItemText}\r\n              >\r\n                {translate('loadCall', language)}\r\n              </ToggleButton>\r\n\r\n              {/* Alert */}\r\n              <ToggleButton\r\n                key={4}\r\n                disabled={'alert' === alignment}\r\n                value={'alert'}\r\n                style={{cursor: 'default !important'}}\r\n                onClick={() => {\r\n                  dispatch(langSlice.actions.setLoading(true));\r\n                  history.location.pathname = '/'\r\n                  history.replace(`${language}/${currentUser ? currentUser.id : \"#\"}/alert`);\r\n                }}\r\n                className={classes.headerItemText}\r\n              >\r\n                {translate('alert', language)}\r\n              </ToggleButton>\r\n\r\n              {/* Settings */}\r\n              <ToggleButton\r\n                key={5}\r\n                disabled={'settings' === alignment}\r\n                value={'settings'}\r\n                onClick={() => {\r\n                  dispatch(langSlice.actions.setLoading(true));\r\n                  history.location.pathname = '/'\r\n                  history.replace(`${language}/${currentUser ? currentUser.id : \"#\"}/settings`);\r\n                }}\r\n                className={classes.headerItemText}\r\n              >\r\n                {translate('settings', language)}\r\n              </ToggleButton>\r\n            </ToggleButtonGroup>\r\n          )}\r\n        </div>\r\n\r\n\r\n        <div className={classes.headerRightBlock}>\r\n          <div style={{display: 'flex', marginRight: '30px'}}>\r\n            {currentChildUser && currentUser && currentUser.accessRights.includes('admin') &&\r\n            <ContainedSelect\r\n              width={'220px'}\r\n              onSelectChange={handleUserChange}\r\n              options={convertedOptions}\r\n              value={convertedValue}\r\n            />\r\n            }\r\n            {/* Ð¡Ð¼ÐµÐ½Ð° ÑÐ·ÑÐºÐ° */}\r\n            <Select\r\n              MenuProps={{\r\n                disableScrollLock: true\r\n              }}\r\n              className={classes.langHandler}\r\n              variant='standard'\r\n              value={language}\r\n              onChange={handleLangChange}\r\n            >\r\n              <MenuItem className={classes.langHandlerItem} value={'ru'}>RU</MenuItem>\r\n              <MenuItem className={classes.langHandlerItem} value={'en'}>EN</MenuItem>\r\n            </Select>\r\n          </div>\r\n\r\n          {isAuth ? (\r\n            <>\r\n              {/* ÐÑÑÐ¾Ð´ Ð¸Ð· Ð°ÐºÐºÐ°ÑÐ½ÑÐ° */}\r\n              <Button className={classes.headerLogout} startIcon={<LogoutSvg/>} onClick={logout}>\r\n                {translate('logout', language)}\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {/* ÐÑÑÐ¾Ð´ Ð¸Ð· Ð°ÐºÐºÐ°ÑÐ½ÑÐ° */}\r\n              <Button className={classes.headerLogout} startIcon={<LogoutSvg/>} onClick={login}>\r\n                ÐÐ¾Ð¹ÑÐ¸\r\n              </Button>\r\n            </>\r\n          )}\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","import React, {FC} from 'react';\r\nimport {TextField} from \"@mui/material\";\r\nimport {makeStyles} from \"@mui/styles\";\r\n\r\ntype InputPropsType = {\r\n  name: string,\r\n  type: string,\r\n  bcColor: string,\r\n  label: string,\r\n\r\n  autoComplete?: 'on' | 'off',\r\n  handleChange?: (e: React.ChangeEvent<any>) => void,\r\n  value?: string,\r\n  border?: string,\r\n  height?: string\r\n};\r\n\r\nconst Input: FC<InputPropsType> = (props) => {\r\n  const useStyles = makeStyles(({\r\n    inputRoot: {\r\n      backgroundColor: props.bcColor,\r\n      height: `${props.height ? props.height : '33px'} !important`,\r\n      borderRadius: '5px',\r\n      width: '100%',\r\n      border: props.border ?`${props.border} !important` : 'none !important',\r\n      '& .MuiInputLabel-root': {\r\n        cursor: 'text !important',\r\n        color: '#738094 !important',\r\n        fontSize: '14px !important',\r\n        left: '-5px',\r\n        top: '-10px'\r\n      },\r\n      '& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline': {\r\n        border: 'none',\r\n      },\r\n      '& .MuiOutlinedInput-root .MuiOutlinedInput-input': {\r\n        padding: '8px 28px 8px 10px !important',\r\n        color: '#738094'\r\n      }\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n  return <TextField\r\n    className={classes.inputRoot}\r\n    name={props.name}\r\n    type={props.type}\r\n    onChange={props.handleChange}\r\n    autoComplete={props.autoComplete}\r\n    value={props.value} label={props.label}\r\n  />\r\n};\r\n\r\nexport default Input;\r\n","import React, {useState} from 'react';\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport Slide from '@mui/material/Slide';\r\nimport {TransitionProps} from '@mui/material/transitions';\r\nimport BlockBox from \"./BlockBox\";\r\nimport {IconButton, Typography} from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport {LoadingButton} from \"@mui/lab\";\r\nimport {translate} from \"../../localizations\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\n\r\nconst Transition = React.forwardRef((\r\n    props: TransitionProps & {\r\n      children: React.ReactElement<any, any>;\r\n    },\r\n    ref: React.Ref<unknown>,\r\n  ) => <Slide direction=\"up\" ref={ref} {...props}/>\r\n);\r\n\r\ntype AuthModalWindowPropsType = {\r\n  isMWOpen: boolean,\r\n  handleMWClose: () => void,\r\n  text: string,\r\n\r\n  width?: string,\r\n  height?: string\r\n}\r\n\r\nexport const ModalWindow: React.FC<AuthModalWindowPropsType> = (\r\n  {\r\n    isMWOpen,\r\n    handleMWClose,\r\n\r\n    text,\r\n    children,\r\n\r\n    width,\r\n    height\r\n  }\r\n) => {\r\n  const useStyles = makeStyles(({\r\n    mwWrapper: {\r\n      height: '100% !important',\r\n      '& .MuiPaper-root': {\r\n        overflow: 'hidden',\r\n        borderRadius: '10px !important',\r\n        height: height ? `${height} !important` : 'auto',\r\n        width: width ? `${width} !important` : '400px',\r\n        margin: '0'\r\n      }\r\n    },\r\n    mwTitle: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n    },\r\n    mwTitleText: {\r\n      fontWeight: '700 !important'\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Dialog disableScrollLock={true}\r\n            className={classes.mwWrapper}\r\n            open={isMWOpen} onClose={handleMWClose}\r\n            TransitionComponent={Transition}\r\n    >\r\n      <BlockBox padding=\"24px\">\r\n\r\n        {/* Ð¨Ð°Ð¿ÐºÐ° */}\r\n        <div className={classes.mwTitle}>\r\n          <Typography className={classes.mwTitleText}>{text}</Typography>\r\n          <IconButton onClick={handleMWClose}>\r\n            <CloseIcon style={{color: '#000000', width: '15px', height: '15px'}}/>\r\n          </IconButton>\r\n        </div>\r\n\r\n        <div>\r\n          {children}\r\n        </div>\r\n      </BlockBox>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ModalWindow;\r\n","import {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport {TemplateType} from \"./template.types\";\r\nimport {instance} from \"../api\";\r\n\r\nexport const getAllTemplates = createAsyncThunk(\r\n  'template/getAllTemplates',\r\n  async (payload, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const response = await instance.get(`search_filters/`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    console.log(response.data);\r\n    thunkAPI.dispatch(templateSlice.actions.setAllTemplates(response.data));\r\n  }\r\n);\r\n\r\nexport const getTemplate = createAsyncThunk(\r\n  'template/getTemplate',\r\n  async (payload: string, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const response = await instance.get(`search_filter/${payload}`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    thunkAPI.dispatch(templateSlice.actions.setCurrentTemplate(response.data));\r\n  }\r\n);\r\n\r\nexport const createTemplate = createAsyncThunk(\r\n  'template/createTemplate',\r\n  async (payload: { title: string, items: any[] }, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const response = await instance.post(`search_filter`, payload, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    await thunkAPI.dispatch(getTemplate(response.data));\r\n    thunkAPI.dispatch(getAllTemplates());\r\n  }\r\n);\r\n\r\nexport const updateTemplate = createAsyncThunk(\r\n  'template/updateTemplate',\r\n  async (payload: TemplateType, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const response = await instance.put(`search_filter/${payload.id}`, payload, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    await thunkAPI.dispatch(getTemplate(response.data));\r\n    thunkAPI.dispatch(getAllTemplates());\r\n  }\r\n);\r\n\r\nexport const deleteTemplate = createAsyncThunk(\r\n  'template/updateTemplate',\r\n  async (payload: string, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const response = await instance.delete(`search_filter/${payload}`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    thunkAPI.dispatch(getAllTemplates());\r\n    return response.data.title;\r\n  }\r\n);\r\n\r\ntype InitialStateType = {\r\n  allTemplates: TemplateType[],\r\n  currentTemplate: TemplateType | null\r\n};\r\n\r\nconst initialState: InitialStateType = {\r\n  allTemplates: [],\r\n  currentTemplate: null\r\n};\r\n\r\nexport const templateSlice = createSlice({\r\n  name: 'template',\r\n  initialState,\r\n  reducers: {\r\n    setAllTemplates(state, action: PayloadAction<TemplateType[]>) {\r\n      state.allTemplates = action.payload;\r\n    },\r\n    setCurrentTemplate(state, action: PayloadAction<TemplateType | null>) {\r\n      state.currentTemplate = action.payload;\r\n    },\r\n\r\n    templateReset: () => initialState\r\n  }\r\n});\r\n","import React, {FC, memo} from 'react';\r\nimport {Alert, CircularProgress, Snackbar} from \"@mui/material\";\r\nimport {makeStyles} from \"@mui/styles\";\r\n\r\nconst InfoSvg = () => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8ZM8.91429 4.34286C8.91429 4.8478 8.50496 5.25714 8 5.25714C7.49504 5.25714 7.08571 4.8478 7.08571 4.34286C7.08571 3.83792 7.49504 3.42857 8 3.42857C8.50496 3.42857 8.91429 3.83792 8.91429 4.34286ZM8 6.85714C8.3787 6.85714 8.68571 7.16416 8.68571 7.54286V12.1143C8.68571 12.493 8.3787 12.8 8 12.8C7.6213 12.8 7.31429 12.493 7.31429 12.1143V7.54286C7.31429 7.16416 7.6213 6.85714 8 6.85714Z\" fill=\"#722ED1\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst WarningSvg = () => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M8 1C4.13438 1 1 4.13438 1 8C1 11.8656 4.13438 15 8 15C11.8656 15 15 11.8656 15 8C15 4.13438 11.8656 1 8 1ZM7.5 4.625C7.5 4.55625 7.55625 4.5 7.625 4.5H8.375C8.44375 4.5 8.5 4.55625 8.5 4.625V8.875C8.5 8.94375 8.44375 9 8.375 9H7.625C7.55625 9 7.5 8.94375 7.5 8.875V4.625ZM8 11.5C7.80374 11.496 7.61687 11.4152 7.47948 11.275C7.3421 11.1348 7.26515 10.9463 7.26515 10.75C7.26515 10.5537 7.3421 10.3652 7.47948 10.225C7.61687 10.0848 7.80374 10.004 8 10C8.19626 10.004 8.38313 10.0848 8.52052 10.225C8.6579 10.3652 8.73485 10.5537 8.73485 10.75C8.73485 10.9463 8.6579 11.1348 8.52052 11.275C8.38313 11.4152 8.19626 11.496 8 11.5Z\" fill=\"#FAAD14\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst ErrorSvg = () => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"#FF4D4F\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M11.1618 4.83688C11.3896 5.06469 11.3896 5.43406 11.1618 5.66187L5.66187 11.1618C5.43406 11.3896 5.06469 11.3896 4.83688 11.1618C4.60906 10.934 4.60906 10.5646 4.83688 10.3368L10.3368 4.83688C10.5646 4.60906 10.934 4.60906 11.1618 4.83688Z\" fill=\"white\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4.83688 4.83688C5.06469 4.60906 5.43406 4.60906 5.66187 4.83688L11.1618 10.3368C11.3896 10.5646 11.3896 10.934 11.1618 11.1618C10.934 11.3896 10.5646 11.3896 10.3368 11.1618L4.83688 5.66187C4.60906 5.43406 4.60906 5.06469 4.83688 4.83688Z\" fill=\"white\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst SuccessSvg = () => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"#73D13D\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12.0209 5.31295C12.2161 5.50821 12.2161 5.8248 12.0209 6.02006L7.35418 10.6867C7.15892 10.882 6.84238 10.882 6.6471 10.6867L3.98043 8.02004C3.78517 7.82477 3.78517 7.50824 3.98043 7.31297C4.17569 7.1177 4.49228 7.1177 4.68754 7.31297L7.00065 9.62604L11.3138 5.31295C11.5091 5.11769 11.8256 5.11769 12.0209 5.31295Z\" fill=\"white\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport type SnackbarType = 'info' | 'warning' | 'error' | 'loading' | 'success';\r\n\r\n\r\ntype SnackbarPropsType = {\r\n  type: SnackbarType,\r\n  open: boolean,\r\n  onClose: (event: any) => void,\r\n  text: string,\r\n  time: number | null,\r\n  bg?: string\r\n};\r\n\r\nconst CustomSnackbar: FC<SnackbarPropsType> = memo(({type, open, onClose, text, time, bg}) => {\r\n  const useStyles = makeStyles(({\r\n    snackbar: {\r\n      testAlign: 'center !important'\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const getIcon = () => {\r\n    if (type === 'info') {\r\n      return <InfoSvg/>\r\n    } else if (type === 'warning') {\r\n      return <WarningSvg/>\r\n    } else if (type === 'error') {\r\n      return <ErrorSvg/>\r\n    } else if (type === 'loading') {\r\n      return <CircularProgress style={{width: '16px', height: '16px'}}/>\r\n    } else {\r\n      return <SuccessSvg/>\r\n    }\r\n  };\r\n  const icon = getIcon();\r\n  return (\r\n      <Snackbar\r\n        anchorOrigin={{vertical: 'top', horizontal: 'center'}}\r\n        open={open}\r\n        onClose={onClose}\r\n        autoHideDuration={time}\r\n        className={classes.snackbar}\r\n      >\r\n        <Alert\r\n          icon={icon}\r\n          sx={{\r\n            padding: '15px 40px',\r\n            fontSize: '15px',\r\n            backgroundColor: bg ? bg : '#fff',\r\n            boxShadow: '0px 9px 28px 8px rgba(0, 0, 0, 0.15), 0px 6px 16px rgba(0, 0, 0, 0.18), 0px 3px 6px -4px rgba(0, 0, 0, 0.22)',\r\n            '& .MuiAlert-icon': {\r\n              paddingTop: '10px !important'\r\n            }\r\n          }}\r\n        >\r\n          {text}\r\n        </Alert>\r\n      </Snackbar>\r\n  );\r\n});\r\n\r\nexport default CustomSnackbar;","import React, {FC, useEffect, useState} from 'react';\r\nimport {IconButton, Typography} from \"@mui/material\";\r\nimport {ModalWindowBox} from \"../index\";\r\nimport cn from \"classnames\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport Input from \"../Input\";\r\nimport {LoadingButton} from \"@mui/lab\";\r\nimport {useFormik} from \"formik\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\nimport {createTemplate, updateTemplate} from \"../../../store/search/template.slice\";\r\nimport {TemplateType} from \"../../../store/search/template.types\";\r\nimport Snackbar from \"../Snackbar\";\r\nimport {translate} from \"../../../localizations\";\r\n\r\nconst useStyles = makeStyles(({\r\n  mwTitle: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: '20px',\r\n  },\r\n  mwTitleText: {\r\n    fontWeight: '700 !important',\r\n  },\r\n  mwIconButton: {},\r\n  mwText: {\r\n    color: \"#738094 !important\",\r\n  },\r\n  mwHelp: {\r\n    marginBottom: '35px !important'\r\n  },\r\n  mwButtonBox: {\r\n    marginTop: '25px',\r\n    textAlign: 'right',\r\n    '& .MuiButton-contained': {\r\n      textTransform: 'none !important'\r\n    },\r\n    '& .MuiButton-contained.Mui-disabled': {\r\n      backgroundColor: 'rgba(114, 46, 209, 0.3)',\r\n      color: '#fff !important'\r\n    }\r\n  }\r\n}));\r\n\r\ntype CreateNameTemplateMWPropsType = {\r\n  isOpen: boolean,\r\n  handleClose: () => void,\r\n  method: 'post' | 'put' | null,\r\n  currentTemplate: TemplateType | null\r\n};\r\n\r\nconst CreateNameTemplateModalWindow: FC<CreateNameTemplateMWPropsType> = ({\r\n                                                                            isOpen, handleClose,\r\n                                                                            method,\r\n                                                                            currentTemplate\r\n                                                                          }) => {\r\n\r\n  const activeCriterias = useAppSelector(state => state.search.activeCriterias);\r\n  const defaultCriterias = useAppSelector(state => state.search.defaultCriterias);\r\n  const dispatch = useDispatch();\r\n\r\n  const [disabled, setDisabled] = useState<boolean>(true);\r\n\r\n  const validate = (values: { name: string }) => {\r\n    if (values.name.length < 1) {\r\n      setDisabled(true);\r\n    } else {\r\n      setDisabled(false);\r\n    }\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: ''\r\n    },\r\n    validate,\r\n    onSubmit: async (values) => {\r\n      setLoading(true);\r\n      if (method === 'put' && currentTemplate) {\r\n        await dispatch(updateTemplate({...currentTemplate, title: values.name}));\r\n        handleClose();\r\n        values.name = '';\r\n      }\r\n      if (method === 'post') {\r\n        const localDefaultCriterias = [];\r\n        for (let i = 0; i < defaultCriterias.length; i++) {\r\n          if (defaultCriterias[i].values.length > 0) {\r\n            localDefaultCriterias.push(defaultCriterias[i])\r\n          }\r\n        }\r\n        await dispatch(createTemplate({\r\n          title: values.name,\r\n          items: [...localDefaultCriterias, ...activeCriterias]\r\n        }));\r\n        handleClose();\r\n        values.name = '';\r\n      }\r\n      setSnackbar(true);\r\n      setLoading(false);\r\n      setDisabled(true);\r\n    },\r\n  });\r\n  const classes = useStyles();\r\n\r\n  const {language} = useAppSelector(state => state.lang);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [snackbar, setSnackbar] = useState<boolean>(false);\r\n\r\n  return (\r\n    <div>\r\n      <Snackbar\r\n        type={'success'}\r\n        open={snackbar}\r\n        onClose={() => {\r\n          setSnackbar(false);\r\n        }}\r\n        text={method === 'put' ? 'ÐÐ¼Ñ ÑÐ°Ð±Ð»Ð¾Ð½Ð° Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¾' : 'ÐÐ¾Ð²ÑÐ¹ ÑÐ°Ð±Ð»Ð¾Ð½ ÑÐ¾Ð·Ð´Ð°Ð½'}\r\n        time={2000}\r\n      />\r\n\r\n      <ModalWindowBox\r\n        isMWOpen={isOpen}\r\n        handleMWClose={handleClose}\r\n\r\n        text={\"ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð¸Ð¼Ñ ÑÐ°Ð±Ð»Ð¾Ð½Ð°\"}\r\n      >\r\n        <form onSubmit={formik.handleSubmit}>\r\n          <Input\r\n            name={\"name\"}\r\n            type={\"text\"}\r\n            handleChange={formik.handleChange}\r\n            value={formik.values.name}\r\n            bcColor={\"#EEF2F6\"}\r\n            label={\"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ\"}\r\n            autoComplete=\"off\"\r\n          />\r\n\r\n          {/* ÐÐ½Ð¾Ð¿Ð¾Ð½ÑÐºÐ¸ */}\r\n          <LoadingButton\r\n            loading={loading}\r\n            style={{marginRight: '15px'}}\r\n            variant=\"contained\"\r\n            type=\"submit\"\r\n            color={\"primary\"}\r\n          >\r\n            {translate(\"sendButton\", language)}\r\n          </LoadingButton>\r\n\r\n        </form>\r\n      </ModalWindowBox>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateNameTemplateModalWindow;","import React, {FC, useEffect, useState} from 'react';\r\nimport {IconButton, Typography} from \"@mui/material\";\r\nimport {ModalWindowBox} from \"../index\";\r\nimport cn from \"classnames\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport {LoadingButton} from \"@mui/lab\";\r\nimport {useFormik} from \"formik\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\nimport {deleteTemplate, templateSlice} from \"../../../store/search/template.slice\";\r\nimport {searchSlice} from \"../../../store/search/search.slice\";\r\nimport {TemplateType} from \"../../../store/search/template.types\";\r\nimport Snackbar from \"../Snackbar\";\r\nimport {translate} from \"../../../localizations\";\r\n\r\nconst useStyles = makeStyles(({\r\n  mwTitle: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: '15px'\r\n  },\r\n  mwTitleText: {\r\n    fontWeight: '700 !important'\r\n  },\r\n  mwIconButton: {},\r\n  mwText: {\r\n    color: \"#738094 !important\",\r\n  },\r\n  mwHelp: {\r\n    marginBottom: '35px !important'\r\n  },\r\n  mwButtonBox: {\r\n    marginTop: '25px',\r\n    textAlign: 'right'\r\n  }\r\n}));\r\n\r\ntype CreateNameTemplateMWPropsType = {\r\n  isOpen: boolean,\r\n  handleClose: () => void,\r\n  currentTemplate: TemplateType | null\r\n};\r\n\r\nconst CreateNameTemplateModalWindow: FC<CreateNameTemplateMWPropsType> = (\r\n  {\r\n    isOpen,\r\n    handleClose,\r\n    currentTemplate\r\n  }\r\n) => {\r\n  const allTemplates = useAppSelector(state => state.template.allTemplates);\r\n  const dispatch = useDispatch();\r\n  const getTemplate = () => {\r\n    if (allTemplates && currentTemplate) {\r\n      return allTemplates.find((item) => {\r\n        return item.title === currentTemplate.title;\r\n      });\r\n    }\r\n  };\r\n\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [snackbar, setSnackbar] = useState<boolean>(false);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: '',\r\n    },\r\n    onSubmit: async (values) => {\r\n      const template = getTemplate();\r\n      if (template) {\r\n        setLoading(true);\r\n        await dispatch(deleteTemplate(template.id));\r\n        dispatch(templateSlice.actions.setCurrentTemplate(null));\r\n        dispatch(searchSlice.actions.setClearDefaultCriteriasValues(null));\r\n        dispatch(searchSlice.actions.removeAllActiveCriterias(null));\r\n        handleClose();\r\n        setLoading(false);\r\n        setSnackbar(true);\r\n      }\r\n    },\r\n  });\r\n  const classes = useStyles();\r\n  const {language} = useAppSelector(state => state.lang);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setSnackbar(false);\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <Snackbar\r\n        type={'success'}\r\n        open={snackbar}\r\n        onClose={() => {\r\n          setSnackbar(false);\r\n        }}\r\n        text={'Ð¨Ð°Ð±Ð»Ð¾Ð½ ÑÐ´Ð°Ð»ÐµÐ½'}\r\n        time={2000}\r\n      />\r\n\r\n      <ModalWindowBox\r\n        isMWOpen={isOpen}\r\n        handleMWClose={handleClose}\r\n        text={\"ÐÑ ÑÐ²ÐµÑÐµÐ½Ñ, ÑÑÐ¾ ÑÐ¾ÑÐ¸ÑÐµ ÑÐ´Ð°Ð»Ð¸ÑÑ ÑÐ°Ð±Ð»Ð¾Ð½?\"}\r\n      >\r\n        <form onSubmit={formik.handleSubmit}>\r\n          <div className={classes.mwButtonBox}>\r\n            <LoadingButton\r\n              loading={loading}\r\n              type=\"submit\"\r\n              style={{marginRight: '15px'}}\r\n              variant=\"contained\"\r\n              color=\"error\"\r\n            >\r\n              {translate(\"deleteButton\", language)}\r\n            </LoadingButton>\r\n            <LoadingButton\r\n              onClick={handleClose}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n            >\r\n              {translate(\"cancelButtonMW\", language)}\r\n            </LoadingButton>\r\n          </div>\r\n        </form>\r\n      </ModalWindowBox>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateNameTemplateModalWindow;\r\n","import {makeStyles} from \"@mui/styles\";\r\nimport {Theme} from \"@mui/material\";\r\n\r\ntype TextSelectStylesType = {\r\n  arrowColor?: string\r\n}\r\n\r\nexport const useMuiTextSelectStyles = makeStyles<Theme, TextSelectStylesType>((theme: Theme) => ({\r\n  selectBox: {\r\n    position: 'relative'\r\n  },\r\n  selectArrow: {\r\n    fill: props => props.arrowColor ? props.arrowColor : '#000',\r\n    margin: '0 7px'\r\n  },\r\n  selectArrowOnTopBox: {\r\n    marginBottom: '5px'\r\n  },\r\n}));\r\n\r\ntype createCustomTextSelectStylesParamsType = {\r\n  width?: string,\r\n  menuPosition: 'right' | 'left',\r\n}\r\n\r\nexport function createTextSelectStyles({width, menuPosition}: createCustomTextSelectStylesParamsType) {\r\n  return {\r\n    menu: (provided: any, state: any) => ({\r\n      ...provided,\r\n      width: width ? width : '322px',\r\n      right: menuPosition === 'right' && '0',\r\n      overflow: 'hidden',\r\n      overflowY: 'auto',\r\n      zIndex: '1000',\r\n      margin: '0',\r\n      '&::-webkit-scrollbar': {\r\n        width: '4px',\r\n        backgroundColor: '#f1f1f1',\r\n        outline: 'none',\r\n      },\r\n      '&::-webkit-scrollbar-thumb': {\r\n        background: '#A3AEBE',\r\n        height: '50px',\r\n        borderRadius: '10px'\r\n      },\r\n      '&::-webkit-scrollbar-thumb:hover': {\r\n        background: '#9298A1'\r\n      }\r\n    }),\r\n    menuList: (provided: any, state: any) => ({\r\n      ...provided,\r\n    }),\r\n    option: (provided: any, state: any) => ({\r\n      cursor: 'pointer',\r\n      padding: '10px 24px',\r\n      fontFamily: 'Inter, sans-serif',\r\n      fontSize: '14px',\r\n      backgroundColor: '#ffffff',\r\n      color: '#000',\r\n      \"&:hover\": {\r\n        backgroundColor: '#F8FAFC',\r\n        color: '#722ED1'\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n//control: (provided: any, state: any) => ({\r\n//       ...provided,\r\n//       display: 'flex',\r\n//       flexDirection: iconPosition === 'left' ? 'row-reverse' : 'row',\r\n//       border: 'none',\r\n//       minHeight: '24px',\r\n//       cursor: 'pointer',\r\n//       boxShadow: 'none',\r\n//       borderRadius: '0px',\r\n//       \"&:hover\": {\r\n//         borderColor: 'none'\r\n//       },\r\n//       fontFamily: 'Inter, sans-serif',\r\n//       minWidth: '100px',\r\n//       backgroundColor: 'none'\r\n//     })","import React from \"react\";\r\n\r\nexport const OnTopArrow = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"8\" height=\"5\" viewBox=\"0 0 8 5\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M7.39101 4.59994C7.17176 4.83662 6.81636 4.83662 6.59711 4.59994L3.9999 1.79621L1.40271 4.59994C1.18347 4.83662 0.828006 4.83662 0.608766 4.59994C0.389526 4.36325 0.389526 3.97957 0.608766 3.74288L3.60295 0.510518C3.8222 0.273838 4.1776 0.273838 4.39685 0.510518L7.39101 3.74288C7.61026 3.97957 7.61026 4.36325 7.39101 4.59994Z\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const OnBottomArrow = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"8\" height=\"5\" viewBox=\"0 0 8 5\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M7.39101 0.400166C7.61026 0.636846 7.61026 1.02059 7.39101 1.25725L4.39685 4.48958C4.1776 4.72627 3.8222 4.72627 3.60295 4.48958L0.608766 1.25725C0.389526 1.02059 0.389526 0.636846 0.608766 0.400166C0.828006 0.163486 1.18347 0.163486 1.40271 0.400166L3.9999 3.20392L6.59711 0.400166C6.81636 0.163486 7.17176 0.163486 7.39101 0.400166Z\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const PlusSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M5.99941 0C6.43163 0 6.78201 0.350386 6.78201 0.782609V11.2174C6.78201 11.6496 6.43163 12 5.99941 12C5.56718 12 5.2168 11.6496 5.2168 11.2174V0.782609C5.2168 0.350386 5.56718 0 5.99941 0Z\"\r\n            fill=\"#73D13D\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M0 6.00038C0 5.56816 0.350386 5.21777 0.782609 5.21777H11.2174C11.6496 5.21777 12 5.56816 12 6.00038C12 6.4326 11.6496 6.78299 11.2174 6.78299H0.782609C0.350386 6.78299 0 6.4326 0 6.00038Z\"\r\n            fill=\"#73D13D\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const MinusSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M0 6.00038C0 5.56816 0.350386 5.21777 0.782609 5.21777H11.2174C11.6496 5.21777 12 5.56816 12 6.00038C12 6.4326 11.6496 6.78299 11.2174 6.78299H0.782609C0.350386 6.78299 0 6.4326 0 6.00038Z\"\r\n            fill=\"#597EF7\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const CrossSvgWithBg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <circle cx=\"8\" cy=\"8\" r=\"8\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M11.1618 4.83785C11.3896 5.06567 11.3896 5.43503 11.1618 5.66285L5.66187 11.1628C5.43406 11.3906 5.06469 11.3906 4.83688 11.1628C4.60906 10.935 4.60906 10.5656 4.83688 10.3378L10.3368 4.83785C10.5646 4.61004 10.934 4.61004 11.1618 4.83785Z\"\r\n            fill=\"white\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M4.83688 4.83785C5.06469 4.61004 5.43406 4.61004 5.66187 4.83785L11.1618 10.3378C11.3896 10.5656 11.3896 10.935 11.1618 11.1628C10.934 11.3906 10.5646 11.3906 10.3368 11.1628L4.83688 5.66285C4.60906 5.43503 4.60906 5.06567 4.83688 4.83785Z\"\r\n            fill=\"white\"/>\r\n    </svg>\r\n  );\r\n};\r\n","import React, {FC, useEffect, useState, memo} from 'react';\r\nimport Select, {components} from \"react-select\";\r\nimport {useMuiTextSelectStyles} from \"./TextSelect.jss\";\r\nimport {createTextSelectStyles} from './TextSelect.jss';\r\nimport {CrossSvgWithBg, OnBottomArrow, OnTopArrow, PlusSvg, MinusSvg} from \"./TextSelect.svg\";\r\nimport {templateSlice} from \"../../../../store/search/template.slice\";\r\nimport {searchSlice} from \"../../../../store/search/search.slice\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n// TYPES BLOCK\r\ntype SelectValueFormat = {\r\n  value: any | null, label: string | null\r\n};\r\n\r\ntype TextSelectPropsType = {\r\n  value: SelectValueFormat | null,\r\n  handleValueChange: (event: any) => void,\r\n  options: SelectValueFormat[],\r\n\r\n  iconPosition?: 'left' | 'right',\r\n  icon?: any,\r\n\r\n  customControl: any,\r\n\r\n  notClose?: boolean,\r\n  menuPosition: 'left' | 'right',\r\n\r\n  width?: string,\r\n  height?: string,\r\n  ifArrowColor?: string,\r\n\r\n  name: string\r\n};\r\n\r\n\r\nconst TextSelect: FC<TextSelectPropsType> = (\r\n  {\r\n    value,\r\n    handleValueChange,\r\n    options,\r\n    icon,\r\n    iconPosition,\r\n    customControl,\r\n    notClose,\r\n    menuPosition,\r\n    width,\r\n    height,\r\n    ifArrowColor,\r\n\r\n    name\r\n  }\r\n) => {\r\n  const customSelectStyles = createTextSelectStyles({width, menuPosition});\r\n  const classes = useMuiTextSelectStyles({arrowColor: ifArrowColor});\r\n  const dispatch = useDispatch();\r\n\r\n  // COMPONENTS BLOCK\r\n  const Arrow = memo(() => {\r\n    if (isMenuOpen) {\r\n      return <div className={classes.selectArrowOnTopBox}>\r\n        <OnTopArrow className={classes.selectArrow}/>\r\n      </div>\r\n    }\r\n    return <OnBottomArrow className={classes.selectArrow}/>\r\n  });\r\n  const Control: FC<any> = ({children, ...props}) => (\r\n    <div style={{display: 'flex', alignItems: 'center', cursor: 'pointer', margin: '2px'}}>\r\n      <div style={{display: 'flex', alignItems: 'center'}} onClick={handleSelectClick}>\r\n        {iconPosition === 'left' ? icon ? icon : <Arrow/> : null}\r\n        {customControl}\r\n        {iconPosition === 'right' ? icon ? icon : <Arrow/> : null}\r\n      </div>\r\n      {name === 'templatesSelect' && value &&\r\n      <CrossSvgWithBg\r\n        style={{fill: '#722ED1', cursor: 'pointer', marginLeft: '15px'}}\r\n        onClick={() => {\r\n          dispatch(templateSlice.actions.setCurrentTemplate(null));\r\n          dispatch(searchSlice.actions.setClearDefaultCriteriasValues(null));\r\n          dispatch(searchSlice.actions.removeAllActiveCriterias(null));\r\n        }}\r\n      />\r\n      }\r\n    </div>\r\n  );\r\n  const CustomMenuList = memo(({selectProps, ...props}: any) => {\r\n    return (\r\n      <div style={{height: `${height ? height : 'auto'}`}}>\r\n        {props.children}\r\n      </div>\r\n    );\r\n  });\r\n  const CustomOption: FC<any> = ({children, ...props}) => {\r\n    return (\r\n      <components.Option {...props}>\r\n        <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', cursor: 'pointer'}}>\r\n          {children}\r\n          {props.data.icon === 'plus' ? <PlusSvg/> : <MinusSvg/>}\r\n        </div>          \r\n      </components.Option>\r\n    );\r\n  };\r\n\r\n  // LOGIC BLOCK\r\n\r\n  // Ð²ÑÐ¿Ð¾Ð»Ð½ÑÐµÑÑÑ ÐºÐ¾Ð³Ð´Ð° Ð¼ÐµÐ½ÑÐµÑÑÑ Ð·Ð½Ð°ÑÐµÐ½Ð¸Ðµ.\r\n  const handleSelectChange = (event: any) => {\r\n    if (notClose) {\r\n      handleValueChange(event);\r\n    } else {\r\n      handleValueChange(event);\r\n      setIsMenuOpen(false);\r\n    }\r\n  };\r\n\r\n  // Ð²ÑÐ¿Ð¾Ð»Ð½ÑÐµÑÑÑ ÐºÐ»Ð¸ÐºÐµ Ð½Ð° ÑÐµÐ»ÐµÐºÑÐ°.\r\n  const handleSelectClick = () => {\r\n    setIsMenuOpen(true);\r\n  };\r\n\r\n  // Ð¾ÑÐºÑÑÑÐµ Ð¸ Ð·Ð°ÐºÑÑÑÐ¸Ðµ Ð¼ÐµÐ½ÑÑÐºÐ¸.\r\n  const [isMenuOpen, setIsMenuOpen] = useState<boolean>(false);\r\n\r\n  // ÐºÐ¾ÑÑÑÐ»ÐµÑÐµÐº Ð´Ð»Ñ Ð·Ð°Ð³ÑÑÑÐ¸Ñ Ð¼ÐµÐ½ÑÑÐºÐ¸.\r\n  useEffect(() => {\r\n    document.addEventListener(\"mousedown\", () => setIsMenuOpen(false));\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", () => setIsMenuOpen(false));\r\n    };\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className={classes.selectBox}>\r\n      <Select\r\n        styles={customSelectStyles}\r\n        options={options}\r\n        value={value}\r\n        openMenuOnFocus={true}\r\n        menuIsOpen={isMenuOpen}\r\n        isClearable={true}\r\n        closeMenuOnSelect={false}\r\n        isSearchable={false}\r\n        hideSelectedOptions={false}\r\n        onChange={handleSelectChange}\r\n        components={{\r\n          IndicatorsContainer: () => null,\r\n          Control: Control,\r\n          MenuList: CustomMenuList,\r\n          Option: CustomOption,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextSelect;\r\n","export function optionsCreator(state: any | null) {\r\n  if (state) {\r\n    let local: { value: any, label: string }[] = [];\r\n    for (let i = 0; i < state.length; i++) {\r\n      local.push({value: state[i], label: state[i].title});\r\n    }\r\n    return local\r\n  }\r\n  return [];\r\n};\r\n\r\n\r\n// VEL - value equal label\r\nexport function optionsCreatorVEL(state: any) {\r\n  if (state) {\r\n    let local: { value: any, label: string }[] = [];\r\n    for (let i = 0; i < state.length; i++) {\r\n      local.push({value: state[i], label: state[i]});\r\n    }\r\n    // debugger\r\n    return local\r\n  }\r\n  return [];\r\n}\r\n\r\nexport function optionsCreatorWithName(state: any | null) {\r\n  if (state) {\r\n    let local: { value: any, label: string }[] = [];\r\n    for (let i = 0; i < state.length; i++) {\r\n      local.push({value: state[i].id, label: state[i].name});\r\n    }\r\n    return local\r\n  }\r\n  return [];\r\n};\r\n\r\nexport function optionsCreatorWithKey(state: any) {\r\n  if (state) {\r\n    let local: {value: any, label: string}[] = [];\r\n    for (let i = 0; i < state.length; i++) {\r\n      local.push({value: state[i].key, label: state[i].title});\r\n    }\r\n    return local;\r\n  }\r\n  return [];\r\n}","import {styled} from \"@mui/styles\";\r\nimport {Checkbox, CheckboxProps} from \"@mui/material\";\r\nimport * as React from \"react\";\r\n\r\nconst BpIcon = styled('span')(({theme}: any) => ({\r\n  borderRadius: 5,\r\n  border: '1px solid #A3AEBE',\r\n  width: 16,\r\n  height: 16,\r\n  backgroundColor: '#E3E8EF',\r\n}));\r\n\r\nconst BpCheckedIcon = styled(BpIcon)({\r\n  backgroundColor: '#722ED1',\r\n  borderColor: '#722ED1',\r\n  '&:before': {\r\n    display: 'block',\r\n    width: 16,\r\n    height: 16,\r\n    backgroundImage:\r\n      \"url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath\" +\r\n      \" fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 \" +\r\n      \"1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\\\")\",\r\n    content: '\"\"',\r\n  },\r\n  'input:hover ~ &': {\r\n    backgroundColor: '#722ED1',\r\n  },\r\n});\r\n\r\nconst CustomCheckbox = (props: CheckboxProps) => {\r\n  return (\r\n    <Checkbox\r\n      sx={{\r\n        '&:hover': {bgcolor: 'transparent'},\r\n        padding: '0'\r\n      }}\r\n      disableRipple\r\n      color=\"default\"\r\n      checkedIcon={<BpCheckedIcon/>}\r\n      icon={<BpIcon/>}\r\n      inputProps={{'aria-label': 'Checkbox demo'}}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport default CustomCheckbox;\r\n","import {createAsyncThunk, createSlice, PayloadAction, current} from \"@reduxjs/toolkit\";\r\nimport {\r\n  ReportsType, \r\n  ReportItemType, \r\n  CallReportType, \r\n  CallReportItem,\r\n  CallReportItemValues, \r\n  CallReportItemCols,\r\n  CallReportItemColsValues, \r\n  CallReportItemRow, \r\n  ReportParametersType, \r\n  ColsGroupByParametresType, \r\n  SelectorsValuesParametresType,\r\n  defaultParamType\r\n  } from \"./reports.types\";\r\nimport {instance} from \"../api\";\r\nimport {RootState} from \"../store\";\r\nimport cloneDeep from \"lodash.clonedeep\";\r\n\r\nexport const getAllReports = createAsyncThunk(\r\n    'reports/getAllReports',\r\n    async (payload, thunkAPI) => {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const response = await instance.get(`reports`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      console.log(response.data);\r\n      thunkAPI.dispatch(reportsSlice.actions.setReports(response.data));\r\n    }\r\n);\r\n\r\nconst convertDate = (date: Date | null) => {\r\n  if (date) {\r\n    const yyyy = date.getFullYear();\r\n    const mm = date.getMonth() + 1; // Months start at 0!\r\n    let strMm = `${mm}`;\r\n\r\n    const dd = date.getDate();\r\n    let strDd = `${dd}`;\r\n\r\n    if (mm < 10) strMm = `0${mm}`;\r\n    if (dd < 10) strDd = `0${dd}`;\r\n    return `${yyyy}-${strMm}-${strDd}`;\r\n  }\r\n  return date;\r\n};\r\nconst convertCriterias = (activeCriterias: any) => {\r\n  let requestArray = [];\r\n  // if (activeCriterias.length === 0) return []\r\n  for (let i = 0; i < activeCriterias.length; i++) {\r\n    if (activeCriterias[i].values.length > 0) {\r\n      requestArray.push({key: activeCriterias[i].key, values: activeCriterias[i].values});\r\n    }\r\n  }\r\n  return requestArray;\r\n};\r\n// here\r\nconst convertColumn = (obj: any, parameters: any) => {\r\n  // if (parameters.length === 0) return []\r\n  let activeReport = cloneDeep(obj);\r\n  let local = [ ...parameters];\r\n  if(activeReport.cols_group_by[0].group_by === 'tag') return activeReport;\r\n  else {\r\n    let local2 = {...activeReport.cols_group_by[0].value, search_items: local};\r\n    activeReport.cols_group_by[0].value = local2;\r\n    return activeReport; \r\n  }  \r\n}\r\nconst convertColsGroupBy = (obj: any, parameters: any) => {\r\n  let activeReport = {...obj};\r\n  let local: any = [];\r\n  // if (parameters.length === 0) {\r\n  //   activeReport.cols_group_by = [];\r\n  //   return activeReport;\r\n  // }\r\n\r\n  for (let i = 0; i < parameters.length; i++) {\r\n    for (let j = 0; j <parameters[i].length; j++) {\r\n      if (!parameters[i][j].select.value) {\r\n        return\r\n      }\r\n      else {\r\n        if (parameters[i][j].select.value.type === 'boolean') {\r\n          local.push({group_by: parameters[i][j].select.value.value})\r\n        }\r\n        if (parameters[i][j].select.value.type === 'select-tag') {\r\n          debugger\r\n          local.push({group_by: parameters[i][j].select.value.value, value: parameters[i][j].tagsVal.value.value});\r\n        }\r\n        if (parameters[i][j].select.value.type === 'title') {\r\n          // @ts-ignores\r\n          local.push( {\r\n            group_by: parameters[i][j].select.value.value,\r\n            value: {\r\n            // @ts-ignore\r\n            col_name: parameters[i][j].nameColumn.value,\r\n            search_items: [{\r\n              // @ts-ignore\r\n              key: parameters[i][j].op.value.value.key,\r\n              values: parameters[i][j].opTags.values,\r\n            }]\r\n            }\r\n          })\r\n        }\r\n      }\r\n    }  \r\n  }   \r\n  let local2 = [...activeReport.cols_group_by, ...local];\r\n  activeReport.cols_group_by = local2;\r\n  return activeReport; \r\n}\r\nconst convertCallSearch = (callSearchArr: any, arr: any) => {\r\n  const local = {...arr};\r\n  local.call_search_items = callSearchArr;\r\n  return local\r\n}\r\n\r\nexport const setReports = createAsyncThunk(\r\n  'reports/setReports',\r\n  async (payload, thunkAPI) => {\r\n  try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      // @ts-ignore;\r\n      const state: RootState = thunkAPI.getState();\r\n\r\n      const requestCriterias = convertCriterias(state.search.activeCriteriasReports);\r\n      const requestSearchItemsColumn = convertCriterias(state.search.activeCriteriasColumn);\r\n      const requestFilters = convertColumn(state.reports.activeReport, requestSearchItemsColumn);\r\n      const requestRowsGroupBy = convertColsGroupBy(requestFilters, state.reports.activeParameters);\r\n      const requestData = convertCallSearch(requestCriterias, requestRowsGroupBy);\r\n      console.log(requestData);\r\n\r\n      const response = await instance.post(`reports`, requestData, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch(error) {\r\n      console.log(error);\r\n      console.log(payload);\r\n    }\r\n  }\r\n);\r\n\r\n\r\nexport const getReport = createAsyncThunk(\r\n  'reports/getReport',\r\n  async (payload: string, thunkAPI) => {\r\n    try{\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const response = await instance.get(`reports/${payload}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      console.log(payload)\r\n      console.log(response.data)\r\n      thunkAPI.dispatch(reportsSlice.actions.setActiveReport(response.data));\r\n      // thunkAPI.dispatch(reportsSlice.actions.setCurrentReportItem(response.data))\r\n      // thunkAPI.dispatch(getCallReport(response.data))\r\n      return\r\n    } catch(error) {\r\n      console.log(error)\r\n      console.log(payload)\r\n    }\r\n  }\r\n)\r\n\r\n\r\n\r\nexport const getCallReport = createAsyncThunk(\r\n  'make_report/calls/getCallReport',\r\n  async (payload, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      // @ts-ignore;\r\n      const state: RootState = thunkAPI.getState();\r\n      // @ts-ignore;\r\n      let startDate = convertDate(state.reports.date[0]);\r\n      // @ts-ignore;\r\n      let endDate = convertDate(state.reports.date[1]);\r\n\r\n      const requestCriterias = convertCriterias(state.search.activeCriteriasReports);\r\n      console.log(state.search.activeCriteriasColumn);\r\n\r\n      const requestSearchItemsColumn = convertCriterias(state.search.activeCriteriasColumn);\r\n      console.log(requestSearchItemsColumn);\r\n\r\n      const requestFilters = convertColumn(state.reports.activeReport, requestSearchItemsColumn);\r\n      const requestRowsGroupBy = convertColsGroupBy(requestFilters, state.reports.activeParameters);\r\n      const requestData = convertCallSearch(requestCriterias, requestRowsGroupBy);\r\n      console.log(requestData);\r\n\r\n\r\n      // const requestCriterias = convertCriterias(state.search.activeCriteriasReports);\r\n      // const requestRowsGroupBy = convertRowsGroupBy(state.reports.activeReport, state.reports.activeParameters);\r\n      // const requestData = convertCallSearch(requestCriterias, requestRowsGroupBy);\r\n      // console.log(requestData);\r\n    \r\n      const response = await instance.post(`reports/make/calls/?start_date=${startDate}&end_date=${endDate}`, requestData, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      console.log(response.data)\r\n      // Ð¿Ð¾ÑÐ¾Ð±Ð¾Ð²Ð°ÑÑ ÑÑÐ¾\r\n      // thunkAPI.dispatch(reportsSlice.actions.setActiveReport(response.data))\r\n\r\n      thunkAPI.dispatch(reportsSlice.actions.setCallReport(response.data))\r\n      return response.data\r\n    } catch(error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n)\r\n\r\nexport const deleteReport = createAsyncThunk(\r\n  'reports/deleteReport',\r\n  async (payload: string, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const response = await instance.delete(`reports/${payload}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      console.log(payload)\r\n      console.log(response.data)\r\n\r\n      thunkAPI.dispatch(getAllReports())\r\n    } catch(error) {\r\n      console.log(error)\r\n      console.log(payload)\r\n    }\r\n  }\r\n)\r\n\r\nexport const getSelectors = createAsyncThunk(\r\n  'reports/getSelectors',\r\n  async (payload, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const response = await instance.get(`reports/selectors`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n       \r\n      });\r\n      thunkAPI.dispatch(reportsSlice.actions.getSelectorsValues(response.data));\r\n\r\n    } catch(error) {\r\n      console.log(error)\r\n      console.log(payload)\r\n    }\r\n  }\r\n)\r\n\r\nexport const getTagNames = createAsyncThunk(\r\n  'users/getTagNames',\r\n  async(payload, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const response = await instance.get(`tag_names?only_with_values=true`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      thunkAPI.dispatch(reportsSlice.actions.setTagNames(response.data));\r\n      return response.data;\r\n     \r\n      } catch(error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n);\r\n\r\n\r\ntype InitialStateType = {\r\n  allReports: ReportsType[],\r\n  currentSavedReport: {},\r\n  callReport: CallReportType,\r\n  date: Date[] | null[],\r\n  activeReport: ReportParametersType,\r\n  selectors: SelectorsValuesParametresType,\r\n  activeParameters: defaultParamType[][],\r\n  tagNames: [] | null,\r\n  tableRows: [],\r\n  tableColumns: [],\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n  allReports: [],\r\n  currentSavedReport: {}, \r\n\r\n  //ÑÐ°Ð·Ð¾Ð±ÑÐ°ÑÑÑÑ Ð¸ Ð¿Ð¾ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑÐ¸ ÑÐ±ÑÐ°ÑÑ ÐµÐ³Ð¾\r\n  callReport: {\r\n    report: {\r\n      cols: [],\r\n      rows: [],\r\n      total_calls: 0,\r\n      row_group_header: '',\r\n      values: {\r\n        cols: {},\r\n        row_info: {\r\n          row_percent_count_from_total: 0,\r\n          row_total_calls_count: 0,\r\n          row_total_calls_minutes: 0,\r\n        }\r\n      }\r\n    },\r\n    diff_report: {},\r\n    report_parameters_hash: '',\r\n  },\r\n\r\n  \r\n  date: [new Date(Date.now() -  24 * 7 * 60 * 60 * 1000), new Date(Date.now())],\r\n  activeReport: {\r\n    report_name: '',\r\n    report_type: '',\r\n    rows_group_by: {},\r\n    cols_group_by: [],\r\n    call_search_items: []\r\n  },\r\n  selectors: {\r\n    cols_groupings : [],\r\n    groupings_by_time: [],\r\n    report_types: [],\r\n    rows_groupings: [],\r\n  },\r\n  activeParameters: [],\r\n  tagNames: [],\r\n\r\n  tableRows: [],\r\n  tableColumns: [],\r\n}\r\n\r\nexport const reportsSlice = createSlice({\r\n  name: 'reports',\r\n  initialState,\r\n  reducers: {\r\n    setReports(state, action: PayloadAction<[]>) {\r\n      state.allReports = action.payload;\r\n    },\r\n\r\n    setActiveReport(state, action: any) {\r\n      state.activeReport = action.payload;\r\n    },\r\n    setCurrentSavedReport(state, action: any) {\r\n      state.currentSavedReport = action.payload;\r\n    },\r\n\r\n    setCallReport(state, action: any) {\r\n      state.callReport = action.payload;\r\n      state.callReport.report = action.payload.report;\r\n      state.callReport.diff_report = action.payload.diff_report;        \r\n      state.callReport.report_parameters_hash = action.payload.report_parameters_hash;\r\n    },\r\n    setDate(state, action: PayloadAction<typeof initialState.date | null[]>) {\r\n      state.date = action.payload;\r\n    },\r\n\r\n    setTagNames(state, action: PayloadAction<[]>) {\r\n      state.tagNames = action.payload;\r\n    },\r\n\r\n    getSelectorsValues(state, action: any) {\r\n      state.selectors = action.payload;\r\n      state.activeReport.report_type = action.payload.report_types[0];\r\n      state.activeReport.rows_group_by = action.payload.rows_groupings[0];\r\n      if (action.payload.cols_groupings[0] === 'tag') {\r\n        // ?? ÐºÐ°Ðº ÑÑÑ Ð¿Ð¾Ð»ÑÑÐ¸ÑÑ Ð·Ð½Ð°ÑÐµÐ½Ð¸Ñ ÑÐµÐ³Ð¾Ð²??\r\n        //@ts-ignore\r\n        state.activeReport.cols_group_by = [{group_by: action.payload.cols_groupings[0], value: state.tagNames[0]}]\r\n      }\r\n      if (action.payload.rows_groupings[0] === 'time') {\r\n        state.activeReport.rows_group_by = {group_by: action.payload.rows_groupings[0], value: action.payload.groupings_by_time[0]}\r\n      }\r\n    },\r\n\r\n    // ÑÑÑÐ°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð²ÑÐµÑ Ð¿Ð°ÑÐ°Ð¼ÐµÑÑÐ¾Ð² Ð¾ÑÑÐµÑÐ° Ð¿Ð¾ Ð¿Ð¾ÑÑÐ´ÐºÑ\r\n    setNameReport(state, action: any) {\r\n      state.activeReport.report_name = action.payload;\r\n    },\r\n    setTypeReport(state, action: any) {\r\n      state.activeReport.report_type = action.payload;\r\n    },\r\n    setActiveRowsGroupBy(state, action: any) {\r\n      state.activeReport.rows_group_by = action.payload;\r\n    },\r\n\r\n    // Ð¿ÐµÑÐ²Ð°Ñ Ð´ÐµÑÐ¾Ð»ÑÐ½Ð°Ñ Ð³ÑÑÐ¿Ð¿Ð¸ÑÐ¾Ð²ÐºÐ° Ð¿Ð¾ ÑÑÐ¾Ð»Ð±ÑÐ°Ð¼\r\n    setDefaultColsGroupBy(state, action: any) {\r\n      if (action.payload.group_by.value === 'calls_count' || action.payload.group_by.value === 'stt_engine') {\r\n        state.activeReport.cols_group_by[0] = {group_by: action.payload.group_by.value};\r\n      }\r\n    },\r\n    // Ð¿Ð¾ ÑÐµÐ³Ñ\r\n    setDefaultColsTagGroupBy(state, action: any) {\r\n      state.activeReport.cols_group_by[0] = {group_by: 'tag', value: action.payload.group_by.value};\r\n    },\r\n\r\n    // Ð¿Ð¾ search items\r\n    setDefaultColsTitleGroupBy(state, action: any) {\r\n      state.activeReport.cols_group_by[0] = {\r\n        group_by: 'search_items', \r\n        // @ts-ignore\r\n        value: {\r\n          col_name: action.payload.col_name,\r\n          // search_items: [ \r\n             // @ts-ignore\r\n            // {\r\n            //   key: action.payload.key,\r\n            // }\r\n          // ]\r\n        }\r\n      }\r\n    },\r\n\r\n    convertSearchItems(state, action: any) {\r\n      let requestArray: any= [];\r\n\r\n      for (let i = 0; i < action.payload.length; i++) {\r\n        if (action.payload[i].values.length > 0) {\r\n          requestArray.push({key: action.payload[i].key, values: action.payload[i].values});\r\n          // @ts-ignore\r\n          state.activeReport.cols_group_by[0].value.search_items.push({key: action.payload[i].key, values: action.payload[i].values})\r\n        }\r\n      }\r\n    },\r\n\r\n    // Ð´Ð¾Ð¿ Ð³ÑÑÐ¿Ð¿Ð¸ÑÐ¾Ð²ÐºÐ¸ Ð¿Ð¾ ÑÑÐ¾Ð»Ð±ÑÐ°Ð¼\r\n    setActiveParameters(state, action: any) {\r\n      let local: any  = [];\r\n      if (!action.payload) {\r\n        local = {};\r\n      } else {\r\n        local = action.payload;\r\n      }\r\n\r\n      let massiv = [];\r\n      for (let i = 0; i < local.length; i++) {\r\n        massiv.push({\r\n          select: {\r\n            options: local[i].select.options,\r\n            value: local[i].select.value,\r\n          },\r\n          tagsVal: {\r\n            options: local[i].tagsVal.options,\r\n            value: local[i].tagsVal.value,\r\n          },\r\n          op: {\r\n            options: local[i].op.options,\r\n            value: local[i].op.value,\r\n          },\r\n          opTags: {\r\n            values: []\r\n          },\r\n          nameColumn: {\r\n            value: '',\r\n          },\r\n\r\n          callFilters: {\r\n            //Ð²Ð¸Ð´ Ð´Ð»Ñ ÑÐµÐ»ÐµÐºÑÐ°\r\n            options: local[i].callFilters.options,\r\n            // Ð²ÑÐµ Ð² Ð¸Ð·Ð½Ð°Ñ Ð²Ð¸Ð´Ðµ\r\n            values: local[i].callFilters.values,\r\n            //Ð°ÐºÑÐ¸Ð²Ð½ÑÐµ\r\n            activeValues: local[i].callFilters.activeValues,\r\n          }\r\n        })\r\n      }\r\n    // @ts-ignore\r\n      state.activeParameters.push(massiv);\r\n    },\r\n    // Ð²ÑÐ±Ð¾Ñ ÑÐµÐ»ÐµÐºÑÐ°\r\n    setParameterSelectFieldValue(state, action: PayloadAction<{arrayIndex: number, fieldIndex: number, value: { value: any, label: string, type: string}}>) {\r\n      // @ts-ignore\r\n      state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].select.value = action.payload.value;\r\n    },\r\n    //Ð²ÑÐ±Ð¾Ñ ÑÐµÐ³Ð°\r\n    setParameterTagstFieldValue(state, action: PayloadAction<{arrayIndex: number, fieldIndex: number, value: { value: any, label: string, type: string}}>) {\r\n      // @ts-ignore\r\n      state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].tagsVal.value = action.payload.value;\r\n    },\r\n\r\n    //  Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ñ ÑÑÐ¾Ð»Ð±ÑÐ°\r\n    setNameColumnFieldValue(state, action: PayloadAction<{arrayIndex: number, fieldIndex: number, value: string}>) {\r\n      // @ts-ignore\r\n      state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].nameColumn.value = action.payload.value;\r\n    },\r\n\r\n\r\n    // Ð²ÑÐ±Ð¾Ñ ÑÐ¸Ð»ÑÑÑÐ° ÑÐµÐ³Ð°\r\n    setFilterFieldValue(state, action: PayloadAction<{arrayIndex: number, fieldIndex: number, value: { value: any, label: string, type: string}}> ) {\r\n       // @ts-ignore\r\n       state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].op.value = action.payload.value;\r\n    },\r\n    // Ð²ÑÐ±Ð¾Ñ ÑÐµÐ³Ð¾Ð² Ð¿Ð¾ ÑÐ¸Ð»ÑÑÑÑ\r\n    setFilterFieldTags(state, action: PayloadAction<{arrayIndex: number, fieldIndex: number, value: [string]}> ) {\r\n      // @ts-ignore\r\n      state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].opTags.values = action.payload.value;\r\n    },\r\n\r\n\r\n    setActiveCriteriaColumn(state,action: PayloadAction<{arrayIndex: number, fieldIndex: number, criteria: any}>) {\r\n      //@ts-ignore\r\n      state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].callFilters.activeValues = action.payload.criteria;\r\n    },\r\n    setOptionsCriterias(state, action: PayloadAction<{arrayIndex: number, fieldIndex: number, criteria: any}>){\r\n      //@ts-ignore\r\n      state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].callFilters.options = action.payload.criteria;\r\n    },\r\n    setActiveCriteriaValuesColumn(state,action: PayloadAction<{arrayIndex: number, fieldIndex: number, criteria: any}>) {\r\n      // @ts-ignore\r\n      const obj = current(state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].callFilters.values).find((item: any)=> {\r\n        return item.key === action.payload.criteria.key;\r\n      });\r\n      // @ts-ignore\r\n      const index = current(state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].callFilters.values).indexOf(obj);\r\n       // @ts-ignore\r\n      state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].callFilters[index].activeValues = action.payload.criteria.values;\r\n    },\r\n\r\n\r\n    removeActiveCriteriaColumn(state, action: PayloadAction<{arrayIndex: number, fieldIndex: number, criteria: any}>) {\r\n       // @ts-ignore\r\n      let activeCriteriasColumn = cloneDeep(current(state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].callFilters.activeValues));\r\n      console.log(activeCriteriasColumn)\r\n       // @ts-ignore\r\n      const obj = current(state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].callFilters.activeValues).find((item: any) => {\r\n        return item.key === action.payload.criteria.key\r\n      });\r\n      console.log(obj)\r\n      // @ts-ignore\r\n      const index = current(state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].callFilters.activeValues).indexOf(obj);\r\n      activeCriteriasColumn.splice(index, 1);\r\n      console.log(index)\r\n       // @ts-ignore\r\n      state.activeParameters[action.payload.arrayIndex][action.payload.fieldIndex].callFilters.activeValues = activeCriteriasColumn;\r\n    },\r\n\r\n\r\n\r\n    // ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð°ÐºÑÐ¸Ð²Ð½Ð¾Ð³Ð¾ Ð´Ð¾Ð¿ ÐºÑÐ¸ÑÐµÑÐ¸Ñ\r\n    removeParameterField(state, action: PayloadAction<{arrayIndex: number, fieldIndex: number}>) {\r\n      state.activeParameters[action.payload.arrayIndex].splice(action.payload.fieldIndex, 1);\r\n      if (state.activeParameters[action.payload.arrayIndex].length < 1) {\r\n        state.activeParameters.splice(action.payload.arrayIndex, 1);\r\n      }\r\n    },\r\n\r\n    setTableRows(state, action: any) {\r\n      state.tableRows = action.payload;\r\n    },\r\n\r\n    setTableColumns(state, action: any) {\r\n      state.tableColumns = action.payload;\r\n    },\r\n  } \r\n})","import * as React from 'react';\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport {FC, memo, useEffect, useRef, useState} from \"react\";\r\nimport {CriteriasType, RequestDataType} from \"../../../store/search/search.types\";\r\nimport {searchSlice} from \"../../../store/search/search.slice\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {Typography} from \"@mui/material\";\r\nimport Select, {components} from \"react-select\";\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport cn from 'classnames';\r\nimport Checkbox from \"../Checkbox\";\r\nimport {templateSlice} from \"../../../store/search/template.slice\";\r\nimport useOnClickOutside from \"use-onclickoutside\";\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\nimport {translate} from '../../../localizations';\r\nimport {RootState} from \"../../../store/store\";\r\nimport { reportsSlice } from '../../../store/reports/reports.slice';\r\n\r\nconst CrossSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"#738094\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M11.1618 4.83785C11.3896 5.06567 11.3896 5.43503 11.1618 5.66285L5.66187 11.1628C5.43406 11.3906 5.06469 11.3906 4.83688 11.1628C4.60906 10.935 4.60906 10.5656 4.83688 10.3378L10.3368 4.83785C10.5646 4.61004 10.934 4.61004 11.1618 4.83785Z\"\r\n            fill=\"white\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M4.83688 4.83785C5.06469 4.61004 5.43406 4.61004 5.66187 4.83785L11.1618 10.3378C11.3896 10.5656 11.3896 10.935 11.1618 11.1628C10.934 11.3906 10.5646 11.3906 10.3368 11.1628L4.83688 5.66285C4.60906 5.43503 4.60906 5.06567 4.83688 4.83785Z\"\r\n            fill=\"white\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const OnTopArrow = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"8\" height=\"5\" viewBox=\"0 0 8 5\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M7.39101 4.59994C7.17176 4.83662 6.81636 4.83662 6.59711 4.59994L3.9999 1.79621L1.40271 4.59994C1.18347 4.83662 0.828006 4.83662 0.608766 4.59994C0.389526 4.36325 0.389526 3.97957 0.608766 3.74288L3.60295 0.510518C3.8222 0.273838 4.1776 0.273838 4.39685 0.510518L7.39101 3.74288C7.61026 3.97957 7.61026 4.36325 7.39101 4.59994Z\"\r\n            fill=\"#1B202B\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const OnBottomArrow = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"8\" height=\"5\" viewBox=\"0 0 8 5\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M7.39101 0.400166C7.61026 0.636846 7.61026 1.02059 7.39101 1.25725L4.39685 4.48958C4.1776 4.72627 3.8222 4.72627 3.60295 4.48958L0.608766 1.25725C0.389526 1.02059 0.389526 0.636846 0.608766 0.400166C0.828006 0.163486 1.18347 0.163486 1.40271 0.400166L3.9999 3.20392L6.59711 0.400166C6.81636 0.163486 7.17176 0.163486 7.39101 0.400166Z\"\r\n            fill=\"#738094\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\n\r\nexport const CrossWithoutBg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M11.1618 4.83785C11.3896 5.06567 11.3896 5.43503 11.1618 5.66285L5.66187 11.1628C5.43406 11.3906 5.06469 11.3906 4.83688 11.1628C4.60906 10.935 4.60906 10.5656 4.83688 10.3378L10.3368 4.83785C10.5646 4.61004 10.934 4.61004 11.1618 4.83785Z\"\r\n            fill=\"#237804\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M4.83688 4.83785C5.06469 4.61004 5.43406 4.61004 5.66187 4.83785L11.1618 10.3378C11.3896 10.5656 11.3896 10.935 11.1618 11.1628C10.934 11.3906 10.5646 11.3906 10.3368 11.1628L4.83688 5.66285C4.60906 5.43503 4.60906 5.06567 4.83688 4.83785Z\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\n// TYPES BLOCK\r\ntype SelectPropsType = {\r\n  criteriaFull: CriteriasType,\r\n  criteriaCurrent: CriteriasType | RequestDataType,\r\n  isDefaultCriteria: boolean,\r\n  block?: string,\r\n  index?: {arrayIndex: number, fieldIndex: number},\r\n};\r\n\r\n\r\nconst SearchSelect: FC<SelectPropsType> = memo(({\r\n                                             criteriaFull,\r\n                                             criteriaCurrent,\r\n                                             isDefaultCriteria,\r\n                                             block,\r\n                                             index,\r\n                                           }) => {\r\n  // STYLES BLOCK\r\n  const useStyles = makeStyles(({\r\n    selectBox: {\r\n      display: 'flex !important',\r\n      alignItems: 'center',\r\n      cursor: 'pointer',\r\n      width: '75%'\r\n    },\r\n    selectItem: {},\r\n    selectMenuListInput: {\r\n      width: \"228px\",\r\n      margin: '16px 24px',\r\n      outline: 'none',\r\n      backgroundColor: '#F8FAFC',\r\n      border: '1px solid #E3E8EF',\r\n      borderRadius: '5px',\r\n      padding: '10px 30px 10px 12px',\r\n      color: '#738094',\r\n      fontSize: '14px',\r\n      position: 'relative'\r\n    },\r\n    selectMenuListInputIcon: {\r\n      position: 'absolute',\r\n      left: '262px',\r\n      top: '23px',\r\n      color: '#738094',\r\n      width: '11px'\r\n    },\r\n    selectOption: {\r\n      cursor: 'pointer',\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      padding: '5px 24px'\r\n    },\r\n    selectArrow: {\r\n      marginRight: '10px'\r\n    },\r\n    selectArrowOnArrow: {\r\n      marginBottom: '5px'\r\n    },\r\n    selectCheckBox: {\r\n      '&.MuiCheckbox-root': {\r\n        backgroundColor: '#E3E8EF !important'\r\n      }\r\n    },\r\n    selectTag: {\r\n      height: '22px !important',\r\n      cursor: 'pointer !important',\r\n      fontFamily: 'Inter, sans-serif !important',\r\n      border: '2px solid #E9ECEF !important',\r\n      borderRadius: '5px !important',\r\n      margin: '2.5px !important',\r\n      padding: '0 5px',\r\n      backgroundColor: '#E9ECEF !important',\r\n      color: `#000000 !important`,\r\n      fontSize: '12px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n    },\r\n    selectSelectBox: {\r\n      position: 'relative',\r\n      width: '100%'\r\n    },\r\n    selectPlaceholder: {\r\n      // @ts-ignore\r\n      position: 'absolute !important',\r\n      left: '11px !important',\r\n      top: '9px !important'\r\n    }\r\n  }));\r\n  const customStyles = {\r\n    menu: (provided: any) => ({\r\n      ...provided,\r\n      width: '322px',\r\n      height: '400px !important',\r\n      overflow: 'hidden',\r\n      overflowY: 'auto',\r\n      zIndex: '1000',\r\n      '&::-webkit-scrollbar': {\r\n        width: '4px',\r\n        backgroundColor: '#f1f1f1',\r\n        outline: 'none',\r\n      },\r\n      '&::-webkit-scrollbar-thumb': {\r\n        background: '#A3AEBE',\r\n        height: '50px',\r\n        borderRadius: '10px'\r\n      },\r\n      '&::-webkit-scrollbar-thumb:hover': {\r\n        background: '#9298A1'\r\n      }\r\n    }),\r\n    option: (provided: any, state: any) => ({\r\n      cursor: 'pointer',\r\n      padding: '10px 24px',\r\n      fontFamily: 'Inter, sans-serif',\r\n      fontSize: '14px',\r\n      backgroundColor: '#ffffff',\r\n      color: '#000',\r\n      \"&:hover\": {\r\n        backgroundColor: '#F8FAFC',\r\n        color: '#722ED1'\r\n      }\r\n    }),\r\n    control: (provided: any, state: any) => ({\r\n      ...provided,\r\n      cursor: 'pointer',\r\n      minHeight: '38px',\r\n      border: '1px solid #E3E8EF',\r\n      boxShadow: 'none',\r\n      borderColor: menuIsOpen ? '#722ED1 !important' : '#E3E8EF !important',\r\n      \"&:hover\": {\r\n        borderColor: '#E3E8EF'\r\n      },\r\n      minWidth: '70px',\r\n      borderRadius: '5px',\r\n      backgroundColor: '#F8FAFC'\r\n    }),\r\n    dropdownIndicator: (provided: any) => ({\r\n      ...provided,\r\n      color: '#738094',\r\n      '&:hover': {\r\n        color: '#738094'\r\n      }\r\n    }),\r\n    placeholder: (provided: any) => ({\r\n      ...provided,\r\n      fontSize: '14px',\r\n      color: '#738094',\r\n      fontFamily: 'Inter, sans-serif'\r\n    }),\r\n    indicatorsContainer: (provided: any) => ({\r\n      ...provided,\r\n      '& svg path:hover': {\r\n        fill: 'hsl(0, 0%, 80%)'\r\n      },\r\n      padding: '0'\r\n    }),\r\n    multiValue: (provided: any) => ({\r\n      ...provided,\r\n      height: '24px !important',\r\n      cursor: 'pointer !important',\r\n      fontFamily: 'Inter, sans-serif !important',\r\n      border: '2px solid #E9ECEF !important',\r\n      borderRadius: '5px !important',\r\n      margin: '2.5px !important',\r\n      backgroundColor: '#E9ECEF !important',\r\n      color: `#000000 !important`,\r\n    }),\r\n    multiValueRemove: (provided: any) => ({\r\n      ...provided,\r\n      backgroundColor: '#E9ECEF !important',\r\n    }),\r\n    valueContainer: (provided: any) => ({\r\n      ...provided,\r\n      display: 'flex',\r\n      paddingRight: '20px',\r\n\r\n    })\r\n  }\r\n  const classes = useStyles();\r\n\r\n\r\n  // COMPONENTS BLOCK\r\n  const CustomMultiValueLabel = memo((props: any) => {\r\n    return (\r\n      <components.MultiValueLabel {...props} />\r\n    )\r\n  });\r\n  const CustomMultiValueRemove = memo((props: any) => {\r\n    return (\r\n      <components.MultiValueRemove {...props}>\r\n        <CrossWithoutBg fill={'000'}/>\r\n      </components.MultiValueRemove>\r\n    )\r\n  });\r\n  const LimitedChipsContainer = ({children, hasValue, ...props}: any) => {\r\n    if (!hasValue) {\r\n      return (\r\n        <components.ValueContainer {...props}>\r\n          {children}\r\n        </components.ValueContainer>\r\n      );\r\n    }\r\n    let CHIPS_LIMIT = 6;\r\n    const [chips, otherChildren] = children;\r\n    if (chips.length > CHIPS_LIMIT) {\r\n      CHIPS_LIMIT = 6;\r\n    }\r\n    const overflowCounter = chips.slice(CHIPS_LIMIT).length;\r\n    const displayChips = chips.slice(overflowCounter, overflowCounter + CHIPS_LIMIT);\r\n    return (\r\n      <components.ValueContainer {...props}>\r\n        {displayChips}\r\n        {overflowCounter > 0 &&\r\n        <div className={classes.selectTag}>\r\n          +{overflowCounter}\r\n        </div>}\r\n      </components.ValueContainer>\r\n    );\r\n  };\r\n  const CustomInd = memo((props: any) => {\r\n    if (menuIsOpen) {\r\n      return <div className={cn(classes.selectArrowOnArrow, classes.selectArrow)}><OnTopArrow/></div>\r\n    }\r\n    return <OnBottomArrow className={classes.selectArrow}/>\r\n  });\r\n  const CustomOption = memo((props: any) => {\r\n    if (props.children.length > 0) {\r\n      return <div>\r\n        <components.Option {...props} className={classes.selectOption}>\r\n          {props.children}\r\n          <Checkbox\r\n            disableRipple\r\n            checked={criteriaCurrent.values.indexOf(props.children) >= 0}\r\n          />\r\n        </components.Option>\r\n      </div>\r\n    }\r\n    return null;\r\n  })\r\n\r\n  const CustomMenuList = memo(({selectProps, ...props}: any) => {\r\n    const selectSearch = useRef<HTMLInputElement | null>(null);\r\n\r\n    useEffect(() => {\r\n      if (selectSearch.current && criteriaFull.selectType !== 'multiString') {\r\n        selectSearch.current.focus();\r\n      }\r\n    }, [setMenuIsOpen])\r\n\r\n    const {onInputChange, inputValue, onMenuInputFocus} = selectProps;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <input\r\n            ref={selectSearch}\r\n            className={classes.selectMenuListInput}\r\n            autoCorrect=\"off\"\r\n            autoComplete=\"off\"\r\n            spellCheck=\"false\"\r\n            type=\"text\"\r\n            value={inputValue}\r\n            onChange={(e) =>\r\n              onInputChange(e.currentTarget.value, {\r\n                action: \"input-change\"\r\n              })\r\n            }\r\n            onMouseDown={(e) => {\r\n              e.stopPropagation();\r\n              // @ts-ignore\r\n              e.target.focus();\r\n            }}\r\n            onTouchEnd={(e) => {\r\n              e.stopPropagation();\r\n              // @ts-ignore\r\n              e.target.focus();\r\n            }}\r\n            onFocus={onMenuInputFocus}\r\n            placeholder={translate('searchTag', language)}\r\n          />\r\n          <SearchIcon className={classes.selectMenuListInputIcon}/>\r\n        </div>\r\n        <div style={{height: '400px !important'}}>\r\n          {props.children}\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  // LOGIC BLOCK\r\n  // Ð´Ð¸ÑÐ¿Ð°ÑÑ\r\n  const dispatch = useDispatch();\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n  // Ð¾ÑÐºÑÑÑÐµ Ð¸ Ð·Ð°ÐºÑÑÑÐ¸Ðµ Ð¼ÐµÐ½ÑÑÐºÐ¸.\r\n  const [menuIsOpen, setMenuIsOpen] = useState<boolean>(false);\r\n\r\n  // ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ ÐºÑÐ¸ÑÐµÑÐ¸Ð¸.\r\n  const removeCriteria = () => {\r\n    dispatch(templateSlice.actions.setCurrentTemplate(null));\r\n    dispatch(searchSlice.actions.removeActiveCriteria(criteriaFull));\r\n  };\r\n\r\n  // Ð²ÑÐ¿Ð¾Ð»Ð½ÑÐµÑÑÑ ÐºÐ¾Ð³Ð´Ð° Ð¼ÐµÐ½ÑÐµÑÑÑ Ð·Ð½Ð°ÑÐµÐ½Ð¸Ðµ.\r\n  const handleSelectChange = (event: any) => {\r\n    dispatch(templateSlice.actions.setCurrentTemplate(null));\r\n    const eventConverter = () => {\r\n      let result = [];\r\n      for (let i = 0; i < event.length; i++) {\r\n        result.push(event[i].value);\r\n      }\r\n      return result;\r\n    };\r\n\r\n    const eventConverterResult = eventConverter();\r\n    if (block === 'reports') {\r\n      dispatch(searchSlice.actions.setActiveCriteriaReportsValues({key: criteriaFull.key, values: [...eventConverterResult]}));\r\n    }  else if (block === 'reports-column') {\r\n      dispatch(searchSlice.actions.setActiveCriteriaReportsColumnValues({key: criteriaFull.key, values: [...eventConverterResult]}));\r\n    }  else if (index) {\r\n      dispatch(reportsSlice.actions.setActiveCriteriaValuesColumn({arrayIndex: index.arrayIndex, fieldIndex: index.fieldIndex, criteria: {key: criteriaFull.key, values: [...eventConverterResult]}}))\r\n      console.log(index);\r\n    }  else {\r\n      if (isDefaultCriteria) {\r\n        dispatch(searchSlice.actions.setDefaultCriteriaValues({key: criteriaFull.key, values: [...eventConverterResult]}));\r\n      } else {\r\n        dispatch(searchSlice.actions.setActiveCriteriaValues({key: criteriaFull.key, values: [...eventConverterResult]}));\r\n      }\r\n    }\r\n\r\n\r\n  };\r\n\r\n  const converter = (state: any) => {\r\n    let local: { value: string, label: string }[] = [];\r\n    if (state) {\r\n      for (let i = 0; i < state.values.length; i++) {\r\n        local.push({value: state.values[i], label: state.values[i]});\r\n      }\r\n    }\r\n    return local\r\n  };\r\n  const converterCurrentResult = converter(criteriaCurrent);\r\n  const converterFullResult = converter(criteriaFull);\r\n\r\n  // ÐºÐ¾ÑÑÑÐ»ÐµÑÐµÐº Ð´Ð»Ñ Ð·Ð°Ð³ÑÑÑÐ¸Ñ ÑÐµÐ»ÐµÐºÑÐ¾Ð²\r\n  useEffect(() => {\r\n    document.addEventListener(\"mousedown\", () => setMenuIsOpen(false));\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", () => setMenuIsOpen(false));\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.selectBox}>\r\n      {criteriaFull.selectType === \"multiString\" ?\r\n        <div className={classes.selectSelectBox} onClick={() => setMenuIsOpen(true)}>\r\n          <CreatableSelect\r\n            closeMenuOnSelect={false}\r\n            isMulti\r\n            createOptionPosition={'first'}\r\n            styles={customStyles}\r\n            formatCreateLabel={(str) => str}\r\n            value={converterCurrentResult}\r\n            onChange={handleSelectChange}\r\n\r\n            tabIndex={0}\r\n            isValidNewOption={(str) => true}\r\n            options={converterFullResult}\r\n            hideSelectedOptions={false}\r\n            components={{\r\n              MenuList: CustomMenuList,\r\n              Option: CustomOption,\r\n              DropdownIndicator: CustomInd,\r\n              IndicatorSeparator: () => null,\r\n              MultiValueLabel: CustomMultiValueLabel,\r\n              MultiValueRemove: CustomMultiValueRemove,\r\n            }}\r\n            placeholder={translate('allTags', language)}\r\n            menuIsOpen={menuIsOpen}\r\n\r\n          />\r\n        </div> :\r\n        <div className={classes.selectSelectBox}  onClick={() => setMenuIsOpen(true)}>\r\n          <Select\r\n            openMenuOnFocus={true}\r\n            menuIsOpen={menuIsOpen}\r\n            className={classes.selectItem}\r\n            name=\"color\"\r\n            placeholder={translate('allTags', language)}\r\n            components={{\r\n              MenuList: CustomMenuList,\r\n              Option: CustomOption,\r\n              DropdownIndicator: CustomInd,\r\n              IndicatorSeparator: () => null,\r\n              MultiValueLabel: CustomMultiValueLabel,\r\n              MultiValueRemove: CustomMultiValueRemove,\r\n              ValueContainer: LimitedChipsContainer,\r\n            }}\r\n            onChange={handleSelectChange}\r\n            isClearable={true}\r\n            closeMenuOnSelect={false}\r\n            styles={customStyles}\r\n            isMulti\r\n            isSearchable={false}\r\n            value={converterCurrentResult}\r\n            options={converterFullResult}\r\n            hideSelectedOptions={false}\r\n          />\r\n          {converterCurrentResult.length < 1 &&\r\n          <Typography className={classes.selectPlaceholder}>{translate('allTags', language)}</Typography>\r\n          }\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default SearchSelect;\r\n","import React from 'react';\r\nimport SearchSelect from '../Search/SearchSelect';\r\nimport {makeStyles} from '@mui/styles';\r\nimport {Typography} from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(({\r\n  searchText: {\r\n    marginRight: '8px !important',\r\n    color: '#2F3747 !important',\r\n    whiteSpace: 'nowrap'\r\n  },\r\n}))\r\n\r\nconst CriteriaItem = (props: any) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <>\r\n      <Typography className={classes.searchText}>{props.title}</Typography>\r\n      <SearchSelect\r\n        criteriaFull={props.criteriaFull}\r\n        criteriaCurrent={props.criteriaCurrent}\r\n        isDefaultCriteria={props.isDefaultCriteria}\r\n        block={props.block}\r\n        index={props.index}\r\n      />\r\n    </>\r\n  ) \r\n}\r\n\r\nexport default CriteriaItem;","import React, {FC} from 'react';\r\nimport {makeStyles} from '@mui/styles';\r\nimport {CriteriasType, RequestDataType} from '../../../store/search/search.types';\r\nimport CriteriaItem from './CriteriaItem';\r\n\r\nconst useStyles = makeStyles(({\r\n  searchItems: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    flexWrap: 'wrap',\r\n    // marginTop: '16px'\r\n    // display: 'grid'\r\n  },\r\n  searchItem: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    margin: '0 22px 16px 0',\r\n    width: '100%',\r\n  },\r\n  searchItemBlock_1:{\r\n    gridRowStart: 1,\r\n    gridRowEnd: 2,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchItemBlock_2:{\r\n    gridRowStart: 2,\r\n    gridRowEnd: 3,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchItemBlock_3:{\r\n    gridRowStart: 3,\r\n    gridRowEnd: 4,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchItemBlock_4:{\r\n    gridRowStart: 4,\r\n    gridRowEnd: 5,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchItemBlock_noWide: {\r\n    width: '30%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchItemBlock_Wide: {\r\n    width: '70%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}))\r\n\r\ntype FindCriteriasPropsType = {\r\n  defaultCriterias?: RequestDataType[],\r\n  allCriterias: CriteriasType[] | null,\r\n  activeCriterias: CriteriasType[],\r\n  block?: string,\r\n  index?: {arrayIndex: number, fieldIndex: number},\r\n}\r\n\r\nconst CriteriasList: FC<FindCriteriasPropsType> = React.memo(({\r\n  defaultCriterias,\r\n  allCriterias,\r\n  activeCriterias,\r\n  block,\r\n  index\r\n}) => {\r\n  const classes = useStyles();\r\n  \r\n  function switchSearchItemCLassName(className: string) {\r\n    const classSwitcher: {[id: string]: any} = {};\r\n    classSwitcher['searchItemBlock_1'] = classes.searchItemBlock_1;\r\n    classSwitcher['searchItemBlock_2'] = classes.searchItemBlock_2;\r\n    classSwitcher['searchItemBlock_3'] = classes.searchItemBlock_3;\r\n    classSwitcher['searchItemBlock_4'] = classes.searchItemBlock_4;\r\n    classSwitcher['searchItemBlock_Wide'] = classes.searchItemBlock_Wide;\r\n    classSwitcher['searchItemBlock_noWide'] = classes.searchItemBlock_noWide;\r\n    return classSwitcher[className];\r\n  }\r\n\r\n  return (\r\n    <div className={classes.searchItems}>\r\n      {defaultCriterias && allCriterias ? defaultCriterias.map(criteria => {\r\n        const criteriaKey = criteria.key.slice(4);\r\n        const compResult = allCriterias.filter(v => v.key === criteria.key);\r\n        return (\r\n          <div className={classes.searchItem}>\r\n            <CriteriaItem\r\n              title={compResult[0].title}\r\n              criteriaFull={compResult[0]}\r\n              criteriaCurrent={criteria}\r\n              isDefaultCriteria={true}\r\n              block={block}\r\n              index={index}\r\n            />\r\n          </div>\r\n        )\r\n      }) : null}\r\n\r\n      {activeCriterias && allCriterias ? activeCriterias.map(criteria => {\r\n        const compResult = allCriterias.filter(v => v.key === criteria.key);\r\n        const criteriaWide = criteria.wide ? 'searchItemBlock_Wide' : 'searchItemBlock_noWide';\r\n        const criteriaBlock = `searchItemBlock_${criteria.block}`;\r\n        return ( \r\n          // <div className={switchSearchItemCLassName(criteriaBlock)}> \r\n            <div className={switchSearchItemCLassName(criteriaWide)}>\r\n              <div className={classes.searchItem}>\r\n                <CriteriaItem\r\n                  title={criteria.title}\r\n                  criteriaFull={compResult[0]}\r\n                  criteriaCurrent={criteria}\r\n                  isDefaultCriteria={false}\r\n                  block={block}\r\n                  index={index}\r\n                />\r\n              </div>\r\n            {/* </div> */}\r\n          </div>\r\n        )\r\n      }) : null}\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default CriteriasList;","import React, {FC} from 'react';\r\nimport Select, {components} from \"react-select\";\r\n\r\n// SVG BLOCK\r\nconst VerticalDotsSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"21\" viewBox=\"0 0 17 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        d=\"M8.36743 2.68359C7.69851 2.68359 7.15625 3.22588 7.15625 3.89477C7.15625 4.56367 7.69851 5.10595 8.36743 5.10595C9.03635 5.10595 9.57861 4.56367 9.57861 3.89477C9.57861 3.22588 9.03635 2.68359 8.36743 2.68359Z\"\r\n        fill=\"#2F3747\"/>\r\n      <path\r\n        d=\"M7.15625 9.00024C7.15625 8.33135 7.69854 7.78906 8.36743 7.78906C9.03632 7.78906 9.57861 8.33135 9.57861 9.00024C9.57861 9.66914 9.03632 10.2114 8.36743 10.2114C7.69854 10.2114 7.15625 9.66914 7.15625 9.00024Z\"\r\n        fill=\"black\"/>\r\n      <path\r\n        d=\"M7.15625 14.1057C7.15625 13.4368 7.69854 12.8945 8.36743 12.8945C9.03632 12.8945 9.57861 13.4368 9.57861 14.1057C9.57861 14.7746 9.03632 15.3169 8.36743 15.3169C7.69854 15.3169 7.15625 14.7746 7.15625 14.1057Z\"\r\n        fill=\"black\"/>\r\n    </svg>\r\n  )\r\n};\r\n\r\nconst HorizontalDotsSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"20\" height=\"20 \" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path d=\"M4 7C3.44771 7 3 7.44773 3 8C3 8.55227 3.44771 9 4 9C4.55229 9 5 8.55227 5 8C5 7.44773 4.55229 7 4 7Z\"\r\n            fill=\"black\"/>\r\n      <path d=\"M7 8C7 7.44773 7.44773 7 8 7C8.55227 7 9 7.44773 9 8C9 8.55227 8.55227 9 8 9C7.44773 9 7 8.55227 7 8Z\"\r\n            fill=\"black\"/>\r\n      <path\r\n        d=\"M11 8C11 7.44773 11.4477 7 12 7C12.5523 7 13 7.44773 13 8C13 8.55227 12.5523 9 12 9C11.4477 9 11 8.55227 11 8Z\"\r\n        fill=\"black\"/>\r\n    </svg>\r\n  )\r\n};\r\n\r\n\r\nconst PenSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        d=\"M9.73764 2.33301C9.82604 2.33301 9.91084 2.36813 9.97338 2.43064L11.859 4.31625C11.9891 4.44643 11.9891 4.65749 11.859 4.78766L5.7307 10.9159C5.68882 10.9578 5.63654 10.9877 5.57924 11.0027L3.02696 11.6694C2.91246 11.6993 2.79069 11.6663 2.70702 11.5826C2.62334 11.4989 2.5903 11.3771 2.6202 11.2627L3.28687 8.71034C3.30184 8.65307 3.3318 8.60081 3.37368 8.55888L9.50191 2.43064C9.56444 2.36813 9.64924 2.33301 9.73764 2.33301Z\"\r\n        fill=\"black\"/>\r\n      <path\r\n        d=\"M2.66797 12.833C2.39183 12.833 2.16797 13.0569 2.16797 13.333C2.16797 13.6091 2.39183 13.833 2.66797 13.833H12.668C12.9441 13.833 13.168 13.6091 13.168 13.333C13.168 13.0569 12.9441 12.833 12.668 12.833H2.66797Z\"\r\n        fill=\"black\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst TrashSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        d=\"M6.16536 2C6.16536 1.72386 6.38922 1.5 6.66536 1.5H9.33203C9.60816 1.5 9.83203 1.72386 9.83203 2V2.5H12.6654C12.9415 2.5 13.1654 2.72386 13.1654 3C13.1654 3.27614 12.9415 3.5 12.6654 3.5H3.33203C3.05589 3.5 2.83203 3.27614 2.83203 3C2.83203 2.72386 3.05589 2.5 3.33203 2.5H6.16536V2Z\"\r\n        fill=\"#F5222D\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M4.16148 5.29652C4.18023 5.12771 4.32292 5 4.49277 5H11.5103C11.6801 5 11.8229 5.12771 11.8416 5.29652L11.975 6.49742C12.2155 8.66207 12.2155 10.8467 11.975 13.0113L11.9619 13.1296C11.8743 13.9179 11.2633 14.5466 10.4777 14.6566C8.83495 14.8866 7.16815 14.8866 5.52537 14.6566C4.73979 14.5466 4.12878 13.9179 4.04118 13.1296L4.02805 13.0113C3.78753 10.8467 3.78753 8.66207 4.02805 6.49742L4.16148 5.29652ZM7.16821 7.6C7.16821 7.32387 6.94435 7.1 6.66821 7.1C6.39207 7.1 6.16821 7.32387 6.16821 7.6V12.2667C6.16821 12.5428 6.39207 12.7667 6.66821 12.7667C6.94435 12.7667 7.16821 12.5428 7.16821 12.2667V7.6ZM9.83488 7.6C9.83488 7.32387 9.61101 7.1 9.33488 7.1C9.05875 7.1 8.83488 7.32387 8.83488 7.6V12.2667C8.83488 12.5428 9.05875 12.7667 9.33488 12.7667C9.61101 12.7667 9.83488 12.5428 9.83488 12.2667V7.6Z\"\r\n            fill=\"#F5222D\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst CloneSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M2.16602 5.99935C2.16602 3.88226 3.88226 2.16602 5.99935 2.16602H10.6746C10.9507 2.16602 11.1746 2.38988 11.1746 2.66602C11.1746 2.94216 10.9507 3.16602 10.6746 3.16602H5.99935C4.43454 3.16602 3.16602 4.43454 3.16602 5.99935V10.7373C3.16602 11.0134 2.94216 11.2373 2.66602 11.2373C2.38988 11.2373 2.16602 11.0134 2.16602 10.7373V5.99935Z\" fill=\"#738094\"/>\r\n      <path d=\"M12.2691 4.52877C10.1084 4.28729 7.89292 4.28729 5.7323 4.52877C5.11679 4.59756 4.62217 5.08195 4.54961 5.70225C4.29336 7.89326 4.29336 10.1066 4.54961 12.2976C4.62217 12.9179 5.11679 13.4023 5.7323 13.4711C7.89292 13.7126 10.1084 13.7126 12.2691 13.4711C12.8845 13.4023 13.3792 12.9179 13.4517 12.2976C13.708 10.1066 13.708 7.89326 13.4517 5.70225C13.3792 5.08195 12.8845 4.59756 12.2691 4.52877Z\" fill=\"#A3AEBE\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\n// TYPES BLOCK\r\ntype CustomControlSelectPropsType = {\r\n  handleSelectChange: (event: any) => void,\r\n  svg: 'horizontal' | 'vertical',\r\n  options: {value: any, label: any}[],\r\n  optionsPosition: 'top' | 'bottom',\r\n  disabled?: boolean\r\n};\r\n\r\nconst CustomControlSelect: FC<CustomControlSelectPropsType> = ({disabled, handleSelectChange, svg, options, optionsPosition}) => {\r\n  // STYLES BLOCK\r\n  const customDotsStyles = {\r\n    container: (base: any) => ({\r\n      ...base,\r\n      flex: 1\r\n    }),\r\n    menu: (provided: any, state: any) => ({\r\n      ...provided,\r\n      width: '183px',\r\n      right: '0',\r\n      bottom: '35px',\r\n      boxShadow: '0px 0px 4px rgba(98, 98, 98, 0.22)',\r\n      borderRadius: '10px',\r\n      cursor: 'pointer',\r\n      fontFamily: 'Inter, sans-serif',\r\n      fontSize: '14px',\r\n      backgroundColor: '#ffffff',\r\n      color: '#000',\r\n    }),\r\n    option: (provided: any, state: any) => ({\r\n      cursor: 'pointer',\r\n      padding: '10px 24px',\r\n      fontFamily: 'Inter, sans-serif',\r\n      fontSize: '14px',\r\n      backgroundColor: '#ffffff',\r\n      color: '#000',\r\n      \"&:hover\": {\r\n        backgroundColor: '#F8FAFC',\r\n        color: '#722ED1'\r\n      }\r\n    }),\r\n    menuList: (provided: any, state: any) => ({\r\n      ...provided,\r\n      padding: '0',\r\n      display: 'flex',\r\n      flexDirection: 'column-reverse',\r\n    }),\r\n    control: (provided: any, state: any) => ({\r\n      ...provided,\r\n      cursor: 'pointer',\r\n      width: '40px',\r\n      height: '40px',\r\n      border: 'none',\r\n      boxShadow: 'none',\r\n      backgroundColor: '#E3E8EF',\r\n      borderRadius: '5px',\r\n      justifyContent: 'center',\r\n      display: 'flex'\r\n    }),\r\n    valueContainer: (provided: any, state: any) => ({\r\n      ...provided,\r\n      position: 'absolute',\r\n      zIndex: '1'\r\n    }),\r\n    dropdownIndicator: (provided: any, state: any) => ({\r\n      zIndex: '2'\r\n    })\r\n  };\r\n\r\n  const CustomOption: FC<any> = ({data, children, ...props}) => {\r\n    if (data.value === 'rename') {\r\n      return (\r\n        <components.Option {...props}>\r\n          <div style={{display: 'flex', alignItems: 'center'}}>\r\n            <PenSvg/>\r\n            <div style={{color: '#000', marginLeft: '10px', fontWeight: '700'}}>{data.label}</div>\r\n          </div>\r\n        </components.Option>\r\n      )\r\n    } else if (data.value === 'delete') {\r\n      return (\r\n        <components.Option {...props}>\r\n          <div style={{display: 'flex', alignItems: 'center'}}>\r\n            <TrashSvg/>\r\n            <div style={{color: '#F5222D', marginLeft: '10px', fontWeight: '700'}}>{data.label}</div>\r\n          </div>\r\n        </components.Option>\r\n      )\r\n    } else if (data.value === 'clone') {\r\n      return (\r\n        <components.Option {...props}>\r\n          <div style={{display: 'flex', alignItems: 'center'}}>\r\n            <CloneSvg/>\r\n            <div style={{color: '#222D', marginLeft: '10px', fontWeight: '700'}}>{data.label}</div>\r\n          </div>\r\n        </components.Option>\r\n      )\r\n    } else {\r\n      return (\r\n        <components.Option {...props}>\r\n          <div style={{display: 'flex', alignItems: 'center'}}>\r\n            <div style={{marginLeft: '10px', fontWeight: '700'}}>{data.label}</div>\r\n          </div>\r\n        </components.Option>\r\n      )\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Select\r\n      isDisabled={disabled}\r\n      menuPlacement={optionsPosition}\r\n      styles={customDotsStyles}\r\n      placeholder={''}\r\n      isSearchable={false}\r\n      components={{\r\n        DropdownIndicator: () => svg === 'horizontal' ? <HorizontalDotsSvg/> : <VerticalDotsSvg/>,\r\n        IndicatorSeparator: () => null,\r\n        SingleValue: () => null,\r\n        Option: CustomOption\r\n      }}\r\n      onChange={handleSelectChange}\r\n      options={options}\r\n    />\r\n  );\r\n};\r\n\r\nexport default CustomControlSelect;","import React, {FC, memo, useEffect, useState} from 'react';\r\nimport {makeStyles} from '@mui/styles';\r\nimport {Typography, Button} from \"@mui/material\";\r\nimport CustomControlSelect from '../Selects/CustomControlSelect';\r\nimport {useAppSelector} from '../../../hooks/redux';\r\nimport {translate} from \"../../../localizations\";\r\nimport {RootState} from \"../../../store/store\";\r\n\r\nconst useStyles = makeStyles(({\r\n  searchTitleRight: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  searchDeleteAllButton: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginRight: '40px',\r\n    cursor: 'pointer'\r\n  },\r\n  searchDeleteAllButtonText: {\r\n    color: '#2F3747 !important'\r\n  },\r\n  searchButton: {\r\n    fontSize: '14px !important',\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    color: '#22075E !important',\r\n    '&:hover ': {\r\n      textDecoration: 'underline !important',\r\n      backgroundColor: '#e0b8ff !important'\r\n    }\r\n  },\r\n  searchButtonIcon: {\r\n    fill: '#722ED1 !important'\r\n  },\r\n}));\r\n\r\nconst FolderPlusSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n          d=\"M16.7577 6.67277C17.1038 8.86287 17.079 11.0965 16.6843 13.2782C16.5404 14.0741 15.8813 14.6708 15.0822 14.7285L13.6209 14.8341C10.5605 15.0553 7.48852 15.0553 4.42814 14.8341L3.07734 14.7365C2.21323 14.6741 1.50051 14.0289 1.3448 13.1681C0.963241 11.0588 0.897923 8.9036 1.15102 6.77476L1.39414 4.72991C1.51149 3.74285 2.34055 3 3.32483 3H5.36936C6.25472 3 6.97244 3.72493 6.97244 4.61918C6.97244 4.64872 6.99615 4.67266 7.0254 4.67266H14.799C15.7453 4.67266 16.5513 5.36716 16.7005 6.31101L16.7577 6.67277ZM9.69369 7.7311C9.69369 7.35784 9.39408 7.05523 9.02454 7.05523C8.65498 7.05523 8.35538 7.35784 8.35538 7.7311V9.30813H6.79403C6.42447 9.30813 6.12488 9.61074 6.12488 9.984C6.12488 10.3573 6.42447 10.6599 6.79403 10.6599H8.35538V12.2369C8.35538 12.6102 8.65498 12.9128 9.02454 12.9128C9.39408 12.9128 9.69369 12.6102 9.69369 12.2369V10.6599H11.255C11.6246 10.6599 11.9242 10.3573 11.9242 9.984C11.9242 9.61074 11.6246 9.30813 11.255 9.30813H9.69369V7.7311Z\"\r\n          fill=\"#9254DE\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst CrossSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n        d=\"M11.1618 4.83785C11.3896 5.06567 11.3896 5.43503 11.1618 5.66285L5.66187 11.1628C5.43406 11.3906 5.06469 11.3906 4.83688 11.1628C4.60906 10.935 4.60906 10.5656 4.83688 10.3378L10.3368 4.83785C10.5646 4.61004 10.934 4.61004 11.1618 4.83785Z\"\r\n        fill=\"black\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n        d=\"M4.83688 4.83785C5.06469 4.61004 5.43406 4.61004 5.66187 4.83785L11.1618 10.3378C11.3896 10.5656 11.3896 10.935 11.1618 11.1628C10.934 11.3906 10.5646 11.3906 10.3368 11.1628L4.83688 5.66285C4.60906 5.43503 4.60906 5.06567 4.83688 4.83785Z\"\r\n        fill=\"black\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst SaveCriterias = (props: any) => {\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n    {props.currentTemplate ?\r\n      <div>\r\n        <CustomControlSelect\r\n          optionsPosition={\"bottom\"}\r\n          options={[\r\n            {value: 'rename', label: 'ÐÐµÑÐµÐ¸Ð¼ÐµÐ½Ð¾Ð²Ð°ÑÑ'},\r\n            {value: 'delete', label: 'Ð£Ð´Ð°Ð»Ð¸ÑÑ'}\r\n          ]}\r\n          svg={'vertical'}\r\n          handleSelectChange={props.handleSelectChange}\r\n        />\r\n      </div> :\r\n      <div className={classes.searchTitleRight}>\r\n        <div onClick={props.removeAllCriteriasHandler} className={classes.searchDeleteAllButton}>\r\n          <CrossSvg style={{marginRight: '5px'}}/>\r\n          <Typography className={classes.searchDeleteAllButtonText}>\r\n            {translate('searchClear', language)}\r\n          </Typography>\r\n        </div>\r\n        <Button\r\n          className={classes.searchButton}\r\n          startIcon={<FolderPlusSvg className={classes.searchButtonIcon}/>}\r\n          color=\"secondary\"\r\n          variant=\"contained\"\r\n          onClick={props.handleCreateNewTemplateButtonClick}\r\n        >\r\n          {translate('searchSaveTemp', language)}\r\n        </Button>\r\n      </div>\r\n    }\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default SaveCriterias;","import React from 'react';\r\nimport {makeStyles} from '@mui/styles';\r\nimport {useAppSelector} from '../../../hooks/redux';\r\nimport {Typography, Button} from \"@mui/material\";\r\nimport {translate} from \"../../../localizations\";\r\nimport {RootState} from \"../../../store/store\";\r\nimport TextSelect from '../Selects/TextSelect/TextSelect';\r\n\r\nconst useStyles = makeStyles(({\r\n  criteriaTemplateTitle: {\r\n    marginTop: '3px',\r\n    borderLeft: '1px solid #CDD5DF', \r\n    paddingLeft: '16px'\r\n  },\r\n  criteriaTemplateText: {\r\n    fontFamily: '\"Inter\", sans-serif',\r\n    display: 'flex', \r\n    fontSize: '16px', \r\n    lineHeight: '24px', \r\n    color: '#2F3747', \r\n    marginRight: '5px'\r\n  },\r\n  criteriaTemplateTextNumber: {\r\n    fontSize: '16px', \r\n    lineHeight: '24px', \r\n    marginRight: '3px', \r\n    color: '#2F3747'\r\n  }\r\n}));\r\n\r\nconst CriteriaTemplate = (props: any) => {\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.criteriaTemplateTitle}>\r\n    <TextSelect\r\n        name={'templatesSelect'}\r\n        value={props.currentTemplate ? {value: props.currentTemplate, label: props.currentTemplate.title} : null}\r\n        handleValueChange={props.handleValueChange}\r\n        options={props.options}\r\n        iconPosition={'right'}\r\n        customControl={\r\n          <div className={classes.criteriaTemplateText}>\r\n            {props.currentTemplate ?\r\n              <>\r\n                <Typography style={{color: '#722ED1'}}>{props.currentTemplate.title}</Typography>\r\n              </> :\r\n              <>\r\n                <Typography className={classes.criteriaTemplateTextNumber}>{translate('searchTemp', language)}</Typography>\r\n                <span>({props.allTemplates.length})</span>\r\n              </>\r\n            }\r\n          </div>\r\n        }\r\n        ifArrowColor={props.currentTemplate ? '#722ED1' : '#000'}\r\n        menuPosition={'left'}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CriteriaTemplate;","import React, {FC, memo, useEffect, useState} from 'react';\r\nimport BlockBox from \"../BlockBox\";\r\nimport {Button, Typography} from \"@mui/material\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {callsSlice, getBaseCallsData} from \"../../../store/calls/calls.slice\";\r\nimport {getAllSearchCriterias, getDefaultCriterias, searchSlice} from \"../../../store/search/search.slice\";\r\nimport {translate} from \"../../../localizations\";\r\nimport {RootState} from \"../../../store/store\";\r\nimport {getAllTemplates, templateSlice} from \"../../../store/search/template.slice\";\r\nimport {CriteriasType} from \"../../../store/search/search.types\";\r\nimport CreateNameTemplateModalWindow from \"./CreateNameTemplateModalWindow\";\r\nimport DeleteTemplateModalWindow from \"./DeleteTemplateModalWindow\";\r\nimport TextSelect from \"../Selects/TextSelect/TextSelect\";\r\nimport {optionsCreator} from \"../../../utils/optionsCreator\";\r\nimport CriteriasList from '../Criterias/CriteriasList';\r\nimport SaveCriterias from '../Criterias/SaveCriterias';\r\nimport CriteriaTemplate from '../Criterias/CriteriaTemplate';\r\nimport SearchSelect from \"./SearchSelect\";\r\n\r\nconst useStyles = makeStyles(({\r\n  searchTitle: {\r\n    height: '40px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: '15px'\r\n  },\r\n  searchTitleLeft: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center'\r\n  },\r\n  searchTitleLeftText: {\r\n    marginRight: '16px !important',\r\n    color: '#2F3747 !important',\r\n    fontWeight: '500 !important',\r\n  },\r\n  searchTitleLeftStick: {\r\n    marginLeft: '16px !important',\r\n    color: '#CDD5DF !important',\r\n    fontSize: '17px !important'\r\n  },\r\n  searchTitleRight: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  searchDeleteAllButton: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginRight: '40px',\r\n    cursor: 'pointer'\r\n  },\r\n  searchDeleteAllButtonText: {\r\n    color: '#2F3747 !important'\r\n  },\r\n  searchButton: {\r\n    fontSize: '14px !important',\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    color: '#22075E !important',\r\n    '&:hover ': {\r\n      textDecoration: 'underline !important',\r\n      backgroundColor: '#e0b8ff !important'\r\n    }\r\n  },\r\n  searchButtonIcon: {\r\n    fill: '#722ED1 !important'\r\n  },\r\n\r\n  searchItems: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    flexWrap: 'wrap',\r\n    // display: 'grid'\r\n  },\r\n  searchItem: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    margin: '0 22px 16px 0',\r\n    width: '100%',\r\n  },\r\n  searchItemBlock_1: {\r\n    gridRowStart: 1,\r\n    gridRowEnd: 2,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchItemBlock_2: {\r\n    gridRowStart: 2,\r\n    gridRowEnd: 3,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchItemBlock_3: {\r\n    gridRowStart: 3,\r\n    gridRowEnd: 4,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchItemBlock_4: {\r\n    gridRowStart: 4,\r\n    gridRowEnd: 5,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchItemBlock_noWide: {\r\n    width: '30%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchItemBlock_Wide: {\r\n    width: '70%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchText: {\r\n    marginRight: '8px !important',\r\n    color: '#2F3747 !important',\r\n    // whiteSpace: 'nowrap',\r\n    width: '120px !important',\r\n  },\r\n  tagsBox: {\r\n    minWidth: '70px',\r\n    height: '32px',\r\n    backgroundColor: '#F8FAFC',\r\n    border: 'none !important',\r\n    outline: 'none'\r\n  },\r\n  searchSearchButton: {\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    borderRadius: '5px !important'\r\n  },\r\n  selectArrow: {\r\n    marginRight: '10px'\r\n  },\r\n  selectArrowOnArrow: {\r\n    marginBottom: '5px'\r\n  },\r\n}));\r\n\r\n\r\ntype FilterPropsType = {\r\n  pageName: string\r\n}\r\n\r\nconst Search: FC<FilterPropsType> = memo(({pageName}) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const defaultCriterias = useAppSelector(state => state.search.defaultCriterias);\r\n  const activeCriterias = useAppSelector(state => state.search.activeCriterias);\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n  const isAuth = useAppSelector(state => state.auth.isAuth);\r\n  const allCriterias = useAppSelector(state => state.search.allCriterias);\r\n  const allTemplates = useAppSelector(state => state.template.allTemplates);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const searchRequest = async () => {\r\n    setLoading(true);\r\n    dispatch(callsSlice.actions.zeroingSkip(null));\r\n    await dispatch(callsSlice.actions.setEmptyState({leaveBundles: 0}));\r\n    await dispatch(getBaseCallsData());\r\n    setLoading(false);\r\n  };\r\n\r\n  function switchSearchItemCLassName(className: string) {\r\n    const classSwitcher: { [id: string]: any } = {};\r\n    classSwitcher['searchItemBlock_1'] = classes.searchItemBlock_1;\r\n    classSwitcher['searchItemBlock_2'] = classes.searchItemBlock_2;\r\n    classSwitcher['searchItemBlock_3'] = classes.searchItemBlock_3;\r\n    classSwitcher['searchItemBlock_4'] = classes.searchItemBlock_4;\r\n    classSwitcher['searchItemBlock_Wide'] = classes.searchItemBlock_Wide;\r\n    classSwitcher['searchItemBlock_noWide'] = classes.searchItemBlock_noWide;\r\n    return classSwitcher[className];\r\n  }\r\n\r\n  // template select\r\n  const convertedTemplate = optionsCreator(allTemplates);\r\n\r\n\r\n  const removeAllCriteriasHandler = () => {\r\n    dispatch(templateSlice.actions.setCurrentTemplate(null));\r\n    dispatch(searchSlice.actions.setClearDefaultCriteriasValues(null));\r\n    dispatch(searchSlice.actions.removeAllActiveCriterias(null));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isAuth && activeCriterias.length < 1 && defaultCriterias.length < 1) {\r\n      dispatch(getAllSearchCriterias());\r\n      dispatch(getDefaultCriterias());\r\n      dispatch(getAllTemplates());\r\n    }\r\n  }, [isAuth]);\r\n\r\n  const handleCreateNewTemplateButtonClick = () => {\r\n    setIsOpenRenameMethod('post');\r\n    setIsOpenRenameWindow(true);\r\n  };\r\n\r\n  const currentTemplate = useAppSelector(state => state.template.currentTemplate);\r\n\r\n  // modal windows states.\r\n  const [isOpenRenameWindow, setIsOpenRenameWindow] = useState<boolean>(false);\r\n  const [isOpenRenameMethod, setIsOpenRenameMethod] = useState<'put' | 'post' | null>(null);\r\n\r\n  const [isOpenDeleteWindow, setIsOpenDeleteWindow] = useState<boolean>(false);\r\n\r\n  const [op, setOp] = useState<any>([]);\r\n  useEffect(() => {\r\n    setOp(handleMoreSelectClick())\r\n  }, [allCriterias, activeCriterias, defaultCriterias])\r\n\r\n  const handleMoreSelectClick = () => {\r\n    // let state = allCriterias;\r\n    // if (state) {\r\n    //   let local = []\r\n    //   const defAcCriterias = [...activeCriterias, ...defaultCriterias]\r\n    //   for (let i = 0; i < state.length; i++) {\r\n    //     if (!defAcCriterias.find((item) => {\r\n    //       if (state) {\r\n    //         return item.key === state[i].key\r\n    //       }\r\n    //     })) {\r\n    //       local.push({value: state[i], label: state[i].title})\r\n    //     }\r\n    //   }\r\n    //   return local\r\n    // }\r\n\r\n    if (allCriterias) {\r\n      interface keyable {\r\n        [key: string]: any\r\n      }\r\n\r\n      let local: Array<keyable> = [];\r\n\r\n      allCriterias.forEach((item, i) => {\r\n        local.push({value: allCriterias[i], label: allCriterias[i].title});\r\n      })\r\n\r\n      for (let i = 0; i < local.length; i++) {\r\n        if (activeCriterias.find((item) => item.key === local[i].value.key)) {\r\n          local[i].icon = 'minus';\r\n        } else {\r\n          local[i].icon = 'plus';\r\n        }\r\n      }\r\n      return local\r\n    }\r\n  }\r\n\r\n  function onTemplateSelectValueChange(event: any) {\r\n    dispatch(templateSlice.actions.setCurrentTemplate(event.value));\r\n    dispatch(searchSlice.actions.setClearDefaultCriteriasValues(null))\r\n    if (allCriterias) {\r\n      let fullCriteriaLocal: CriteriasType[] = [];\r\n      for (let i = 0; i < event.value.items.length; i++) {\r\n        const obj = allCriterias.find((item) => {\r\n          return item.key === event.value.items[i].key;\r\n        });\r\n        // @ts-ignore\r\n        fullCriteriaLocal.push({...obj, values: event.value.items[i].values})\r\n      }\r\n\r\n      let activeCriteriasLocal = [];\r\n      for (let i = 0; i < fullCriteriaLocal.length; i++) {\r\n        const obj = defaultCriterias.find((item) => {\r\n          return item.key === fullCriteriaLocal[i].key\r\n        });\r\n        if (obj) {\r\n          dispatch(searchSlice.actions.setDefaultCriteriaValues({\r\n            key: fullCriteriaLocal[i].key,\r\n            values: fullCriteriaLocal[i].values\r\n          }))\r\n        } else {\r\n          activeCriteriasLocal.push(fullCriteriaLocal[i]);\r\n        }\r\n      }\r\n      dispatch(searchSlice.actions.setActiveCriterias(activeCriteriasLocal))\r\n    }\r\n  }\r\n\r\n  function onAllCriteriasSelectValueChange(event: any) {\r\n    let index = -1;\r\n    for (let i in activeCriterias) {\r\n      if (event.value.key === activeCriterias[i].key) {\r\n        index = parseInt(i, 10);\r\n        dispatch(templateSlice.actions.setCurrentTemplate(null));\r\n        dispatch(searchSlice.actions.removeActiveCriteria(activeCriterias[index]));\r\n        break\r\n      }\r\n    }\r\n    if (index < 0) {\r\n      dispatch(searchSlice.actions.setActiveCriterias([...activeCriterias, {...event.value, values: []}]));\r\n      dispatch(templateSlice.actions.setCurrentTemplate(null));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{margin: '24px 0'}}>\r\n      <BlockBox padding=\"24px 24px 10px 24px\" height=\"100%\" minHeight=\"200px\">\r\n        <div className={classes.searchTitle}>\r\n          <div className={classes.searchTitleLeft}>\r\n            <Typography className={classes.searchTitleLeftText} variant=\"h5\">\r\n              {translate('searchTitle', language)}\r\n            </Typography>\r\n            <CriteriaTemplate\r\n              handleValueChange={onTemplateSelectValueChange}\r\n              options={convertedTemplate}\r\n              currentTemplate={currentTemplate}\r\n              allTemplates={allTemplates}\r\n            />\r\n            {/*<div style={{marginTop: '3px', borderLeft: '1px solid #CDD5DF', paddingLeft: '16px'}}>*/}\r\n            {/*  <TextSelect*/}\r\n            {/*    name={'templatesSelect'}*/}\r\n            {/*    value={currentTemplate ? {value: currentTemplate, label: currentTemplate.title} : null}*/}\r\n            {/*    handleValueChange={onTemplateSelectValueChange}*/}\r\n            {/*    options={convertedTemplate}*/}\r\n            {/*    iconPosition={'right'}*/}\r\n            {/*    customControl={*/}\r\n            {/*      <div style={{*/}\r\n            {/*        display: 'flex',*/}\r\n            {/*        fontSize: '16px',*/}\r\n            {/*        lineHeight: '24px',*/}\r\n            {/*        color: '#2F3747',*/}\r\n            {/*        marginRight: '5px'*/}\r\n            {/*      }}>*/}\r\n            {/*        {currentTemplate ?*/}\r\n            {/*          <>*/}\r\n            {/*            <Typography style={{color: '#722ED1'}}>{currentTemplate.title}</Typography>*/}\r\n            {/*          </> :*/}\r\n            {/*          <>*/}\r\n            {/*            <Typography style={{*/}\r\n            {/*              fontSize: '16px',*/}\r\n            {/*              lineHeight: '24px',*/}\r\n            {/*              marginRight: '3px',*/}\r\n            {/*              color: '#2F3747'*/}\r\n            {/*            }}>{translate('searchTemp', language)}</Typography>*/}\r\n            {/*            <span style={{fontFamily: '\"Inter\", sans-serif'}}>*/}\r\n            {/*              ({allTemplates.length})*/}\r\n            {/*            </span>*/}\r\n            {/*          </>*/}\r\n            {/*        }*/}\r\n            {/*      </div>*/}\r\n            {/*    }*/}\r\n            {/*    ifArrowColor={currentTemplate ? '#722ED1' : '#000'}*/}\r\n            {/*    menuPosition={'left'}*/}\r\n            {/*  />*/}\r\n            {/*</div>*/}\r\n          </div>\r\n          {(activeCriterias.length > 0 || defaultCriterias.some(item => item.values.length > 0)) &&\r\n          <SaveCriterias\r\n            currentTemplate={currentTemplate}\r\n            handleSelectChange={(event: any) => {\r\n              if (event.value === 'rename') {\r\n                setIsOpenRenameMethod('put');\r\n                setIsOpenRenameWindow(true);\r\n              } else if (event.value === 'delete') {\r\n                setIsOpenDeleteWindow(true);\r\n              }\r\n            }}\r\n            removeAllCriteriasHandler={removeAllCriteriasHandler}\r\n            handleCreateNewTemplateButtonClick={handleCreateNewTemplateButtonClick}\r\n          />\r\n          }\r\n        </div>\r\n        <div style={{display: 'flex', alignItems: 'flex-start', minHeight: '50px'}}>\r\n          <CriteriasList\r\n            defaultCriterias={defaultCriterias}\r\n            allCriterias={allCriterias}\r\n            activeCriterias={activeCriterias}\r\n          />\r\n          <div style={{display: 'flex', alignItems: 'center', minHeight: '54px'}}>\r\n            <LoadingButton\r\n              className={classes.searchSearchButton}\r\n              startIcon={<SearchIcon/>}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              loading={loading}\r\n              loadingPosition=\"start\"\r\n              onClick={searchRequest}\r\n            >\r\n              {translate('searchButton', language)}\r\n            </LoadingButton>\r\n            <div style={{margin: '0 5px 0 20px', whiteSpace: 'nowrap'}}>\r\n              <TextSelect\r\n                name={'moreSelect'}\r\n                value={null}\r\n                handleValueChange={onAllCriteriasSelectValueChange}\r\n                options={op}\r\n                iconPosition={'left'}\r\n                customControl={\r\n                  <div style={{display: 'flex', alignItems: 'center'}}>\r\n                    <Typography style={{\r\n                      color: '#722ED1',\r\n                      fontWeight: '700',\r\n                      marginLeft: '5px'\r\n                    }}>{translate('searchMore', language)}</Typography>\r\n                  </div>\r\n                }\r\n                ifArrowColor={'#722ED1'}\r\n                notClose={true}\r\n                menuPosition={'right'}\r\n                height={\"400px\"}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </BlockBox>\r\n\r\n      {/*Modal windows*/}\r\n      <CreateNameTemplateModalWindow\r\n        currentTemplate={currentTemplate}\r\n        isOpen={isOpenRenameWindow}\r\n        handleClose={() => {\r\n          setIsOpenRenameWindow(false)\r\n        }}\r\n        method={isOpenRenameMethod}\r\n      />\r\n      <DeleteTemplateModalWindow\r\n        currentTemplate={currentTemplate}\r\n        isOpen={isOpenDeleteWindow}\r\n        handleClose={() => {\r\n          setIsOpenDeleteWindow(false)\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Search;\r\n","import React, {FC, useEffect, useState} from 'react';\r\nimport ToggleButton from \"@mui/material/ToggleButton\";\r\nimport {translate} from \"../../localizations\";\r\nimport ToggleButtonGroup from \"@mui/material/ToggleButtonGroup\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport {RootState} from \"../../store/store\";\r\n\r\nconst useStyles = makeStyles(({\r\n  cbDateItems: {\r\n    display: 'flex',\r\n    margin: '5px 10px 0 0'\r\n  },\r\n  controlBlockDateItem: {\r\n    width: '50%',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    margin: '0 0 0 10px',\r\n  },\r\n  calendar: {\r\n    '& .MuiDialog-container': {\r\n      backgroundColor: 'none !important',\r\n      position: 'absolute',\r\n      top: '118px !important',\r\n      left: '148px',\r\n      height: 'auto !important',\r\n      '& .MuiPaper-root': {\r\n        margin: '0'\r\n      }\r\n    }\r\n  },\r\n  calendarInput: {\r\n    '& .MuiInputBase-input': {\r\n      cursor: 'pointer !important',\r\n      width: '100px !important',\r\n      marginLeft: '10px'\r\n    },\r\n    '& .MuiInputBase-input.Mui-disabled': {\r\n      WebkitTextFillColor: '#738094'\r\n    }\r\n  },\r\n  controlBlockButtonBox: {\r\n    boxShadow: 'none !important',\r\n    padding: '0 5px',\r\n    marginLeft: '45px'\r\n  },\r\n  controlBlockButton: {\r\n    border: 'none !important',\r\n    transition: '0.4s !important',\r\n    outline: 'none !important',\r\n    height: '40px',\r\n    fontSize: '14px !important',\r\n    padding: '8px 16px !important',\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    color: '#738094 !important',\r\n    backgroundColor: '#ffffff !important',\r\n    '&.Mui-selected': {\r\n      backgroundColor: '#D6D9DF !important',\r\n      color: '#000 !important'\r\n    }\r\n  },\r\n}));\r\n\r\ntype ButtonsPropsType = {\r\n  items: {\r\n    value: string,\r\n    onClick: () => void,\r\n    unitOfTime: Date[]\r\n  }[]\r\n};\r\n\r\nconst ButtonGroup: FC<ButtonsPropsType> = ({items}) => {\r\n  const classes = useStyles();\r\n\r\n  const [alignment, setAlignment] = useState<string | null>(null);\r\n  const handleChange = (\r\n    event: React.MouseEvent<HTMLElement>,\r\n    newAlignment: string,\r\n  ) => {\r\n    setAlignment(newAlignment);\r\n  };\r\n\r\n  const date = useAppSelector(state => state.search.date);\r\n\r\n  useEffect(() => {\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (date[0] && (items[i].unitOfTime[0].toString() === date[0].toString())) {\r\n        setAlignment(items[i].value);\r\n        break\r\n      } else {\r\n        setAlignment(null);\r\n      }\r\n    }\r\n  }, [date]);\r\n\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n  return (\r\n    <div>\r\n      <ToggleButtonGroup\r\n        className={classes.controlBlockButtonBox}\r\n        value={alignment}\r\n        exclusive\r\n        onChange={handleChange}\r\n      >\r\n        {items.map((item) => (\r\n          <ToggleButton\r\n            key={item.value}\r\n            disabled={item.value === alignment}\r\n            className={classes.controlBlockButton}\r\n            value={item.value}\r\n            onClick={item.onClick}\r\n          >\r\n            {translate(item.value, language)}\r\n          </ToggleButton>\r\n        ))}\r\n      </ToggleButtonGroup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ButtonGroup;","import React, {useState} from 'react';\r\nimport {makeStyles} from '@mui/styles';\r\nimport {DateRangePicker,CustomProvider} from 'rsuite';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../store/store\";\r\nimport {translate} from '../../localizations';\r\nimport {startOfDay, endOfDay, addDays, subDays, addYears, subMonths} from 'date-fns';\r\n\r\nconst CalendarSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 13 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\r\n      style={{position: 'absolute', right: '8px',  top: 'calc(50% - 8px)'}}\r\n    >\r\n      <path \r\n        d=\"M4.64286 0.9375V1.875H8.35714V0.9375C8.35714 0.419824 8.7721 0 9.28571 0C9.79933 0 10.2143 0.419824 10.2143 0.9375V1.875H11.6071C12.3761 1.875 13 2.50459 13 3.28125V4.6875H0V3.28125C0 2.50459 0.623594 1.875 1.39286 1.875H2.78571V0.9375C2.78571 0.419824 3.20067 0 3.71429 0C4.2279 0 4.64286 0.419824 4.64286 0.9375ZM0 5.625H13V13.5938C13 14.3701 12.3761 15 11.6071 15H1.39286C0.623594 15 0 14.3701 0 13.5938V5.625ZM1.85714 8.90625C1.85714 9.16406 2.06491 9.375 2.32143 9.375H3.25C3.50536 9.375 3.71429 9.16406 3.71429 8.90625V7.96875C3.71429 7.71094 3.50536 7.5 3.25 7.5H2.32143C2.06491 7.5 1.85714 7.71094 1.85714 7.96875V8.90625ZM5.57143 8.90625C5.57143 9.16406 5.78036 9.375 6.03571 9.375H6.96429C7.21964 9.375 7.42857 9.16406 7.42857 8.90625V7.96875C7.42857 7.71094 7.21964 7.5 6.96429 7.5H6.03571C5.78036 7.5 5.57143 7.71094 5.57143 7.96875V8.90625ZM9.75 7.5C9.49464 7.5 9.28571 7.71094 9.28571 7.96875V8.90625C9.28571 9.16406 9.49464 9.375 9.75 9.375H10.6786C10.9339 9.375 11.1429 9.16406 11.1429 8.90625V7.96875C11.1429 7.71094 10.9339 7.5 10.6786 7.5H9.75ZM1.85714 12.6562C1.85714 12.9141 2.06491 13.125 2.32143 13.125H3.25C3.50536 13.125 3.71429 12.9141 3.71429 12.6562V11.7188C3.71429 11.4609 3.50536 11.25 3.25 11.25H2.32143C2.06491 11.25 1.85714 11.4609 1.85714 11.7188V12.6562ZM6.03571 11.25C5.78036 11.25 5.57143 11.4609 5.57143 11.7188V12.6562C5.57143 12.9141 5.78036 13.125 6.03571 13.125H6.96429C7.21964 13.125 7.42857 12.9141 7.42857 12.6562V11.7188C7.42857 11.4609 7.21964 11.25 6.96429 11.25H6.03571ZM9.28571 12.6562C9.28571 12.9141 9.49464 13.125 9.75 13.125H10.6786C10.9339 13.125 11.1429 12.9141 11.1429 12.6562V11.7188C11.1429 11.4609 10.9339 11.25 10.6786 11.25H9.75C9.49464 11.25 9.28571 11.4609 9.28571 11.7188V12.6562Z\" fill=\"#B37FEB\"/>\r\n    </svg>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles(({\r\n  dateRangePickerInputs: {\r\n    position: 'relative',\r\n    border: 'none !important',\r\n    outlined: 'none !important',\r\n    minWidth: '222px',\r\n    height: '40px',\r\n    '& .rs-picker-toggle.rs-btn': {\r\n      height: '100%',\r\n      paddingTop: '8px',\r\n      '&:hover, &.rs-picker-toggle-active': {\r\n        borderColor: '#722ED1'\r\n      },\r\n      '&.rs-picker-toggle-active': {\r\n        boxShadow: '0 0 0 3px rgba(114,46,209,0.25)'\r\n      }\r\n    },\r\n    '& .rs-picker-toggle-value': {\r\n      color: '#575757 !important',\r\n      paddingTop: '1px'\r\n    },\r\n    '& .rs-picker-toggle-clean.rs-btn-close': {\r\n      top: '9px !important',\r\n    }\r\n  },\r\n  dateRangePanel: {\r\n    '& .rs-picker-daterange-panel': {\r\n      display: 'flex',\r\n      '& .rs-picker-daterange-content': {\r\n        backgroundColor: '#fff'\r\n      },\r\n      '& .rs-calendar-header-title': {\r\n        fontSize: '14px',\r\n        lineHeight: '22px',\r\n      },\r\n      '& .rs-picker-toolbar': {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n        borderLeft: '1px solid #e5e5ea',\r\n        borderTop: 'none',\r\n        '&::before, &::after': {\r\n          content: 'none',\r\n        }\r\n      },\r\n      '& .rs-picker-toolbar-ranges': {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        '& .rs-btn': {\r\n          textAlign: 'left',\r\n          paddingLeft: '0',\r\n          color: '#575757 !important'\r\n        }\r\n      },\r\n      '& .rs-picker-daterange-header': {\r\n        display: 'none',\r\n      },\r\n      '& .rs-btn-icon.rs-btn-xs>.rs-icon': {\r\n        fontSize: '20px',\r\n      },\r\n      '& .rs-calendar-table-cell-selected .rs-calendar-table-cell-content': {\r\n        backgroundColor: '#722ED1 !important'\r\n      },\r\n      '& .rs-btn-primary, & .rs-btn-primary:focus, & .rs-btn-primary:hover': {\r\n        backgroundColor: '#722ED1 !important'\r\n      },\r\n      '& .rs-calendar-table-cell:hover .rs-calendar-table-cell-content': {\r\n        color: '#722ED1 !important',\r\n        backgroundColor: 'rgba(114, 46, 209, 0.15)'\r\n      },\r\n      '& .rs-calendar-table-cell-selected:hover .rs-calendar-table-cell-content': {\r\n        color: '#fff !important'\r\n      },\r\n      '& .rs-calendar-table-cell-in-range:before': {\r\n        backgroundColor: 'rgba(114, 46, 209, 0.15)'\r\n      }\r\n    },\r\n    '.rs-calendar-table-cell-is-today .rs-calendar-table-cell-content': {\r\n      boxShadow: 'inset 0 0 0 1px #722ED1 !important'\r\n    },\r\n  }\r\n}))\r\n\r\n\r\nconst DateRangePickerWrapper = (props: any) => {\r\n  const classes = useStyles();\r\n  const {language} = useSelector((state: RootState) => state.lang);\r\n\r\n  return (    \r\n    <DateRangePicker\r\n      id={props.id}\r\n      menuClassName={classes.dateRangePanel}\r\n      ranges={[\r\n        {\r\n          label: translate('today', language),\r\n          value: [startOfDay(new Date()), endOfDay(new Date())],\r\n          closeOverlay: true\r\n        },\r\n        {\r\n          label: translate('lastWeek', language),\r\n          value: [startOfDay(subDays(new Date(), 6)), endOfDay(new Date())],\r\n          closeOverlay: true\r\n        },\r\n        {\r\n          label: translate('lastMonth', language),\r\n          value: [startOfDay(subMonths(new Date(), 1)), endOfDay(new Date())],\r\n          closeOverlay: true\r\n        },\r\n        {\r\n          label: translate('lastYear', language),\r\n          value: [startOfDay(addYears(new Date(), -1)), endOfDay(new Date())],\r\n          closeOverlay: true\r\n        },\r\n      ]}\r\n      caretAs={CalendarSvg}\r\n      isoWeek\r\n      appearance=\"default\"\r\n      placeholder={translate('placeholderCalendar', language)}\r\n      format={'dd.MM.yyyy'}\r\n      className={classes.dateRangePickerInputs}\r\n      value={props.value}\r\n      onChange={props.onChange}\r\n      onClean={props.onClean}\r\n    />\r\n  )\r\n}\r\n\r\nexport default DateRangePickerWrapper;","import React, {useState} from 'react';\r\nimport {makeStyles} from '@mui/styles';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../store/store\";\r\nimport ButtonGroup from \"./ButtonGroup\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport {searchSlice} from \"../../store/search/search.slice\";\r\nimport Snackbar from \"./Snackbar\";\r\nimport DateRangePickerWrapper from './DateRangePickerWrapper';\r\nimport {reportsSlice} from './../../store/reports/reports.slice';\r\n\r\n// Svg\r\nconst DownloadSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"12\" height=\"14\" viewBox=\"0 0 12 14\" xmlns=\"http://www.w3.org/2000/svg\"\r\n         fill={props.fill ? props.fill : \"#738094\"}>\r\n      <path\r\n        d=\"M0.75 10.1875C1.06066 10.1875 1.3125 10.4394 1.3125 10.75V12.25C1.3125 12.3536 1.39645 12.4375 1.5 12.4375H10.5C10.6036 12.4375 10.6875 12.3536 10.6875 12.25V10.75C10.6875 10.4394 10.9394 10.1875 11.25 10.1875C11.5606 10.1875 11.8125 10.4394 11.8125 10.75V12.25C11.8125 12.9749 11.2249 13.5625 10.5 13.5625H1.5C0.775125 13.5625 0.1875 12.9749 0.1875 12.25V10.75C0.1875 10.4394 0.439342 10.1875 0.75 10.1875Z\"/>\r\n      <path\r\n        d=\"M5.05298 0.8125C4.66726 0.8125 4.34541 1.10734 4.31172 1.49166C4.19649 2.80619 4.17617 4.12719 4.25084 5.44438C4.0656 5.45462 3.88043 5.46648 3.69536 5.47997L2.57822 5.56142C2.1475 5.59277 1.90672 6.07308 2.13926 6.43698C2.93579 7.68355 3.96213 8.76723 5.16361 9.63033L5.61113 9.95185C5.84326 10.1186 6.15593 10.1186 6.38806 9.95185L6.83558 9.63033C8.03708 8.76723 9.06338 7.68355 9.85996 6.43698C10.0925 6.07308 9.85171 5.59277 9.42098 5.56142L8.30386 5.47997C8.11876 5.46648 7.93358 5.45462 7.74833 5.44438C7.82303 4.12719 7.80271 2.80619 7.68751 1.49165C7.65376 1.10734 7.33193 0.8125 6.94621 0.8125H5.05298Z\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst CalendarSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 13 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\r\n      style={{position: 'absolute', right: '8px',  top: 'calc(50% - 8px)'}}\r\n    >\r\n      <path \r\n        d=\"M4.64286 0.9375V1.875H8.35714V0.9375C8.35714 0.419824 8.7721 0 9.28571 0C9.79933 0 10.2143 0.419824 10.2143 0.9375V1.875H11.6071C12.3761 1.875 13 2.50459 13 3.28125V4.6875H0V3.28125C0 2.50459 0.623594 1.875 1.39286 1.875H2.78571V0.9375C2.78571 0.419824 3.20067 0 3.71429 0C4.2279 0 4.64286 0.419824 4.64286 0.9375ZM0 5.625H13V13.5938C13 14.3701 12.3761 15 11.6071 15H1.39286C0.623594 15 0 14.3701 0 13.5938V5.625ZM1.85714 8.90625C1.85714 9.16406 2.06491 9.375 2.32143 9.375H3.25C3.50536 9.375 3.71429 9.16406 3.71429 8.90625V7.96875C3.71429 7.71094 3.50536 7.5 3.25 7.5H2.32143C2.06491 7.5 1.85714 7.71094 1.85714 7.96875V8.90625ZM5.57143 8.90625C5.57143 9.16406 5.78036 9.375 6.03571 9.375H6.96429C7.21964 9.375 7.42857 9.16406 7.42857 8.90625V7.96875C7.42857 7.71094 7.21964 7.5 6.96429 7.5H6.03571C5.78036 7.5 5.57143 7.71094 5.57143 7.96875V8.90625ZM9.75 7.5C9.49464 7.5 9.28571 7.71094 9.28571 7.96875V8.90625C9.28571 9.16406 9.49464 9.375 9.75 9.375H10.6786C10.9339 9.375 11.1429 9.16406 11.1429 8.90625V7.96875C11.1429 7.71094 10.9339 7.5 10.6786 7.5H9.75ZM1.85714 12.6562C1.85714 12.9141 2.06491 13.125 2.32143 13.125H3.25C3.50536 13.125 3.71429 12.9141 3.71429 12.6562V11.7188C3.71429 11.4609 3.50536 11.25 3.25 11.25H2.32143C2.06491 11.25 1.85714 11.4609 1.85714 11.7188V12.6562ZM6.03571 11.25C5.78036 11.25 5.57143 11.4609 5.57143 11.7188V12.6562C5.57143 12.9141 5.78036 13.125 6.03571 13.125H6.96429C7.21964 13.125 7.42857 12.9141 7.42857 12.6562V11.7188C7.42857 11.4609 7.21964 11.25 6.96429 11.25H6.03571ZM9.28571 12.6562C9.28571 12.9141 9.49464 13.125 9.75 13.125H10.6786C10.9339 13.125 11.1429 12.9141 11.1429 12.6562V11.7188C11.1429 11.4609 10.9339 11.25 10.6786 11.25H9.75C9.49464 11.25 9.28571 11.4609 9.28571 11.7188V12.6562Z\" fill=\"#B37FEB\"/>\r\n    </svg>\r\n  )\r\n}\r\n\r\n// Styles\r\nconst useStyles = makeStyles(({\r\n  controlBlockWrapper: {\r\n    marginTop: '24px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    position: 'relative'\r\n  },\r\n  controlBlockDate: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    maxWidth: '665px',\r\n    width: '100%',\r\n  },\r\n  cbDateItems: {\r\n    display: 'flex',\r\n  },\r\n  controlBlockDateItem: {\r\n    display: 'flex',\r\n    marginRight: '15px',\r\n    alignItems: 'center',\r\n  },\r\n  controlBlockDownload: {\r\n    display: 'flex'\r\n  },\r\n  controlBlockButtonBox: {\r\n    boxShadow: 'none !important',\r\n    padding: '0 5px'\r\n  },\r\n  controlBlockButton: {\r\n    border: 'none !important',\r\n    transition: '0.4s !important',\r\n    outline: 'none !important',\r\n    height: '40px',\r\n    fontSize: '14px !important',\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    color: '#738094 !important',\r\n    backgroundColor: '#ffffff !important',\r\n    '&.Mui-selected': {\r\n      backgroundColor: '#D6D9DF !important',\r\n      color: '#000 !important'\r\n    }\r\n  },\r\n  cbButtonWithIcon: {\r\n    padding: '0 20px !important',\r\n    '& .MuiButton-startIcon svg': {\r\n      fill: '#738094',\r\n    }\r\n  },\r\n}))\r\n\r\nexport const unitsOfTime = {\r\n  today: [new Date(Date.now()), new Date(Date.now())],\r\n  yesterday: [new Date(Date.now() - 24 * 60 * 60 * 1000), new Date(Date.now() - 24 * 60 * 60 * 1000)],\r\n  week: [new Date(Date.now() - 168 * 60 * 60 * 1000), new Date(Date.now())],\r\n  month: [new Date(Date.now() - 720 * 60 * 60 * 1000), new Date(Date.now())],\r\n  year: [new Date(Date.now() - 8760 * 60 * 60 * 1000), new Date(Date.now())]\r\n}\r\n\r\nconst ControlBlock = (props: any) => {\r\n\r\n  const element = document.getElementById(\"dateRangePicker\");\r\n  if (element) {\r\n    element.classList.remove(\"rs-picker-toggle-active\");\r\n  }\r\n\r\n  const {language} = useSelector((state: RootState) => state.lang);\r\n  const classes = useStyles();\r\n  const date = useAppSelector(state => state.search.date);\r\n  const dateReports = useAppSelector(state => state.reports.date);\r\n  const dispatch = useDispatch();\r\n\r\n  const [errorSnackbar, setErrorSnackbar] = useState<boolean>(false);\r\n\r\n\r\n  return (\r\n    <div className={classes.controlBlockWrapper}>\r\n      <div className={classes.controlBlockDate}>\r\n        {/* ÐÐ²Ð¾Ð´ ÑÐ¾ÑÐ½Ð¾Ð¹ Ð´Ð°ÑÑ */}\r\n        <div style={{height: '40px', display: 'flex'}}>\r\n          {props.switchEntity === 'reports' ?\r\n            <DateRangePickerWrapper\r\n              id={'dateRangePicker'}\r\n              // @ts-ignore\r\n              value={dateReports}\r\n              // @ts-ignore\r\n              onChange={(value,) => {\r\n                // @ts-ignore\r\n                dispatch(reportsSlice.actions.setDate(value))\r\n              }}\r\n              onClean={() => {\r\n                dispatch(reportsSlice.actions.setDate([null, null]));\r\n              }}\r\n            />\r\n            :\r\n            <DateRangePickerWrapper\r\n              id={'dateRangePicker'}\r\n              // @ts-ignore\r\n              value={date}\r\n              // @ts-ignore\r\n              onChange={(value,) => {\r\n                // @ts-ignore\r\n                dispatch(searchSlice.actions.setDate(value));\r\n              }}\r\n              onClean={() => {\r\n                dispatch(searchSlice.actions.setDate([null, null]));\r\n              }}\r\n            />\r\n          }\r\n          <ButtonGroup\r\n            items={[\r\n              {\r\n                value: 'today', onClick: () => {\r\n                  {props.switchEntity === 'reports' ? \r\n                    dispatch(reportsSlice.actions.setDate(unitsOfTime.today))\r\n                  : dispatch(searchSlice.actions.setDate(unitsOfTime.today))\r\n                  }\r\n                }, unitOfTime: unitsOfTime.today\r\n              },\r\n              {\r\n                value: 'yesterday', onClick: () => {\r\n                  {props.switchEntity === 'reports' ? \r\n                    dispatch(reportsSlice.actions.setDate(unitsOfTime.yesterday))\r\n                  : dispatch(searchSlice.actions.setDate(unitsOfTime.yesterday))\r\n                  }                  \r\n                }, unitOfTime: unitsOfTime.yesterday\r\n              },\r\n              {\r\n                value: 'week', onClick: () => {\r\n                  {props.switchEntity === 'reports' ? \r\n                    dispatch(reportsSlice.actions.setDate(unitsOfTime.week))\r\n                  : dispatch(searchSlice.actions.setDate(unitsOfTime.week))\r\n                  }\r\n                }, unitOfTime: unitsOfTime.week\r\n              },\r\n              {\r\n                value: 'month', onClick: () => {\r\n                  {props.switchEntity === 'reports' ? \r\n                    dispatch(reportsSlice.actions.setDate(unitsOfTime.month))\r\n                  : dispatch(searchSlice.actions.setDate(unitsOfTime.month))\r\n                  }\r\n                }, unitOfTime: unitsOfTime.month\r\n              },\r\n              {\r\n                value: 'year', onClick: () => {\r\n                  {props.switchEntity === 'reports' ? \r\n                    dispatch(reportsSlice.actions.setDate(unitsOfTime.year))\r\n                  : dispatch(searchSlice.actions.setDate(unitsOfTime.year))\r\n                  }\r\n                }, unitOfTime: unitsOfTime.year\r\n              }\r\n            ]}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Snackbar\r\n        type={'error'}\r\n        open={errorSnackbar}\r\n        onClose={() => {\r\n          setErrorSnackbar(false);\r\n        }}\r\n        text={'Ð­ÑÐ° ÑÑÐ½ÐºÑÐ¸Ñ Ð¿Ð¾ÐºÐ° Ð½Ðµ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ'}\r\n        time={2000}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ControlBlock;","import React, {FC, memo} from 'react';\r\nimport Chip from '@mui/material/Chip';\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport cn from 'classnames';\r\nimport Tooltip from '@mui/material/Tooltip';\r\ntype TagPropsType = {\r\n  title: string,\r\n  body: string\r\n};\r\n\r\nexport const TwoTags: FC<TagPropsType> = memo(({title, body}) => {\r\n\r\n  const useStyles = makeStyles(({\r\n    general: {\r\n      height: '24px !important',\r\n      cursor: 'default !important',\r\n      fontFamily: 'Inter, sans-serif !important',\r\n      borderRadius: '0 !important',\r\n    },\r\n    title: {\r\n      borderRadius: `${body ? '0' : '3px'} !important`,\r\n      borderTopLeftRadius: \"3px !important\",\r\n      borderBottomLeftRadius: \"3px !important\",\r\n      margin: '0 0 5px 5px !important',\r\n      backgroundColor: '#D6D9DF !important',\r\n      color: `#000000 !important`,\r\n      borderColor: '#D6D9DF !important'\r\n    },\r\n    body: {\r\n      borderTopRightRadius: \"3px !important\",\r\n      borderBottomRightRadius: \"3px !important\",\r\n      margin: '0 5px 5px 0 !important',\r\n      backgroundColor: `#722ED1 !important`,\r\n      color: `#fff !important`,\r\n      borderColor: `#722ED1 !important`\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  return (\r\n    <span>\r\n      <Chip label={title} className={cn(classes.title, classes.general)}/>\r\n      {body && <Chip label={body} className={cn(classes.body, classes.general)}/>}\r\n    </span>\r\n  )\r\n});\r\n\r\n\r\nexport const TwoTagsMini: FC<TagPropsType> = memo(({title, body}) => {\r\n\r\n  const useStyles = makeStyles(({\r\n    general: {\r\n      height: '20px !important',\r\n      cursor: 'default !important',\r\n      fontFamily: 'Inter, sans-serif !important',\r\n      borderRadius: '0 !important',\r\n    },\r\n    title: {\r\n      borderRadius: `${body ? '0' : '3px'} !important`,\r\n      borderTopLeftRadius: \"3px !important\",\r\n      borderBottomLeftRadius: \"3px !important\",\r\n      backgroundColor: '#D6D9DF !important',\r\n      color: `#000000 !important`,\r\n      borderColor: '#D6D9DF !important'\r\n    },\r\n    body: {\r\n      borderTopRightRadius: \"3px !important\",\r\n      borderBottomRightRadius: \"3px !important\",\r\n      margin: '5px 5px 5px 0 !important',\r\n      backgroundColor: `#722ED1 !important`,\r\n      color: `#fff !important`,\r\n      borderColor: `#722ED1 !important`\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  return (\r\n    <span>\r\n      <Chip label={title} className={cn(classes.title, classes.general)}/>\r\n      {body && <Chip label={body} className={cn(classes.body, classes.general)}/>}\r\n    </span>\r\n  )\r\n});\r\n\r\nexport const BaseTag: FC<{ body: string }> = memo(({body}) => {\r\n  const useStyles = makeStyles(({\r\n    body: {\r\n      zIndex: '2',\r\n      height: '24px !important',\r\n      cursor: 'pointer !important',\r\n      fontFamily: 'Inter, sans-serif !important',\r\n      border: '2px solid #E9ECEF !important',\r\n      borderRadius: '3px !important',\r\n      margin: '2px !important',\r\n      backgroundColor: '#D6D9DF !important',\r\n      color: `#000000 !important`\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  return <Chip label={body} className={classes.body}/>\r\n});\r\n\r\n\r\n\r\nexport const Fragment: FC<{matchData: string}> = memo(({children, matchData}) => {\r\n  const useStyles = makeStyles(({\r\n    tooltip: {\r\n      borderRadius: \"3px\",\r\n      fontFamily: 'Inter, sans-serif !important',\r\n      color: '#000 !important',\r\n      fontSize: '14px !important',\r\n      padding: '6px 8px !important',\r\n      backgroundColor : '#fff !important',\r\n      boxShadow: 'rgba(100, 100, 111, 0.2) 0px 7px 29px 0px'\r\n    },\r\n    arrow: {\r\n      backgroundColor: '#fff !important'\r\n    },\r\n    body: {\r\n      borderRadius: '3px !important',\r\n      height: '24px !important',\r\n      margin: '5px !important',\r\n      cursor: 'pointer !important',\r\n      backgroundColor: `#D6D9DF !important`,\r\n      color: `#000 !important`,\r\n      fontFamily: 'Inter, sans-serif !important',\r\n      border: `2px solid #D6D9DF !important`,\r\n      \"&:hover\": {\r\n        borderColor: `#D6D9DF !important`\r\n      }\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  return (\r\n    <Tooltip disableInteractive={true} classes={{tooltip: classes.tooltip}} title={matchData} placement=\"top\">\r\n      <Chip label={children} className={classes.body}/>\r\n    </Tooltip>\r\n  )\r\n});\r\n","import React, {FC} from \"react\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {Fab} from \"@mui/material\";\r\n\r\ntype IconButtonPropsType = {\r\n  icon: any,\r\n  backgroundColor: string,\r\n  onClick: (event: any) => void,\r\n  width?: string,\r\n  margin: string,\r\n  disabled?: boolean,\r\n  height?: string,\r\n  borderRadius?: string\r\n};\r\n\r\nconst IconButton: FC<IconButtonPropsType> = ({borderRadius, disabled, icon, backgroundColor, onClick, width, margin, height}) => {\r\n  const useButtonStyles = makeStyles(({\r\n    button: {\r\n      '&.MuiButtonBase-root.MuiFab-root': {\r\n        minWidth: '32px',\r\n        padding: '0 8px',\r\n        width: width ? width : '32px',\r\n        height: height ? height : '32px',\r\n        minHeight: '32px',\r\n        borderRadius: borderRadius ? borderRadius : '5px',\r\n        boxShadow: 'none',\r\n        margin: margin,\r\n        backgroundColor: backgroundColor\r\n      }\r\n    }\r\n  }));\r\n  const classes = useButtonStyles()\r\n  return (\r\n    <Fab disabled={disabled} className={classes.button} onClick={(event) => onClick(event)}>\r\n      {icon}\r\n    </Fab>\r\n  );\r\n};\r\n\r\nexport default IconButton","import React, {FC} from 'react';\r\nimport IconButton from \"../IconButton\";\r\n\r\nconst PlusSvg = () => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M8.00034 2.66699C8.38454 2.66699 8.69599 2.97845 8.69599 3.36264V12.638C8.69599 13.0222 8.38454 13.3337 8.00034 13.3337C7.61614 13.3337 7.30469 13.0222 7.30469 12.638V3.36264C7.30469 2.97845 7.61614 2.66699 8.00034 2.66699Z\" fill=\"#389E0D\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M2.66602 8.00034C2.66602 7.61614 2.97747 7.30469 3.36167 7.30469H12.637C13.0212 7.30469 13.3327 7.61614 13.3327 8.00034C13.3327 8.38454 13.0212 8.69599 12.637 8.69599H3.36167C2.97747 8.69599 2.66602 8.38454 2.66602 8.00034Z\" fill=\"#389E0D\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\ntype PlusPropsType = {\r\n  margin?: string,\r\n  handleClick?: any,\r\n  disabled?: boolean\r\n}\r\n\r\nconst Plus: FC<PlusPropsType> = ({disabled, margin, handleClick}) => {\r\n  return (\r\n    <IconButton\r\n      disabled={disabled}\r\n      margin={margin ? margin : '0 15px 0 0'}\r\n      backgroundColor=\"#D9F7BE\"\r\n      icon={<PlusSvg/>}\r\n      onClick={handleClick}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Plus;","import React, {FC} from 'react';\r\nimport IconButton from \"../IconButton\";\r\n\r\nconst RebootSvg = () => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M4.36267 5.44226C4.21919 5.40441 4.09994 5.30478 4.03716 5.17032C3.97439 5.03586 3.97458 4.88047 4.03769 4.74617L5.14486 2.38991C5.22736 2.21431 5.404 2.1023 5.59801 2.10254C5.79202 2.10278 5.96837 2.21523 6.05044 2.39103L6.53886 3.43718C6.55632 3.43032 6.57436 3.42437 6.59291 3.41939C9.49111 2.64282 12.4702 4.36275 13.2467 7.26097C14.0233 10.1592 12.3034 13.1382 9.40518 13.9148C6.50692 14.6914 3.5279 12.9714 2.75132 10.0732C2.50436 9.15157 2.37364 8.83264 2.58992 7.96678C2.65685 7.69891 2.92829 7.53598 3.1962 7.60291C3.46411 7.66978 3.62704 7.94124 3.56011 8.20918C3.38392 8.91451 3.51534 9.06091 3.71724 9.81444C4.35088 12.1792 6.78158 13.5825 9.14631 12.9489C11.5111 12.3152 12.9144 9.88457 12.2808 7.51984C11.6575 5.19371 9.29551 3.79783 6.96778 4.35587L7.46058 5.4114C7.54264 5.58719 7.51558 5.7946 7.39124 5.94349C7.26684 6.09237 7.06758 6.15587 6.87998 6.10638L4.36267 5.44226Z\" fill=\"#738094\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\n\r\nconst Reboot: FC = () => {\r\n  return (\r\n    <IconButton\r\n      margin={'0 15px 0 0'}\r\n      backgroundColor=\"#E3E8EF\"\r\n      icon={<RebootSvg/>}\r\n      onClick={(event: any) => {\r\n        // ÑÐ¼Ð¿ÑÐ¸.\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Reboot;","import React, {FC} from 'react';\r\nimport IconButton from \"../IconButton\";\r\n\r\nconst HistorySvg = () => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M4.57576 4.58857C5.45144 3.70987 6.66152 3.16699 7.99935 3.16699C10.6687 3.16699 12.8327 5.33095 12.8327 8.00033C12.8327 10.6697 10.6687 12.8337 7.99935 12.8337C5.32998 12.8337 3.16602 10.6697 3.16602 8.00033C3.16602 7.72419 2.94216 7.50033 2.66602 7.50033C2.38988 7.50033 2.16602 7.72419 2.16602 8.00033C2.16602 11.222 4.77769 13.8337 7.99935 13.8337C11.221 13.8337 13.8327 11.222 13.8327 8.00033C13.8327 4.77867 11.221 2.16699 7.99935 2.16699C6.38502 2.16699 4.92307 2.82341 3.86744 3.88267C3.85047 3.8997 3.83498 3.91764 3.82098 3.93633L2.9826 3.09796C2.89114 3.0065 2.75504 2.97621 2.63342 3.02023C2.51181 3.06427 2.42664 3.17467 2.41494 3.30348L2.17923 5.89621C2.17028 5.99473 2.20554 6.09213 2.2755 6.16208C2.34544 6.23204 2.44286 6.26731 2.54138 6.25835L5.1341 6.02265C5.26291 6.01093 5.37332 5.92577 5.41734 5.80416C5.46138 5.68254 5.43108 5.54643 5.33962 5.45498L4.52088 4.63623C4.54002 4.62189 4.55838 4.60601 4.57576 4.58857Z\" fill=\"#738094\"/>\r\n      <path d=\"M8.5 4.66699C8.5 4.39085 8.27613 4.16699 8 4.16699C7.72387 4.16699 7.5 4.39085 7.5 4.66699V8.00033C7.5 8.17273 7.5888 8.33293 7.735 8.42433L9.735 9.67433C9.9692 9.82066 10.2777 9.74953 10.424 9.51533C10.5703 9.28113 10.4992 8.97266 10.265 8.82633L8.5 7.72319V4.66699Z\" fill=\"#738094\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\n\r\nconst History: FC = () => {\r\n  return (\r\n    <IconButton\r\n      margin={'0 15px 0 0'}\r\n      backgroundColor=\"#E3E8EF\"\r\n      icon={<HistorySvg/>}\r\n      onClick={(event: any) => {\r\n        // ÑÐ¼Ð¿ÑÐ¸.\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default History;","import React, {FC} from 'react';\r\nimport IconButton from \"../IconButton\";\r\n\r\nconst DownloadSvg = () => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M3.33398 10.833C3.61012 10.833 3.83398 11.0569 3.83398 11.333V12.6663C3.83398 12.7584 3.9086 12.833 4.00065 12.833H12.0007C12.0927 12.833 12.1673 12.7584 12.1673 12.6663V11.333C12.1673 11.0569 12.3912 10.833 12.6673 10.833C12.9435 10.833 13.1673 11.0569 13.1673 11.333V12.6663C13.1673 13.3107 12.645 13.833 12.0007 13.833H4.00065C3.35632 13.833 2.83398 13.3107 2.83398 12.6663V11.333C2.83398 11.0569 3.05784 10.833 3.33398 10.833Z\" fill=\"#A3AEBE\"/>\r\n      <path d=\"M7.15864 2.5C6.81578 2.5 6.52969 2.76208 6.49974 3.1037C6.39732 4.27217 6.37925 5.44639 6.44563 6.61723C6.28097 6.62633 6.11638 6.63687 5.95186 6.64887L4.95886 6.72127C4.57599 6.74913 4.36196 7.17607 4.56866 7.49953C5.27669 8.6076 6.189 9.57087 7.25698 10.3381L7.65478 10.6239C7.86111 10.7721 8.13904 10.7721 8.34538 10.6239L8.74318 10.3381C9.81118 9.57087 10.7234 8.6076 11.4315 7.49953C11.6382 7.17607 11.4242 6.74913 11.0413 6.72127L10.0483 6.64887C9.88378 6.63687 9.71918 6.62633 9.55451 6.61723C9.62091 5.44639 9.60284 4.27217 9.50044 3.10369C9.47044 2.76208 9.18438 2.5 8.84151 2.5H7.15864Z\" fill=\"#738094\"/>\r\n    </svg>\r\n\r\n  );\r\n};\r\n\r\n\r\nconst Download: FC = () => {\r\n  return (\r\n    <IconButton\r\n      margin={'0 15px 0 0'}\r\n      backgroundColor=\"#E3E8EF\"\r\n      icon={<DownloadSvg/>}\r\n      onClick={(event: any) => {\r\n        // ÑÐ¼Ð¿ÑÐ¸.\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Download;","import React, {FC} from 'react';\r\nimport IconButton from \"../IconButton\";\r\n\r\nconst BackSvg = () => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M13.352 9.39611C13.2972 9.44451 13.2641 9.51298 13.2605 9.58605C13.2281 10.2611 13.1727 10.9354 13.0941 11.6076C12.9913 12.486 12.281 13.1858 11.3942 13.2848C9.157 13.5349 6.8426 13.5349 4.60538 13.2848C3.71864 13.1858 3.00831 12.486 2.90557 11.6076C2.63824 9.32185 2.63824 7.01285 2.90557 4.72713C3.00831 3.84869 3.71864 3.14894 4.60538 3.04983C6.0804 2.88498 7.59073 2.82889 9.08879 2.88142C9.19693 2.88521 9.28899 2.80291 9.29659 2.69493L9.32933 2.22625C9.33133 2.19865 9.33406 2.17135 9.33746 2.14436C9.35373 2.01477 9.26386 1.88698 9.13333 1.88236C7.58293 1.82743 6.02163 1.88533 4.49431 2.05603C3.15293 2.20594 2.07005 3.26261 1.91235 4.61097C1.63599 6.97385 1.63599 9.36085 1.91235 11.7237C2.07005 13.072 3.15293 14.1288 4.49431 14.2786C6.80533 14.537 9.19426 14.537 11.5053 14.2786C12.8467 14.1288 13.9295 13.072 14.0873 11.7237C14.1999 10.7605 14.2667 9.79331 14.2875 8.82531C14.2901 8.70385 14.1411 8.64331 14.0557 8.72985C13.829 8.96005 13.5943 9.18225 13.352 9.39611Z\" fill=\"#A3AEBE\"/>\r\n      <path d=\"M5.2448 10.3666C5.09732 10.326 4.99642 10.1902 5.0001 10.0373L5.03959 8.39467C5.09614 6.04271 7.01899 4.16551 9.37166 4.16551H10.2099C10.2275 3.74969 10.2514 3.33407 10.2817 2.9188L10.3269 2.29837C10.3545 1.91975 10.7767 1.70809 11.0965 1.9125C12.4772 2.79469 13.6775 3.93142 14.6333 5.26209L14.9374 5.68539C15.0209 5.8016 15.0209 5.95812 14.9374 6.07433L14.6333 6.49763C13.6775 7.82827 12.4772 8.96501 11.0965 9.84721C10.8331 10.0155 10.4993 9.90174 10.3747 9.64487C10.3485 9.59027 10.3317 9.52734 10.3269 9.46134L10.2817 8.84094C10.2455 8.34567 10.2185 7.84994 10.2005 7.35394L9.96446 7.31841C8.46032 7.09201 6.97252 7.81787 6.2252 9.14267L5.62366 10.2091C5.59501 10.2598 5.55435 10.3009 5.50712 10.3297C5.43048 10.3765 5.33598 10.3917 5.2448 10.3666Z\" fill=\"#738094\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\ntype BackPropsType = {\r\n  onClick: (event: any) => void\r\n}\r\n\r\nconst Back: FC<BackPropsType> = ({onClick}) => {\r\n  return (\r\n    <IconButton\r\n      margin={'0 15px 0 0'}\r\n      backgroundColor=\"#E3E8EF\"\r\n      icon={<BackSvg/>}\r\n      onClick={(event: any) => {onClick(event)}}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Back;","import React, {FC, useState, useEffect} from 'react';\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport ReactAudioPlayer from \"react-audio-player\";\r\nimport Speed from \"./Buttons/Speed\";\r\n\r\nconst useStyles = makeStyles(({\r\n  audioPlayer: {\r\n    width: '100%',\r\n    marginBottom: '16px',\r\n  }\r\n}));\r\n\r\ntype AudioPlayerPropsType = {\r\n  onListen: (e: any) => void,\r\n  callAudio: string | undefined | null,\r\n  audioPlayerRef: any\r\n}\r\n\r\nconst AudioPlayer: FC<AudioPlayerPropsType> = ({callAudio, onListen, audioPlayerRef}) => {\r\n  const classes = useStyles();\r\n\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setIsPlaying(false);\r\n    }\r\n  })\r\n\r\n  const togglePlayPause = () => {\r\n    const prevValue = isPlaying;\r\n    debugger\r\n    setIsPlaying(!prevValue);\r\n    if (!prevValue) {\r\n      audioPlayerRef.current.audioEl.current.play();\r\n    } else {\r\n      audioPlayerRef.current.audioEl.current.pause();\r\n    }\r\n  }\r\n\r\n  const changeRange = () => {\r\n    audioPlayerRef.current.audioEl.current.currentTime = 2;\r\n  }\r\n\r\n  return (\r\n    <div tabIndex={1} style={{display: 'flex', backgroundColor: '#F8FAFC'}}>\r\n      <ReactAudioPlayer\r\n        ref={audioPlayerRef}\r\n        className={classes.audioPlayer}\r\n        controls={true}\r\n        src={callAudio ? callAudio : ''}\r\n        listenInterval={1}\r\n        // autoPlay={true}\r\n        onListen={onListen}\r\n        onSeeked={onListen}\r\n      />\r\n      {/*<Speed audioPlayerRef={audioPlayerRef}/>*/}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AudioPlayer;\r\n\r\n\r\n{/*<audio*/}\r\n{/*  ref={audioPlayerRef}*/}\r\n{/*  className={classes.audioPlayer}*/}\r\n{/*  src={callAudio ? callAudio : ''}*/}\r\n{/*  preload=\"metadata\"*/}\r\n{/*  controls={true}*/}\r\n{/*/>*/}","import React, {FC, memo, MutableRefObject, useState} from 'react';\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {BlockBox} from \"../../../components/common\";\r\nimport {Typography} from \"@mui/material\";\r\nimport cn from 'classnames';\r\nimport {BaseTag} from \"../../../components/common/Tag\";\r\nimport {CallSttFragmentType} from \"../../../store/calls/calls.types\";\r\nimport {timeConverter} from \"../Call\";\r\n\r\ntype DialogItemType = {\r\n  prevFragment: CallSttFragmentType | {direction: string},\r\n  fragment: CallSttFragmentType,\r\n  fragmentIndex: number,\r\n  callId: string,\r\n  audioPlayerRef: any\r\n};\r\n\r\nconst DialogItem: FC<DialogItemType> = memo(({prevFragment, fragment, fragmentIndex, callId, audioPlayerRef}) => {\r\n  const useStyles = makeStyles(({\r\n    diItem: {\r\n      display: 'flex',\r\n      margin: '3px 0'\r\n    },\r\n    diBodyInner: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'start',\r\n      position: 'relative',\r\n      maxWidth: '700px',\r\n    },\r\n    diBodyText: {\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n      maxWidth: '600px !important',\r\n      height: '100% !important',\r\n      lineHeight: '22px !important',\r\n      color: '#738094 !important',\r\n      paddingRight: '45px !important'\r\n    },\r\n    dateTypography: {\r\n      fontSize: '14px !important',\r\n    },\r\n    diTagsBlock: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'space-between',\r\n      margin: '0 16px'\r\n    },\r\n    diFragment: {\r\n      padding: '0 2px',\r\n      borderRadius: '3px'\r\n    },\r\n    typographyTitle: {\r\n      textAlign: 'right',\r\n      color: '#738094 !important',\r\n      fontWeight: '700 !important',\r\n      minWidth: '110px !important',\r\n      marginRight: '10px !important'\r\n    },\r\n    titleCustomer: {\r\n      color: '#0009FF !important'\r\n    },\r\n    titleEmployee: {\r\n      color: '#FF0E00 !important'\r\n    },\r\n  }))\r\n\r\n  const classes = useStyles();\r\n  const condition = fragment.direction === 'client';\r\n\r\n  return (\r\n    <div className={classes.diItem}>\r\n      {/* DIBody */}\r\n      <div className={classes.diBodyInner}>\r\n        <Typography\r\n          className={classes.dateTypography}>\r\n          {timeConverter(fragment.begin, false)}\r\n        </Typography>\r\n          <Typography\r\n            className={cn(classes.typographyTitle, condition ? classes.titleCustomer : classes.titleEmployee)}\r\n          >\r\n            {prevFragment\r\n              ?\r\n              prevFragment.direction !== fragment.direction && <>{`${condition ? 'ÐÐ»Ð¸ÐµÐ½Ñ' : 'Ð¡Ð¾ÑÑÑÐ´Ð½Ð¸Ðº'}:`}</>\r\n              :\r\n              <></>\r\n            }\r\n          </Typography>\r\n        <Typography className={classes.diBodyText}>\r\n          {fragment.words.map((word, j) => (\r\n            <span\r\n              onClick={() => {\r\n                audioPlayerRef.current.audioEl.current.play();\r\n                audioPlayerRef.current.audioEl.current.currentTime = word.begin / 1000 + 0.01;\r\n              }}\r\n              id={`${callId}-${fragmentIndex}-${j}`}\r\n              className={classes.diFragment}\r\n              key={j}\r\n            >\r\n                {word.word}\r\n              </span>\r\n          ))}\r\n        </Typography>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default DialogItem;","import React, {FC, useEffect, useRef} from 'react';\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {Typography} from \"@mui/material\";\r\nimport 'react-h5-audio-player/lib/styles.css';\r\nimport {callsSlice, getCallPublicToken} from \"../../../store/calls/calls.slice\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {\r\n  CallAudioType,\r\n  CallInfoType,\r\n  CallSttType,\r\n  CallTagType,\r\n} from \"../../../store/calls/calls.types\";\r\nimport Plus from \"../../../components/common/Buttons/Plus\";\r\nimport Reboot from \"../../../components/common/Buttons/Reboot\";\r\nimport History from \"../../../components/common/Buttons/History\";\r\nimport Download from \"../../../components/common/Buttons/Download\";\r\nimport Back from \"../../../components/common/Buttons/Back\";\r\nimport {BlockBox} from \"../../../components/common\";\r\nimport {Fragment} from \"../../../components/common/Tag\";\r\nimport AudioPlayer from \"../../../components/common/AudioPlayer\";\r\nimport DialogItem from \"./DialogItem\";\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\n\r\nconst CallSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        d=\"M15.4696 1.03022C15.6103 1.17087 15.6893 1.36164 15.6893 1.56055V5.38897C15.6893 5.80319 15.3535 6.13897 14.9393 6.13897C14.5251 6.13897 14.1893 5.80319 14.1893 5.38897V3.37121L11.0303 6.53022C10.7374 6.82311 10.2625 6.82311 9.9696 6.53022C9.6768 6.23732 9.6768 5.76245 9.9696 5.46956L13.1287 2.31055H11.1109C10.6967 2.31055 10.3609 1.97476 10.3609 1.56055C10.3609 1.14633 10.6967 0.810547 11.1109 0.810547H14.9393C15.1382 0.810547 15.329 0.889567 15.4696 1.03022Z\"\r\n        fill=\"#73D13D\"/>\r\n      <path\r\n        d=\"M1.00005 6.86077C2.91645 11.0346 6.32648 14.3531 10.566 16.1521L11.2456 16.4549C12.8004 17.1477 14.6282 16.6214 15.5765 15.2079L16.4646 13.8842C16.7533 13.4538 16.6654 12.8741 16.2621 12.5487L13.2502 10.1189C12.8078 9.76204 12.1573 9.84524 11.8189 10.3018L10.8872 11.5591C8.49637 10.3797 6.55528 8.43874 5.37595 6.04792L6.63317 5.1162C7.08987 4.77778 7.17298 4.12726 6.81608 3.68488L4.38622 0.672942C4.06087 0.269662 3.48137 0.181692 3.051 0.470262L1.71816 1.36396C0.295825 2.31766 -0.227555 4.16051 0.481175 5.71946L0.999265 6.85908L1.00005 6.86077Z\"\r\n        fill=\"#A3AEBE\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\ntype CallBodyPropsType = {\r\n  callInfo: CallInfoType,\r\n  callAudio: CallAudioType | null,\r\n  callStt: CallSttType | null,\r\n  bundleIndex: number | null,\r\n  expanded: boolean,\r\n  fragments: CallTagType[],\r\n\r\n  // ÑÐ¾ÑÐ¸)\r\n  audioRef: any,\r\n  onFragmentClick: any,\r\n  prevActiveFragment: any,\r\n  audioPlayerRef: any,\r\n  activeFragmentRef: any,\r\n  setIsCallBodyData: any\r\n};\r\n\r\nconst CallBody: FC<CallBodyPropsType> = React.memo((\r\n  {\r\n    callInfo,\r\n    callAudio,\r\n    callStt,\r\n    fragments,\r\n    bundleIndex,\r\n    expanded,\r\n    audioRef,\r\n    onFragmentClick,\r\n    audioPlayerRef,\r\n    setIsCallBodyData,\r\n\r\n    prevActiveFragment,\r\n    activeFragmentRef\r\n  }\r\n) => {\r\n  const useStyles = makeStyles(({\r\n    callBodyWrapper: {},\r\n    cbDialogWrapper: {\r\n      borderRadius: '5px',\r\n      height: '100%',\r\n      width: '100%',\r\n      backgroundColor: '#EEF2F6',\r\n      overflow: 'hidden'\r\n    },\r\n    cbDialogInner: {\r\n      padding: '12.5px 12px'\r\n    },\r\n    cbDialogItems: {\r\n      overflowY: 'auto',\r\n      padding: '5px 0 40px 0',\r\n      // height: '800px',\r\n      '&::-webkit-scrollbar': {\r\n        width: '4px',\r\n        height: '4px',\r\n        backgroundColor: '#f1f1f1',\r\n        outline: 'none',\r\n      },\r\n      '&::-webkit-scrollbar-thumb': {\r\n        background: '#A3AEBE',\r\n        height: '50px',\r\n        borderRadius: '10px'\r\n      },\r\n      '&::-webkit-scrollbar-thumb:hover': {\r\n        background: '#555'\r\n      }\r\n    },\r\n    audioPlayerBox: {\r\n      overflow: 'hidden',\r\n      position: 'sticky',\r\n      top: '-200px',\r\n      zIndex: '100',\r\n      backgroundColor: \"#EEF2F6\"\r\n    },\r\n\r\n    controlBlockButtonBox: {\r\n      boxShadow: 'none !important',\r\n      padding: '0 5px',\r\n      marginLeft: '20px'\r\n    },\r\n    controlBlockButton: {\r\n      border: 'none !important',\r\n      transition: '0.4s !important',\r\n      outline: 'none !important',\r\n      height: '40px',\r\n      fontSize: '14px !important',\r\n      // @ts-ignore\r\n      textTransform: 'none !important',\r\n      color: '#738094 !important',\r\n      backgroundColor: '#ffffff !important',\r\n      '&.Mui-selected': {\r\n        backgroundColor: '#D6D9DF !important',\r\n        color: '#000 !important'\r\n      }\r\n    },\r\n    isActive: {\r\n      backgroundColor: '#CDD5DF',\r\n      color: '#000'\r\n    },\r\n    typographyTitle: {\r\n      color: '#738094 !important',\r\n      fontWeight: '700 !important',\r\n      minWidth: '110px !important',\r\n    },\r\n    activeFragment: {\r\n      backgroundColor: '#F5F5DC'\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  useEffect(() => {\r\n    if (!expanded && callAudio && bundleIndex) {\r\n      dispatch(callsSlice.actions.removeAudio({id: callInfo.id, bundleIndex}));\r\n    }\r\n  }, [expanded]);\r\n\r\n  const callId = callInfo.id;\r\n\r\n  const prevIndex = useRef<string[] | undefined>(undefined);\r\n  const currentIndex = useRef<string[] | undefined>(undefined);\r\n\r\n  const getIndices = (array: Array<any>, necessaryElements: any) => {\r\n    let indices: number[] = []\r\n    for (let i = 0; i < necessaryElements.length; i++) {\r\n      indices.push(array.indexOf(necessaryElements[i]));\r\n    }\r\n    return indices;\r\n  }\r\n\r\n\r\n  // ÐÐ¾Ð·Ð²ÑÐ°ÑÐ°ÐµÑ ÑÑÑÐ¾ÐºÑ Ñ Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð¼ ÑÑÐ°Ð³Ð¼ÐµÐ½ÑÐ°/ÑÑÐ°Ð·Ñ Ð¸ ÑÐ»Ð¾Ð²Ð°.\r\n  function findWordIndexes(phrases: any[] | undefined, currentTime: number) {\r\n    if (phrases) {\r\n      const currentFragments = phrases.filter(phrase => phrase.begin <= currentTime && currentTime <= phrase.end);\r\n      const currentFragmentsIndices = getIndices(phrases, currentFragments);\r\n\r\n      if (currentFragmentsIndices.length < 1 || currentFragmentsIndices.some(index => index < 0)) {\r\n        return undefined;\r\n      }\r\n\r\n      let indices = []\r\n      for (let i = 0; i < currentFragments.length; i++) {\r\n        const currentWords = currentFragments[i].words.filter((word: any) => word.begin <= currentTime && currentTime <= word.end);\r\n        const currentWordsIndices = getIndices(currentFragments[i].words, currentWords);\r\n\r\n        for (let j = 0; j < currentWords.length; j++) {\r\n          indices.push(`${callId}-${currentFragmentsIndices[i]}-${currentWordsIndices[j]}`)\r\n        }\r\n      }\r\n      if (indices.length < 1) {\r\n        return undefined;\r\n      }\r\n      return indices;\r\n    }\r\n  } // return [1-4, 2-8]\r\n\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setIsCallBodyData(false);\r\n    }\r\n  }, []);\r\n\r\n  const {language} = useAppSelector(state => state.lang);\r\n\r\n  async function formPublicToken(id: string) {\r\n    const publicTokenData = await dispatch(getCallPublicToken(id));\r\n    // @ts-ignore\r\n    const publicToken: {access_token: string, token_type: string} = publicTokenData.payload;\r\n    const host = window.location.origin;\r\n\r\n    const publicUrl = `${host}/#/${language}/call?id=${id}&token=${publicToken.access_token}`;\r\n    debugger\r\n    navigator.clipboard.writeText(publicUrl);\r\n  }\r\n\r\n  const onListen = (eventCurrentTime: any) => {\r\n    let currentTimeLocal;\r\n    if (!!eventCurrentTime.target) {\r\n      currentTimeLocal = eventCurrentTime.target.currentTime * 1000;\r\n    } else {\r\n      currentTimeLocal = eventCurrentTime * 1000;\r\n    }\r\n    if (callStt) {\r\n      const indices = findWordIndexes(callStt.fragments, currentTimeLocal);\r\n\r\n      if (indices && JSON.stringify(indices) !== JSON.stringify(prevIndex.current)) {\r\n\r\n        let activeWord = null;\r\n        for (let i = 0; i < indices.length; i++) {\r\n          activeWord = document.getElementById(`${indices[i]}`);\r\n          if (activeWord) {\r\n            activeWord.classList.add(classes.isActive);\r\n          }\r\n        }\r\n\r\n        if (prevIndex.current) {\r\n          for (let i = 0; i < prevIndex.current.length; i++) {\r\n            // ÑÐ±Ð¸ÑÐ°ÐµÐ¼ ÑÐ°ÑÐºÑÐ°ÑÐºÑ Ñ Ð¿ÑÐµÐ´ÑÐ´ÑÑÐµÐ³Ð¾\r\n            const removeElement = document.getElementById(`${prevIndex.current[i]}`);\r\n            if (removeElement) {\r\n              removeElement.classList.remove(classes.isActive)\r\n            }\r\n          }\r\n        }\r\n\r\n        // Ð½Ð¾Ð²Ð¾ÐµÐ¿ÑÐµÐ´ÑÐ´ÑÑÐµÐµ = ÑÐµÐºÑÑÐµÐµ\r\n        prevIndex.current = indices;\r\n      }\r\n      if (!indices) {\r\n        // ÑÐ±Ð¸ÑÐ°ÐµÐ¼ ÑÐ°ÑÐºÑÐ°ÑÐºÑ Ñ Ð¿ÑÐµÐ´ÑÐ´ÑÑÐµÐ³Ð¾\r\n        const removeElement = document.getElementById(`${prevIndex.current}`);\r\n        if (removeElement) {\r\n          removeElement.classList.remove(classes.isActive)\r\n        }\r\n      }\r\n      currentIndex.current = indices;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.callBodyWrapper}>\r\n      <div ref={audioRef} className={classes.audioPlayerBox}>\r\n        <AudioPlayer\r\n          onListen={onListen}\r\n          callAudio={callAudio}\r\n          audioPlayerRef={audioPlayerRef}\r\n        />\r\n      </div>\r\n      <div style={{display: 'flex'}}>\r\n        <div className={classes.cbDialogWrapper}>\r\n          <div className={classes.cbDialogInner}>\r\n            {fragments.length > 0 &&\r\n            <>\r\n              <Typography style={{marginBottom: '10px'}} className={classes.typographyTitle}>\r\n                Ð¢ÐµÐ³Ð¸:\r\n              </Typography>\r\n              <div style={{display: 'flex', marginBottom: '15px'}}>\r\n                {fragments.map((fragment) => (\r\n                  <div\r\n                    onClick={(event: any) => {\r\n                      onFragmentClick(fragment);\r\n                    }}\r\n                  >\r\n                    <Fragment matchData={fragment.matchData}>\r\n                      {fragment.name}\r\n                    </Fragment>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </>\r\n            }\r\n            <Typography style={{marginBottom: '10px'}} className={classes.typographyTitle}>\r\n              Ð¢ÐµÐºÑÑÐ¾Ð²ÑÐ¹ Ð´Ð¸Ð°Ð»Ð¾Ð³:\r\n            </Typography>\r\n            <div className={classes.cbDialogItems} id={callId}>\r\n              {callStt ?\r\n                <div>\r\n                  {callStt.fragments.map((phrase, i, array) => {\r\n                    return (\r\n                      <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}\r\n                           id={`${phrase.id}-phrase`}>\r\n                        <div style={{width: '85%'}}>\r\n                          <DialogItem\r\n                            audioPlayerRef={audioPlayerRef}\r\n                            prevFragment={array[i - 1] ? array[i - 1] : {direction: phrase.direction === 'client' ? 'operator' : 'client'}}\r\n                            fragment={phrase}\r\n                            callId={callId}\r\n                            fragmentIndex={i}\r\n                          />\r\n                        </div>\r\n                        <div style={{textAlign: 'center', width: '15%'}}>\r\n                          {fragments.map((fragment, j) => {\r\n                            if (phrase.begin === fragment.fBegin && phrase.end === fragment.fEnd) {\r\n                              return <div>\r\n                                <Fragment matchData={fragment.matchData}>{fragment.name}</Fragment>\r\n                              </div>;\r\n                            }\r\n                            return null;\r\n                          })}\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div> : null\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style={{backgroundColor: 'fff', width: '370px', marginTop: '20px'}}>\r\n          <div style={{display: 'flex', justifyContent: 'flex-end', paddingRight: '14px'}}>\r\n            <Back onClick={(event) => {formPublicToken(callId)}}/>\r\n            <Download/>\r\n            <History/>\r\n            <Reboot/>\r\n            <Plus margin={'0'}/>\r\n          </div>\r\n\r\n          {/* Params block*/}\r\n          <BlockBox width={'auto'} height={'auto'} padding={'24px'} margin={'24px 14px 24px 24px'} borderRadius={'10px'}\r\n                    boxShadow={'0px 0px 4px rgba(98, 98, 98, 0.22)'}>\r\n            <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px'}}>\r\n              <div style={{display: 'flex'}}>\r\n                <Typography className={classes.typographyTitle}>Ð¡Ð¾ÑÑÑÐ´Ð½Ð¸Ðº:</Typography>\r\n                <Typography style={{color: '#1B202B'}}>{callInfo.operatorPhone}</Typography>\r\n              </div>\r\n              <CallSvg/>\r\n            </div>\r\n            <div style={{display: 'flex', marginBottom: '12px'}}>\r\n              <Typography className={classes.typographyTitle}>ÐÐ»Ð¸ÐµÐ½Ñ:</Typography>\r\n              <Typography style={{color: '#1B202B'}}>{callInfo.clientPhone}</Typography>\r\n            </div>\r\n            <div style={{display: 'flex'}}>\r\n              <Typography className={classes.typographyTitle}>ÐÐ°ÑÐ° Ð¸ Ð²ÑÐµÐ¼Ñ:</Typography>\r\n              <Typography style={{color: '#1B202B'}}>{callInfo.callTimeReadable}</Typography>\r\n            </div>\r\n          </BlockBox>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n\r\nexport default CallBody;","import React, {memo, useEffect, useRef, useState} from 'react';\r\nimport {Skeleton, Typography} from \"@mui/material\";\r\nimport {styled} from '@mui/material/styles';\r\nimport ArrowForwardIosSharpIcon from '@mui/icons-material/ArrowForwardIosSharp';\r\nimport MuiAccordion, {AccordionProps} from '@mui/material/Accordion';\r\nimport MuiAccordionSummary, {\r\n  AccordionSummaryProps,\r\n} from '@mui/material/AccordionSummary';\r\nimport MuiAccordionDetails from '@mui/material/AccordionDetails';\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport Grid from '@mui/material/Grid';\r\nimport Stack from '@mui/material/Stack';\r\nimport {TwoTags, Fragment} from \"../../components/common/Tag\";\r\nimport {CallInfoType, CallSttType, CallTagType} from \"../../store/calls/calls.types\";\r\nimport CallBody from \"./Body/CallBody\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {callsSlice, getAndSetCallAudio, getAndSetCallStt} from \"../../store/calls/calls.slice\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport {RootState} from \"../../store/store\";\r\nimport {translate} from \"../../localizations\";\r\n\r\nconst Accordion = styled((props: AccordionProps) => (\r\n  <MuiAccordion\r\n    disableGutters\r\n    TransitionProps={{unmountOnExit: true, timeout: 0}}\r\n    elevation={0} {...props}\r\n  />\r\n))(({theme}) => ({\r\n  border: `1px solid ${theme.palette.divider}`,\r\n  '&:not(:last-child)': {},\r\n  borderBottom: 0,\r\n  '&:before': {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nconst AccordionSummary = styled((props: AccordionSummaryProps) => (\r\n  <MuiAccordionSummary\r\n    expandIcon={<ArrowForwardIosSharpIcon sx={{fontSize: '0.9rem'}}/>}\r\n    {...props}\r\n  />\r\n))(({theme}) => ({\r\n  backgroundColor:\r\n    theme.palette.mode === 'dark'\r\n      ? 'rgba(255, 255, 255, .05)'\r\n      : 'rgba(0, 0, 0, .03)',\r\n  '& .MuiAccordionSummary-expandIconWrapper.Mui-expanded': {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  '& .MuiAccordionSummary-content': {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst AccordionDetails = styled(MuiAccordionDetails)(({theme}) => ({\r\n  padding: theme.spacing(2),\r\n  borderTop: '1px solid rgba(0, 0, 0, .125)',\r\n}));\r\n\r\nconst CallSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        d=\"M15.4696 1.03022C15.6103 1.17087 15.6893 1.36164 15.6893 1.56055V5.38897C15.6893 5.80319 15.3535 6.13897 14.9393 6.13897C14.5251 6.13897 14.1893 5.80319 14.1893 5.38897V3.37121L11.0303 6.53022C10.7374 6.82311 10.2625 6.82311 9.9696 6.53022C9.6768 6.23732 9.6768 5.76245 9.9696 5.46956L13.1287 2.31055H11.1109C10.6967 2.31055 10.3609 1.97476 10.3609 1.56055C10.3609 1.14633 10.6967 0.810547 11.1109 0.810547H14.9393C15.1382 0.810547 15.329 0.889567 15.4696 1.03022Z\"\r\n        fill=\"#73D13D\"/>\r\n      <path\r\n        d=\"M1.00005 6.86077C2.91645 11.0346 6.32648 14.3531 10.566 16.1521L11.2456 16.4549C12.8004 17.1477 14.6282 16.6214 15.5765 15.2079L16.4646 13.8842C16.7533 13.4538 16.6654 12.8741 16.2621 12.5487L13.2502 10.1189C12.8078 9.76204 12.1573 9.84524 11.8189 10.3018L10.8872 11.5591C8.49637 10.3797 6.55528 8.43874 5.37595 6.04792L6.63317 5.1162C7.08987 4.77778 7.17298 4.12726 6.81608 3.68488L4.38622 0.672942C4.06087 0.269662 3.48137 0.181692 3.051 0.470262L1.71816 1.36396C0.295825 2.31766 -0.227555 4.16051 0.481175 5.71946L0.999265 6.85908L1.00005 6.86077Z\"\r\n        fill=\"#A3AEBE\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\ntype CallStubMiddlewarePropsType = {\r\n  callInfo: CallInfoType | null,\r\n  callAudio: string | null,\r\n  callStt: CallSttType | null,\r\n  bundleIndex: number | null,\r\n\r\n  expanded: boolean,\r\n  handleExpandedChange: (panel: string | false) => void,\r\n  solo?: boolean\r\n};\r\n\r\n\r\nconst CallStubMiddleware = memo(({\r\n                                   callInfo,\r\n                                   callAudio,\r\n                                   callStt = null,\r\n                                   bundleIndex,\r\n                                   expanded,\r\n                                   handleExpandedChange,\r\n                                   solo\r\n                                 }: CallStubMiddlewarePropsType) => {\r\n  const useStyles = makeStyles(({\r\n    accordion: {\r\n      backgroundColor: '#ffffff !important',\r\n      borderTop: '2px solid #F8FAFC !important',\r\n      padding: '18px 24px 10px 24px !important',\r\n      cursor: 'default !important',\r\n      '& .MuiAccordionSummary-content': {\r\n        margin: '0 !important',\r\n      },\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'flex-start !important',\r\n      '& .MuiAccordionSummary-expandIconWrapper .MuiSvgIcon-root': {\r\n        margin: '25px !important',\r\n        position: 'relative',\r\n        fill: '#818D9F',\r\n        transform: 'rotate(90deg)',\r\n        cursor: 'pointer'\r\n      },\r\n      '&.Mui-disabled': {\r\n        opacity: '1 !important'\r\n      }\r\n    },\r\n    slave: {\r\n      position: 'absolute',\r\n      top: '35px',\r\n      right: '40px',\r\n      borderRadius: '5px',\r\n      width: '32px',\r\n      height: '32px',\r\n      backgroundColor: '#E3E8EF',\r\n    },\r\n    callInner: {},\r\n    employee: {\r\n      display: 'flex',\r\n      alignItems: 'center'\r\n    },\r\n    employeeText: {\r\n      marginRight: '20px !important',\r\n      minWidth: '40px !important'\r\n    },\r\n    callDateBox: {\r\n      display: 'flex',\r\n      marginTop: '8px'\r\n    },\r\n    callDate: {\r\n      marginRight: '5px !important',\r\n      color: '#738094 !important'\r\n    },\r\n    callTime: {\r\n      color: '#738094 !important'\r\n    },\r\n    callDurationBox: {\r\n      marginTop: '8px'\r\n    },\r\n    callDuration: {\r\n      color: '#738094 !important'\r\n    },\r\n    callMNumberBox: {\r\n      minWidth: '120px',\r\n      paddingTop: '12px'\r\n    },\r\n    callMNumber: {\r\n      fontSize: '15px !important'\r\n    },\r\n    callTagsTitle: {\r\n      margin: '5px !important',\r\n      color: '#738094 !important',\r\n      minWidth: '120px',\r\n      fontSize: '12px !important',\r\n    },\r\n    accordionDetails: {\r\n      backgroundColor: '#F8FAFC',\r\n      border: 'none',\r\n    },\r\n\r\n    '@media (width: 1024px)': {\r\n      callInner: {\r\n        display: 'block',\r\n      }\r\n    }\r\n  }));\r\n\r\n  const classes = useStyles();\r\n\r\n\r\n  // ÐÐ°Ð³Ð»ÑÑÐºÐ¸ Ð¿Ð¾ÐºÐ° Ð½Ðµ Ð¿ÑÐ¸ÑÐ»Ð¸ Ð·Ð²Ð¾Ð½ÐºÐ¸ Ñ ÑÐµÑÐ²Ð°ÐºÐ°.\r\n  if (!callInfo) {\r\n    return (\r\n      <Accordion style={{border: 'none', zIndex: '1'}}>\r\n        {/* ÐÐµÑÐ²Ð¸ÑÐ½Ð°Ñ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð¾ Ð·Ð²Ð¾Ð½ÐºÐµ. */}\r\n        <AccordionSummary className={classes.accordion} disabled>\r\n          <Grid container className={classes.callInner}>\r\n\r\n            {/* Ð¡Ð¾ÑÑÑÐ´Ð½Ð¸Ðº. */}\r\n            <Grid item xs={1.8} style={{minWidth: '145px'}}>\r\n              {/* ÐÐ¼Ñ Ð¸ ÑÐ°Ð¼Ð¸Ð»Ð¸Ñ. */}\r\n              <div className={classes.employee}>\r\n                <Typography className={classes.employeeText}>\r\n                  <Skeleton width={60} height={20} variant=\"text\"/>\r\n                </Typography>\r\n                <CallSvg/>\r\n              </div>\r\n              {/* ÐÐ°ÑÐ° Ð·Ð²Ð¾Ð½ÐºÐ°.*/}\r\n              <div className={classes.callDateBox}>\r\n                <Typography className={classes.callDate}>\r\n                  <Skeleton width={100} height={20} variant=\"text\"/>\r\n                </Typography>\r\n              </div>\r\n              {/* ÐÑÐµÐ¼Ñ Ð·Ð²Ð¾Ð½ÐºÐ°. */}\r\n              <div className={classes.callDurationBox}>\r\n                <Typography className={classes.callDuration}>\r\n                  <Skeleton width={60} height={20} variant=\"text\"/>\r\n                </Typography>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* ÐÐ»Ð¸ÐµÐ½Ñ. */}\r\n            <Grid item xs={1.5} className={classes.callMNumberBox}>\r\n              {/* ÐÐ¾Ð¼ÐµÑ ÑÐµÐ»ÐµÑÐ¾Ð½Ð°. */}\r\n              <Typography className={classes.callMNumber}>\r\n                <Skeleton style={{maxWidth: '100px'}} height={20} variant=\"text\"/>\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={6.7}>\r\n\r\n              {/* Ð¢ÐµÐ³Ð¸ */}\r\n              <div style={{display: 'flex'}}>\r\n                <Typography className={classes.callTagsTitle}>Ð¢ÐµÐ³Ð¸ Ð·Ð²Ð¾Ð½ÐºÐ°</Typography>\r\n                <div style={{width: '100%'}}>\r\n                  <Skeleton style={{maxWidth: '500px', margin: '0 0 20px 10px'}} height={27} variant=\"text\"/>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Ð¤ÑÐ°Ð³Ð¼ÐµÐ½ÑÑ */}\r\n              <div style={{display: 'flex'}}>\r\n                <Typography className={classes.callTagsTitle}>Ð¢ÐµÐ³Ð¸ ÑÑÐ°Ð³Ð¼ÐµÐ½ÑÐ°</Typography>\r\n                <div style={{width: '100%'}}>\r\n                  <Skeleton style={{maxWidth: '500px', margin: '0 0 20px 10px'}} height={27} variant=\"text\"/>\r\n                </div>\r\n              </div>\r\n\r\n              <div className={classes.slave}>\r\n\r\n              </div>\r\n            </Grid>\r\n\r\n          </Grid>\r\n        </AccordionSummary>\r\n      </Accordion>\r\n    );\r\n  }\r\n  return (\r\n    <Call\r\n      callInfo={callInfo}\r\n      callAudio={callAudio}\r\n      callStt={callStt}\r\n      bundleIndex={bundleIndex}\r\n      handleExpandedChange={handleExpandedChange}\r\n      expanded={expanded}\r\n      solo={solo}\r\n    />\r\n  )\r\n});\r\n\r\n\r\ntype CallPropsType = {\r\n  callInfo: CallInfoType,\r\n  callAudio: string | null,\r\n  callStt: CallSttType | null,\r\n  bundleIndex: number | null,\r\n\r\n  expanded: boolean,\r\n  handleExpandedChange: (panel: string | false) => void,\r\n  solo?: boolean\r\n};\r\n\r\n// ÐºÐ¾Ð½Ð²ÐµÑÑÐ¸ÑÑÐµÑ Ð²ÑÐµÐ¼Ñ Ð´Ð»Ñ Ð¿Ð¾ÐºÐ°Ð·Ð°\r\nexport const timeConverter = (s: number, hoursIsDisplay: boolean) => {\r\n  const pad = (n: number) => {\r\n    return ('00' + n).slice(-2);\r\n  };\r\n  let ms = s % 1000;\r\n  s = (s - ms) / 1000;\r\n  let secs = s % 60;\r\n  s = (s - secs) / 60;\r\n  let mins = s % 60;\r\n  let hrs = (s - mins) / 60;\r\n  if (hoursIsDisplay) {\r\n    return `${pad(hrs)}:${pad(mins)}:${pad(secs)}`;\r\n  }\r\n  return `${pad(mins)}:${pad(secs)}`;\r\n};\r\n\r\nfunction areEqual(prevProps: CallPropsType, nextProps: CallPropsType) {\r\n  return prevProps.callAudio === nextProps.callAudio && prevProps.callStt === nextProps.callStt && prevProps.expanded === nextProps.expanded;\r\n}\r\n\r\nconst Call = memo((props: CallPropsType) => {\r\n  const useStyles = makeStyles(({\r\n    accordion: {\r\n      border: 'none !important',\r\n      zIndex: '1 !important'\r\n    },\r\n    accordionSummary: {\r\n      // @ts-ignore\r\n      position: `sticky !important`,\r\n      top: '0 !important',\r\n      // @ts-ignore\r\n      userSelect: 'auto !important',\r\n      zIndex: '100 !important',\r\n      backgroundColor: '#ffffff !important',\r\n      borderTop: '2px solid #F8FAFC !important',\r\n      padding: '18px 24px 10px 24px !important',\r\n      cursor: 'default !important',\r\n      '& .MuiAccordionSummary-content': {\r\n        margin: '0 !important',\r\n      },\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'flex-start !important',\r\n      '& .MuiAccordionSummary-expandIconWrapper .MuiSvgIcon-root': {\r\n        margin: '25px !important',\r\n        position: 'relative',\r\n        fill: '#818D9F',\r\n        transform: 'rotate(90deg)',\r\n        cursor: 'pointer'\r\n      },\r\n      '&.Mui-disabled': {\r\n        opacity: '1 !important'\r\n      }\r\n    },\r\n    slave: {\r\n      position: 'absolute',\r\n      top: '35px',\r\n      right: '40px',\r\n      borderRadius: '5px',\r\n      width: '32px',\r\n      height: '32px',\r\n      backgroundColor: '#E3E8EF',\r\n    },\r\n    callInner: {\r\n      display: 'flex',\r\n      ['@media (max-width:1024px)']: { // eslint-disable-line no-useless-computed-key\r\n        display: 'block',\r\n      }\r\n    },\r\n    callEmAndCl: {\r\n      display: 'flex'\r\n    },\r\n    employee: {\r\n      minWidth: '200px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n    },\r\n    employeeText: {\r\n      fontSize: '14px !important',\r\n      marginRight: '20px !important',\r\n      minWidth: '40px !important'\r\n    },\r\n    tagsAndFragmentsBlock: {\r\n      ['@media (max-width:1024px)']: { // eslint-disable-line no-useless-computed-key\r\n        marginTop: '10px'\r\n      }\r\n    },\r\n    callDateBox: {\r\n      display: 'flex',\r\n      marginTop: '8px'\r\n    },\r\n    callDate: {\r\n      marginRight: '5px !important',\r\n      color: '#738094 !important'\r\n    },\r\n    callTime: {\r\n      fontSize: '13px !important',\r\n      color: '#738094 !important'\r\n    },\r\n    callDurationBox: {\r\n      display: 'flex',\r\n      marginTop: '8px'\r\n    },\r\n    callDuration: {\r\n      fontSize: '14px !important',\r\n      color: '#738094 !important'\r\n    },\r\n    callMNumberBox: {\r\n      minWidth: '200px',\r\n    },\r\n    callMNumber: {\r\n      fontSize: '14px !important'\r\n    },\r\n    callTagsTitle: {\r\n      color: '#738094 !important',\r\n      minWidth: '120px',\r\n      fontSize: '12px !important',\r\n    },\r\n    accordionDetails: {\r\n      backgroundColor: '#F8FAFC',\r\n      border: 'none',\r\n      margin: '0px !important'\r\n    },\r\n    typographyTitle: {\r\n      fontSize: '14px !important',\r\n      color: '#2F3747 !important',\r\n      fontWeight: '700 !important',\r\n      marginRight: '5px !important'\r\n    },\r\n    activeFragment: {\r\n      backgroundColor: '#F5F5DC'\r\n    }\r\n  }));\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  // ÑÑÑÐ°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ Ð»Ð¾ÐºÐ°Ð»ÑÐ½ÑÐ¹ bundle index\r\n  const [index, setIndex] = useState<null | number>(null);\r\n  useEffect(() => {\r\n    if (index === null) {\r\n      setIndex(props.bundleIndex);\r\n    }\r\n  }, [props.bundleIndex])\r\n\r\n  // ÑÑÑÐ°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ Ð¿ÑÐ¸ÑÐµÐ»Ð¾ Ð»Ð¸ Ð°ÑÐ´Ð¸Ð¾ Ð¸ stt.\r\n  const [isCallBodyData, setIsCallBodyData] = useState<boolean>(false);\r\n\r\n  // ÑÐ°Ð·Ð´ÐµÐ»ÑÐµÑ ÑÐµÐ³Ð¸ Ð½Ð° ÑÐµÐ³Ð¸ Ð¸ ÑÑÐ°Ð³Ð¼ÐµÐ½ÑÑ\r\n  const tagsAndFragmentsSeparator = () => {\r\n    let tags = [];\r\n    let fragments = [];\r\n    for (let i = 0; i < props.callInfo.tags?.length; i++) {\r\n      // debugger\r\n      // if (props.callInfo.tags[i].tagType === 'api_callback') {\r\n      //   clientTags.push(props.callInfo.tags[i]);\r\n      // }{\r\n      if (props.callInfo.tags[i].fragment) {\r\n        fragments.push(props.callInfo.tags[i]);\r\n      } else {\r\n        tags.push(props.callInfo.tags[i]);\r\n      }\r\n\r\n    }\r\n    return {tags, fragments};\r\n  };\r\n  const tagsAndFragmentsArray = tagsAndFragmentsSeparator();\r\n\r\n  const scroll = (currentTarget: any) => {\r\n    if (currentTarget) {\r\n      setTimeout(() => {\r\n        const topValue = window.pageYOffset + currentTarget.getBoundingClientRect().top - 10;\r\n        window.scrollTo({\r\n          top: topValue,\r\n          behavior: \"smooth\"\r\n        });\r\n      }, 400);\r\n    }\r\n  }\r\n\r\n  const accordionSummary = useRef<any | null>(null);\r\n  const audioRef = useRef<any | null>(null);\r\n\r\n  useEffect(() => {\r\n    function onResize() {\r\n      if (accordionSummary.current && audioRef.current) {\r\n        audioRef.current.style.top = `${accordionSummary.current.offsetHeight}px`;\r\n      }\r\n    }\r\n\r\n    onResize()\r\n    window.addEventListener('resize', onResize)\r\n\r\n    return () => {\r\n      window.addEventListener('resize', onResize)\r\n    }\r\n  });\r\n\r\n  const activeFragmentRef = useRef<any>(null);\r\n  const prevActiveFragment = useRef<any>(null);\r\n\r\n  const audioPlayerRef = useRef<any>(props.callAudio);\r\n\r\n\r\n  const onFragmentClick = (activeFragment: CallTagType) => {\r\n    activeFragmentRef.current = activeFragment;\r\n    if (props.callStt) {\r\n      if (prevActiveFragment.current && prevActiveFragment.current !== activeFragment) {\r\n        const removeFragment = document.getElementById(`${prevActiveFragment.current.fragment}-phrase`);\r\n        if (removeFragment) {\r\n          removeFragment.classList.remove(classes.activeFragment);\r\n        }\r\n      }\r\n\r\n      const activePhrase = props.callStt.fragments.find(fragment => fragment.begin === activeFragment.fBegin && fragment.end === activeFragment.fEnd);\r\n      const allPhrases = document.getElementById(`${props.callInfo.id}`);\r\n      let activePhraseHtmlEl;\r\n\r\n      if (activePhrase) {\r\n        activePhraseHtmlEl = document.getElementById(`${activePhrase.id}-phrase`);\r\n      }\r\n\r\n      if (activePhraseHtmlEl && allPhrases) {\r\n        activePhraseHtmlEl.classList.add(classes.activeFragment);\r\n        activePhraseHtmlEl.scrollIntoView({\r\n          behavior: 'smooth',\r\n          block: 'center',\r\n        })\r\n      }\r\n\r\n      prevActiveFragment.current = activeFragment;\r\n\r\n      audioPlayerRef.current.audioEl.current.play();\r\n      audioPlayerRef.current.audioEl.current.currentTime = activeFragment.fBegin / 1000;\r\n\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (activeFragmentRef.current && props.callAudio && props.callStt) {\r\n      onFragmentClick(activeFragmentRef.current);\r\n    }\r\n  }, [props.callAudio, props.callStt])\r\n\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n\r\n  return (\r\n    <Accordion\r\n      id={props.callInfo.id}\r\n      className={classes.accordion}\r\n      tabIndex={-1}\r\n      expanded={props.solo ? props.solo : props.expanded && isCallBodyData}\r\n    >\r\n      {/* ÐÐµÑÐ²Ð¸ÑÐ½Ð°Ñ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð¾ Ð·Ð²Ð¾Ð½ÐºÐµ. */}\r\n      <div style={{position: 'sticky', top: '0', zIndex: '101'}} ref={accordionSummary}>\r\n        <AccordionSummary\r\n          id={'accordionSummary'}\r\n          className={classes.accordionSummary} tabIndex={-1}\r\n          onClick={async (e) => {\r\n            if (index || index === 0) {\r\n              if (!isCallBodyData) {\r\n                props.handleExpandedChange(props.callInfo.id);\r\n                dispatch(getAndSetCallAudio({id: props.callInfo.id, bundleIndex: index}));\r\n                dispatch(getAndSetCallStt({id: props.callInfo.id, bundleIndex: index}));\r\n                await setIsCallBodyData(true);\r\n              } else {\r\n                dispatch(callsSlice.actions.removeAudio({id: props.callInfo.id, bundleIndex: index}));\r\n                setIsCallBodyData(false);\r\n                if (audioPlayerRef.current) {\r\n                  audioPlayerRef.current.audioEl.current.currentTime = 0;\r\n                  prevActiveFragment.current = null;\r\n                  activeFragmentRef.current = null;\r\n                }\r\n                props.handleExpandedChange(false);\r\n              }\r\n              scroll(e.target);\r\n            }\r\n          }}\r\n        >\r\n          <div className={classes.callInner}>\r\n            <div className={classes.callEmAndCl}>\r\n              {/* Ð¡Ð¾ÑÑÑÐ´Ð½Ð¸Ðº. */}\r\n              <div>\r\n\r\n                {/* ÐÐ¼Ñ Ð¸ ÑÐ°Ð¼Ð¸Ð»Ð¸Ñ. */}\r\n                <div className={classes.employee}>\r\n                  <Typography className={classes.typographyTitle}>{translate(\"callsEmployee\", language)}:</Typography>\r\n                  <Typography className={classes.employeeText}>\r\n                    {props.callInfo.operatorPhone}\r\n                  </Typography>\r\n                  <CallSvg/>\r\n                </div>\r\n\r\n                {/* ÐÐ°ÑÐ° Ð·Ð²Ð¾Ð½ÐºÐ°.*/}\r\n                <div className={classes.callDateBox}>\r\n                  <Typography className={classes.typographyTitle}>{translate(\"callsTime\", language)}:</Typography>\r\n                  <Typography className={classes.callDate}>\r\n                    {props.callInfo.callTimeReadable}\r\n                  </Typography>\r\n                </div>\r\n\r\n                {/*<div>*/}\r\n                {/*  {tagsAndFragmentsArray.clientTags.map(tag => {*/}\r\n                {/*    return (*/}\r\n                {/*      <div style={{margin: 0, display: 'flex'}}>*/}\r\n                {/*        <TwoTagsMini title={tag.name} body={tag.value}/>*/}\r\n                {/*      </div>*/}\r\n                {/*    )*/}\r\n                {/*  })}*/}\r\n                {/*</div>*/}\r\n\r\n              </div>\r\n\r\n              {/* ÐÐ»Ð¸ÐµÐ½Ñ. */}\r\n              <div className={classes.callMNumberBox}>\r\n                {/* ÐÐ¾Ð¼ÐµÑ ÑÐµÐ»ÐµÑÐ¾Ð½Ð°. */}\r\n                <div style={{display: 'flex'}}>\r\n                  <Typography className={classes.typographyTitle}>{translate(\"callsCustomer\", language)}:</Typography>\r\n                  <Typography className={classes.callMNumber}>\r\n                    {props.callInfo.clientPhone}\r\n                  </Typography>\r\n                </div>\r\n\r\n                {/* ÐÑÐµÐ¼Ñ Ð·Ð²Ð¾Ð½ÐºÐ°. */}\r\n                <div className={classes.callDurationBox}>\r\n                  <Typography className={classes.typographyTitle}>{translate(\"callsDuration\", language)}:</Typography>\r\n                  <Typography className={classes.callDuration}>\r\n                    {timeConverter(props.callInfo.duration, true)}\r\n                  </Typography>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className={classes.tagsAndFragmentsBlock}>\r\n              {/* Tags */}\r\n              <div style={{display: 'flex'}}>\r\n                <Typography className={classes.callTagsTitle}>{translate(\"callsTags\", language)}</Typography>\r\n                <Stack direction=\"row\" style={{flexWrap: 'wrap', width: '200px !important'}}>\r\n                  {tagsAndFragmentsArray.tags.map((tag: CallTagType) => {\r\n                    return (\r\n                      <div style={{margin: 0, display: 'flex'}}>\r\n                        <TwoTags title={tag.name} body={tag.value}/>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </Stack>\r\n              </div>\r\n\r\n              {/* Fragments */}\r\n              {tagsAndFragmentsArray.fragments.length > 0 &&\r\n              <div style={{display: 'flex'}}>\r\n                <Typography className={classes.callTagsTitle}>{translate(\"callsFragments\", language)}</Typography>\r\n                <Stack direction=\"row\" style={{flexWrap: 'wrap', width: '200px !important'}}>\r\n\r\n                  {tagsAndFragmentsArray.fragments.map((tag: CallTagType) => {\r\n                    return (\r\n                      <div\r\n                        onClick={async (event) => {\r\n                          if (!props.expanded) {\r\n                            await props.handleExpandedChange(props.callInfo.id);\r\n                          } else {\r\n                            event.stopPropagation();\r\n                          }\r\n                          onFragmentClick(tag);\r\n                        }}\r\n                      >\r\n                        <Fragment matchData={tag.matchData}>{tag.name}</Fragment>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </Stack>\r\n              </div>\r\n              }\r\n              <div className={classes.slave}>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </AccordionSummary>\r\n      </div>\r\n      {/* ÐÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð¾ Ð·Ð²Ð¾Ð½ÐºÐµ. */}\r\n      <AccordionDetails className={classes.accordionDetails}>\r\n        <CallBody\r\n          onFragmentClick={onFragmentClick}\r\n          audioRef={audioRef}\r\n          callInfo={props.callInfo}\r\n          callAudio={props.callAudio}\r\n          callStt={props.callStt}\r\n          fragments={tagsAndFragmentsArray.fragments}\r\n          bundleIndex={props.bundleIndex}\r\n          expanded={props.expanded}\r\n          audioPlayerRef={audioPlayerRef}\r\n\r\n          setIsCallBodyData={setIsCallBodyData}\r\n\r\n          prevActiveFragment={prevActiveFragment}\r\n          activeFragmentRef={activeFragmentRef}\r\n        />\r\n      </AccordionDetails>\r\n    </Accordion>\r\n  );\r\n}, areEqual)\r\n\r\nexport default CallStubMiddleware;\r\n","import React, {useEffect, FC, useState} from 'react';\r\nimport {CircularProgress, Typography} from \"@mui/material\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {RootState} from \"../../store/store\";\r\nimport {translate} from \"../../localizations\";\r\n\r\nconst useStyles = makeStyles(({\r\n  callsHeader: {\r\n    background: '#fff',\r\n    borderRadius: '10px 10px 0 0'\r\n  },\r\n  callsTitle: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: '24px'\r\n  },\r\n  callsCols: {\r\n    borderTop: '2px solid #F8FAFC',\r\n    padding: '16px 24px',\r\n  },\r\n  callsTitleText: {\r\n    fontWeight: '700 !important'\r\n  }\r\n}))\r\n\r\nconst ClockSvg = (props: React.SVGProps<SVGSVGElement>) => (\r\n  <svg width=\"20\" height=\"19\" viewBox=\"0 0 20 19\" fill={props.fill ? props.fill : '#738094'}\r\n      xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path\r\n      d=\"M4.53033 0.469667C4.82322 0.762557 4.82322 1.23744 4.53033 1.53033L2.03033 4.03033C1.73744 4.32322 1.26256 4.32322 0.969667 4.03033C0.676778 3.73744 0.676778 3.26256 0.969667 2.96967L3.46967 0.469667C3.76256 0.176778 4.23744 0.176778 4.53033 0.469667Z\"\r\n      fill=\"#738094\"/>\r\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n      d=\"M10 1.5C5.30558 1.5 1.5 5.30558 1.5 10C1.5 14.6944 5.30558 18.5 10 18.5C14.6944 18.5 18.5 14.6944 18.5 10C18.5 5.30558 14.6944 1.5 10 1.5ZM10.75 5C10.75 4.58579 10.4142 4.25 10 4.25C9.5858 4.25 9.25 4.58579 9.25 5V10C9.25 10.2586 9.3832 10.4989 9.6025 10.636L12.6025 12.511C12.9538 12.7305 13.4165 12.6238 13.636 12.2725C13.8555 11.9212 13.7488 11.4585 13.3975 11.239L10.75 9.5843V5Z\"\r\n      fill=\"#738094\"/>\r\n    <path\r\n      d=\"M15.4697 1.53033C15.1768 1.23744 15.1768 0.762557 15.4697 0.469667C15.7626 0.176778 16.2374 0.176778 16.5303 0.469667L19.0303 2.96967C19.3232 3.26256 19.3232 3.73744 19.0303 4.03033C18.7374 4.32322 18.2626 4.32322 17.9697 4.03033L15.4697 1.53033Z\"\r\n      fill=\"#738094\"/>\r\n  </svg>\r\n);\r\n\r\nconst ArrowsSvg = (props: React.SVGProps<SVGSVGElement>) => (\r\n  <svg width=\"6\" height=\"12\" viewBox=\"0 0 6 12\" fill={props.fill ? props.fill : '#738094'}\r\n      xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n    <path\r\n      d=\"M2.56736 0.75C2.75981 0.416667 3.24094 0.416667 3.43339 0.75L5.16544 3.75C5.35789 4.08333 5.11733 4.5 4.73243 4.5H1.26832C0.883424 4.5 0.642861 4.08333 0.835311 3.75L2.56736 0.75Z\"/>\r\n    <path\r\n      d=\"M3.43264 11.25C3.24019 11.5833 2.75906 11.5833 2.56661 11.25L0.834562 8.25C0.642112 7.91667 0.882675 7.5 1.26757 7.5H4.73168C5.11658 7.5 5.35714 7.91667 5.16469 8.25L3.43264 11.25Z\"/>\r\n  </svg>\r\n);\r\n\r\ntype CallsHeaderPropsType = {\r\n  found: any,\r\n  total?: any,\r\n  switchTitleFound: boolean\r\n};\r\n\r\nconst CallsHeader: FC<CallsHeaderPropsType> = React.memo(({\r\n                                  found,\r\n                                  total,\r\n                                  switchTitleFound\r\n                                }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n  return (\r\n    <div className={classes.callsHeader}>\r\n      <div className={classes.callsTitle}>\r\n          {!switchTitleFound ?\r\n            <Typography className={classes.callsTitleText}>ÐÐ°Ð¹Ð´ÐµÐ½Ð¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð² {found} Ð¸Ð· {total}</Typography>\r\n          :\r\n          <Typography className={classes.callsTitleText}>ÐÐ°Ð¹Ð´ÐµÐ½Ð¾ {found} Ð·Ð²Ð¾Ð½ÐºÐ¾Ð²</Typography>\r\n          }\r\n      </div>\r\n      <Grid container className={classes.callsCols}>\r\n        <Grid item xs={0.5} style={{minWidth: '50px', display: 'flex', alignItems: 'center'}}>\r\n          <span style={{marginRight: '15px'}}><ClockSvg/></span>\r\n          <ArrowsSvg/>\r\n        </Grid>\r\n\r\n        <Grid item xs={1.23} style={{minWidth: '100px', display: 'flex', alignItems: 'center'}}>\r\n          <Typography style={{marginRight: '15px', fontWeight: '600'}}>{translate('callsEmployee', language)}</Typography>\r\n        </Grid>\r\n\r\n        <Grid item xs={3.5} style={{minWidth: '130px', display: 'flex', alignItems: 'center'}}>\r\n          <Typography style={{marginRight: '15px', fontWeight: '600'}}>{translate('callsCustomer', language)}</Typography>\r\n        </Grid>\r\n\r\n        <Grid item xs={1} style={{minWidth: '130px', display: 'flex', alignItems: 'center'}}>\r\n          <Typography style={{marginRight: '15px', fontWeight: '600'}}>{translate('callsTag', language)}</Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default CallsHeader;","import React, {useEffect, useState} from 'react';\r\nimport {BlockBox, Search, Ð¡ontrolBlock} from \"../../components/common\";\r\nimport {CircularProgress, Grid, Typography} from \"@mui/material\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {callsSlice, getBaseCallsData} from \"../../store/calls/calls.slice\";\r\nimport {searchSlice} from '../../store/search/search.slice';\r\nimport {CallType} from \"../../store/calls/calls.types\";\r\nimport CallStubMiddleware from \"./Call\";\r\nimport {RootState} from \"../../store/store\";\r\nimport {translate} from \"../../localizations\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport CallsHeader from './CallsHeader';\r\n\r\nimport {langSlice} from \"../../store/lang/lang.slice\";\r\nimport {makeStyles} from \"@mui/styles\";\r\n\r\nconst useStyles = makeStyles(({\r\n  callsHeader: {},\r\n  callsTitle: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: '24px'\r\n  },\r\n  callsCols: {\r\n    borderTop: '2px solid #F8FAFC',\r\n    padding: '16px 24px',\r\n  },\r\n  callsTitleText: {\r\n    fontWeight: '700 !important'\r\n  }\r\n}))\r\n\r\n\r\nconst ClockSvg = (props: React.SVGProps<SVGSVGElement>) => (\r\n  <svg width=\"20\" height=\"19\" viewBox=\"0 0 20 19\" fill={props.fill ? props.fill : '#738094'}\r\n       xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path\r\n      d=\"M4.53033 0.469667C4.82322 0.762557 4.82322 1.23744 4.53033 1.53033L2.03033 4.03033C1.73744 4.32322 1.26256 4.32322 0.969667 4.03033C0.676778 3.73744 0.676778 3.26256 0.969667 2.96967L3.46967 0.469667C3.76256 0.176778 4.23744 0.176778 4.53033 0.469667Z\"\r\n      fill=\"#738094\"/>\r\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n          d=\"M10 1.5C5.30558 1.5 1.5 5.30558 1.5 10C1.5 14.6944 5.30558 18.5 10 18.5C14.6944 18.5 18.5 14.6944 18.5 10C18.5 5.30558 14.6944 1.5 10 1.5ZM10.75 5C10.75 4.58579 10.4142 4.25 10 4.25C9.5858 4.25 9.25 4.58579 9.25 5V10C9.25 10.2586 9.3832 10.4989 9.6025 10.636L12.6025 12.511C12.9538 12.7305 13.4165 12.6238 13.636 12.2725C13.8555 11.9212 13.7488 11.4585 13.3975 11.239L10.75 9.5843V5Z\"\r\n          fill=\"#738094\"/>\r\n    <path\r\n      d=\"M15.4697 1.53033C15.1768 1.23744 15.1768 0.762557 15.4697 0.469667C15.7626 0.176778 16.2374 0.176778 16.5303 0.469667L19.0303 2.96967C19.3232 3.26256 19.3232 3.73744 19.0303 4.03033C18.7374 4.32322 18.2626 4.32322 17.9697 4.03033L15.4697 1.53033Z\"\r\n      fill=\"#738094\"/>\r\n  </svg>\r\n);\r\n\r\n\r\nconst Calls = React.memo(() => {\r\n  const dispatch = useDispatch();\r\n  const [fetching, setFetching] = useState<boolean>(false);\r\n\r\n  const classes = useStyles();\r\n  const calls = useAppSelector<CallType[][]>(state => state.calls.calls);\r\n\r\n  const found = useAppSelector(state => state.calls.found);\r\n  const total = useAppSelector(state => state.calls.total);\r\n\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n  const [expanded, setExpanded] = React.useState<string | false>(false);\r\n  const handleExpandedChange = (callId: string | false) => {\r\n    setExpanded(callId);\r\n    // if (callId) {\r\n    //   history.location.search = \"/\";\r\n    //   history.push(`?openCall=${callId}`)\r\n    // } else {\r\n    //   history.location.search = \"/\";\r\n    //   history.push(``)\r\n    // }\r\n  };\r\n\r\n\r\n  const pushNewCalls = async () => {\r\n    setFetching(true);\r\n    await dispatch(getBaseCallsData());\r\n    setFetching(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(langSlice.actions.setLoading(false));\r\n    debugger\r\n    if (calls.length < 2) {\r\n      pushNewCalls().then();\r\n    }\r\n    return () => {\r\n      setFetching(false);\r\n      dispatch(searchSlice.actions.setDefaultCriterias(null));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('scroll', scrollHandler);\r\n    return () => {\r\n      document.removeEventListener('scroll', scrollHandler)\r\n    }\r\n  });\r\n  const scrollHandler = (e: any) => {\r\n    // @ts-ignore\r\n    if (found > 10 && calls[0][0].info && !fetching && (e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 500)) {\r\n      pushNewCalls().then();\r\n    }\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    return history.listen((location) => {\r\n      if (location.pathname !== '/calls') {\r\n        dispatch(callsSlice.actions.setEmptyState({leaveBundles: 1}));\r\n      }\r\n    });\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div style={{cursor: 'default'}}>\r\n      <Ð¡ontrolBlock/>\r\n      <Search pageName=\"ÐÐ²Ð¾Ð½Ð¾Ðº\"/>\r\n      <BlockBox>\r\n        <CallsHeader\r\n          found={found}\r\n          total={total}\r\n          switchTitleFound={false}\r\n        />\r\n        <div>\r\n          {/*<InfiniteScroll*/}\r\n          {/*  // @ts-ignore*/}\r\n          {/*  dataLength={found} //This is important field to render the next data*/}\r\n          {/*  next={() => null}*/}\r\n          {/*  hasMore={true}*/}\r\n          {/*  loader={<h4>Loading...</h4>}*/}\r\n          {/*  endMessage={*/}\r\n          {/*    <p style={{ textAlign: 'center' }}>*/}\r\n          {/*      <b>Yay! You have seen it all</b>*/}\r\n          {/*    </p>*/}\r\n          {/*  }*/}\r\n          {/*  // below props only if you need pull down functionality*/}\r\n          {/*  refreshFunction={pushNewCalls}*/}\r\n          {/*  pullDownToRefresh*/}\r\n          {/*  pullDownToRefreshThreshold={50}*/}\r\n          {/*  pullDownToRefreshContent={*/}\r\n          {/*    <h3 style={{ textAlign: 'center' }}>&#8595; Pull down to refresh</h3>*/}\r\n          {/*  }*/}\r\n          {/*  releaseToRefreshContent={*/}\r\n          {/*    <h3 style={{ textAlign: 'center' }}>&#8593; Release to refresh</h3>*/}\r\n          {/*  }*/}\r\n          {/*>*/}\r\n          {calls.length !== 0 ?\r\n            calls.map((callsArrays: CallType[]) => {\r\n              const callsArrayIndex = calls.indexOf(callsArrays)\r\n              return (\r\n                <div>\r\n                  {callsArrays.map((call: CallType) => {\r\n                    return (\r\n                      <CallStubMiddleware\r\n                        callInfo={call.info} callAudio={call.audio} callStt={call.stt}\r\n                        bundleIndex={callsArrayIndex} expanded={expanded === call.info?.id}\r\n                        handleExpandedChange={handleExpandedChange}\r\n                      />\r\n                    )\r\n                  })}\r\n                </div>\r\n              )\r\n            }) :\r\n            <BlockBox padding={'24px'}><Typography>{translate('callsEmpty', language)}</Typography></BlockBox>}\r\n        </div>\r\n\r\n        <div style={{textAlign: 'center'}}>\r\n          {fetching && <CircularProgress color=\"primary\"/>}\r\n        </div>\r\n\r\n      </BlockBox>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Calls\r\n","export default __webpack_public_path__ + \"static/media/dashboard.1afdbca0.png\";","export default __webpack_public_path__ + \"static/media/sound.9f77644e.png\";","import React, {useEffect, useState} from 'react';\r\nimport ModalWindowBox from \"../../components/common/ModalWindowBox\";\r\nimport {IconButton, Typography} from \"@mui/material\";\r\nimport cn from \"classnames\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport Input from \"../../components/common/Input\";\r\nimport {LoadingButton} from \"@mui/lab\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {useFormik} from \"formik\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport {translate} from \"../../localizations\";\r\n\r\nconst useStyles = makeStyles(({\r\n  mwTitle: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: '15px'\r\n  },\r\n  mwTitleText: {\r\n    fontWeight: '700 !important'\r\n  },\r\n  mwIconButton: {},\r\n  mwText: {\r\n    color: \"#738094 !important\",\r\n  },\r\n  mwHelp: {\r\n    marginBottom: '35px !important'\r\n  },\r\n  mwButtonBox: {\r\n    marginTop: '25px',\r\n    textAlign: 'right'\r\n  }\r\n}));\r\n\r\nconst ForgotPasswordModalWindow = ({isOpen, handleClose}: any) => {\r\n  const classes = useStyles();\r\n  const [submitButtonDisabled, setSubmitButtonDisabled] = useState<boolean>(true);\r\n\r\n  const validate = (values: { email: string }) => {\r\n    if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\r\n      setSubmitButtonDisabled(true);\r\n    } else {\r\n      setSubmitButtonDisabled(false);\r\n    }\r\n  };\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n    },\r\n    validate,\r\n    onSubmit: async (values) => {\r\n      alert(values.email);\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    formik.values.email = '';\r\n  }, [handleClose])\r\n\r\n  const {language} = useAppSelector(state => state.lang);\r\n\r\n  return (\r\n    <ModalWindowBox\r\n      isMWOpen={isOpen}\r\n      handleMWClose={handleClose}\r\n      text={\"ÐÐ°Ð±ÑÐ»Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ?\"}\r\n    >\r\n      <Typography className={cn(classes.mwHelp, classes.mwText)}>\r\n        ÐÐ²Ð¸Ð´Ð¸ÑÐµ email Ð´Ð»Ñ Ð²Ð¾ÑÑÑÐ°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð°ÑÐ¾Ð»Ñ,Ð½Ð° Ð½ÐµÐ³Ð¾ Ð±ÑÐ´ÐµÑ\r\n        Ð²ÑÑÐ»Ð°Ð½Ð¾ Ð¿Ð¸ÑÑÐ¼Ð¾.\r\n      </Typography>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <Input\r\n          name={\"email\"}\r\n          type={\"email\"}\r\n          handleChange={formik.handleChange}\r\n          value={formik.values.email}\r\n          bcColor={\"#EEF2F6\"}\r\n          label={\"Email\"}\r\n          autoComplete=\"off\"\r\n        />\r\n        <div className={classes.mwButtonBox}>\r\n          <LoadingButton\r\n            disabled={submitButtonDisabled}\r\n            type=\"submit\"\r\n            style={{marginRight: '15px'}}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            {translate(\"sendButton\", language)}\r\n          </LoadingButton>\r\n          <LoadingButton\r\n            onClick={handleClose}\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n          >\r\n            {translate(\"cancelButtonMW\", language)}\r\n          </LoadingButton>\r\n        </div>\r\n      </form>\r\n    </ModalWindowBox>\r\n  );\r\n};\r\n\r\nexport default ForgotPasswordModalWindow;","import React, {useState} from 'react';\r\nimport ModalWindowBox from \"../../components/common/ModalWindowBox\";\r\nimport {IconButton, Typography} from \"@mui/material\";\r\nimport cn from \"classnames\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport Input from \"../../components/common/Input\";\r\nimport {LoadingButton} from \"@mui/lab\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport MuiPhoneNumber from 'mui-phone-number';\r\nimport {Form, Formik} from \"formik\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport {translate} from \"../../localizations\";\r\n\r\nconst useStyles = makeStyles(({\r\n  mwTitle: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: '15px'\r\n  },\r\n  mwTitleText: {\r\n    fontWeight: '700 !important'\r\n  },\r\n  mwIconButton: {},\r\n  mwText: {\r\n    color: \"#738094 !important\",\r\n  },\r\n  mwHelp: {\r\n    marginBottom: '35px !important'\r\n  },\r\n  mwButtonBox: {\r\n    textAlign: 'right'\r\n  },\r\n  mwNumberInput: {\r\n    width: '100%',\r\n    '& .MuiInput-root:before': {\r\n      border: 'none !important'\r\n    },\r\n    '& .MuiInput-root:after': {\r\n      border: 'none !important'\r\n    },\r\n    '& .MuiInput-root .MuiInputAdornment-root .MuiButton-root': {\r\n      padding: '12px 15px',\r\n      backgroundColor: '#CDD5DF',\r\n      color: '#000',\r\n      width: '20px',\r\n      borderRadius: '5px 0 0 5px',\r\n      height: '35px'\r\n    },\r\n    '& .MuiInput-root': {\r\n      height: '35px',\r\n      marginLeft: '0px',\r\n      justifyContent: 'space-between',\r\n      borderRadius: '5px',\r\n      backgroundColor: '#EEF2F6',\r\n      fontSize: '14px',\r\n      color: '#738094'\r\n    },\r\n    '& .MuiInput-root input::selection ': {\r\n      backgroundColor: '#EEF2F6'\r\n    },\r\n  }\r\n}));\r\n\r\nconst ForgotPasswordModalWindow = ({isOpen, handleClose}: any) => {\r\n  const classes = useStyles();\r\n  const [submitButtonDisabled, setSubmitButtonDisabled] = useState<boolean>(true);\r\n\r\n  const {language} = useAppSelector(state => state.lang);\r\n\r\n\r\n  const validate = (values: {\r\n    name: string,\r\n    email: string,\r\n    phoneNumber: string\r\n  }) => {\r\n    console.log(values.phoneNumber.replace(/\\D+/g, \"\").toString().length)\r\n    if (values.name.length > 0 && /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email) && values.phoneNumber.replace(/\\D+/g, \"\").toString().length > 5) {\r\n      setSubmitButtonDisabled(false);\r\n    } else {\r\n      setSubmitButtonDisabled(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ModalWindowBox\r\n      isMWOpen={isOpen}\r\n      handleMWClose={handleClose}\r\n      text={\"ÐÐ°Ð±ÑÐ¾Ð½Ð¸ÑÐ¾Ð²Ð°ÑÑ Ð±ÐµÑÐ¿Ð»Ð°ÑÐ½ÑÑ Ð²ÐµÑÑÐ¸Ñ\"}\r\n    >\r\n      <Typography className={cn(classes.mwHelp, classes.mwText)}>\r\n        ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸ÑÐµ ÑÐ¾ÑÐ¼Ñ, Ð¸ Ð½Ð°ÑÐ° ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° ÑÐ²ÑÐ¶ÐµÑÑÑ Ñ Ð²Ð°Ð¼Ð¸\r\n      </Typography>\r\n      <Formik\r\n        initialValues={{\r\n          name: '',\r\n          email: '',\r\n          phoneNumber: ''\r\n        }}\r\n        validate={validate}\r\n        onSubmit={values => {\r\n          alert(JSON.stringify(values, null, 2));\r\n        }}\r\n        render={({\r\n                   handleChange,\r\n                   setFieldValue,\r\n                 }) => {\r\n          return (\r\n            <Form>\r\n              <div style={{marginTop: '25px'}}>\r\n                <Input\r\n                  name={\"name\"}\r\n                  type={\"text\"}\r\n                  bcColor={\"#EEF2F6\"}\r\n                  label={\"ÐÐ°ÑÐµ Ð¸Ð¼Ñ\"}\r\n                  handleChange={handleChange}\r\n                />\r\n              </div>\r\n              <div style={{marginTop: '25px'}}>\r\n                <Input\r\n                  name={\"email\"}\r\n                  type={\"email\"}\r\n                  bcColor={\"#EEF2F6\"}\r\n                  label={\"Email\"}\r\n                  handleChange={handleChange}\r\n                />\r\n              </div>\r\n              <div style={{margin: '25px 0'}}>\r\n                <Typography style={{color: '#738094', margin: '0 0 10px 9px', fontSize: '11px'}}>\r\n                  ÐÐ¾Ð¼ÐµÑ ÑÐµÐ»ÐµÑÐ¾Ð½Ð°</Typography>\r\n                <MuiPhoneNumber onChange={e => setFieldValue(\"phoneNumber\", e)}\r\n                                className={classes.mwNumberInput}\r\n                                defaultCountry={'ru'}/>\r\n              </div>\r\n              <div className={classes.mwButtonBox}>\r\n                <LoadingButton\r\n                  type=\"submit\"\r\n                  disabled={submitButtonDisabled}\r\n                  style={{marginRight: '15px'}}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  {translate(\"sendButton\", language)}\r\n                </LoadingButton>\r\n                <LoadingButton\r\n                  onClick={handleClose}\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                >\r\n                  {translate(\"cancelButton\", language)}\r\n                </LoadingButton>\r\n              </div>\r\n            </Form>\r\n          )\r\n        }}\r\n      >\r\n      </Formik>\r\n    </ModalWindowBox>\r\n  );\r\n};\r\n\r\nexport default ForgotPasswordModalWindow;","import React, {useEffect, useState} from 'react';\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {Typography} from \"@mui/material\";\r\nimport cn from 'classnames';\r\nimport {PhonePng, DashboardPng, SoundPng} from '../../assets/images/Auth';\r\nimport LogoImg from '../../assets/images/logo.svg';\r\nimport {authSlice, fetchAuthToken} from \"../../store/auth/auth.slice\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport {useFormik} from 'formik';\r\nimport {LoadingButton} from \"@mui/lab\";\r\nimport {Redirect, useHistory} from \"react-router-dom\";\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport Alert from \"@mui/material/Alert\";\r\nimport Input from \"../../components/common/Input\";\r\nimport ForgotPasswordModalWindow from \"./ForgotPasswordModalWindow\";\r\nimport Button from '@mui/material/Button';\r\nimport SignUpModalWindow from \"./SignUpModalWindow\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst useStyles = makeStyles(({\r\n  authWrapper: {\r\n    height: '100vh',\r\n    display: 'flex',\r\n  },\r\n  authBothSides: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n\r\n  authGreetSide: {\r\n    flex: '0 0 54%',\r\n    background: 'linear-gradient(124deg, rgba(126,174,255,1) 0%, rgba(147,173,251,1) 31%, rgba(252,166,233,1) 100%)'\r\n  },\r\n  authText: {\r\n    position: 'relative',\r\n    color: '#FFFFFF !important'\r\n  },\r\n  authWelcome: {\r\n    fontSize: '20px !important',\r\n  },\r\n  authTo: {\r\n    margin: '8px 0 23px 0 !important',\r\n    fontSize: '46px !important',\r\n    fontWeight: '700 !important'\r\n  },\r\n  authHelp: {\r\n    fontSize: '16px !important',\r\n    color: '#F8FAFC !important'\r\n  },\r\n\r\n  authPhoneIcon: {\r\n    margin: '0 0 100px 60px'\r\n  },\r\n  authDashboardIcon: {\r\n    marginLeft: '230px'\r\n  },\r\n  authSoundIcon: {\r\n    margin: '60px 0 0 130px'\r\n  },\r\n\r\n  authFormSide: {\r\n    flex: '0 0 46%',\r\n    background: 'linear-gradient(124deg, rgba(220,205,247,1) 0%, rgba(252,177,235,1) 100%)'\r\n  },\r\n  authFormInner: {\r\n    width: '320px',\r\n    margin: '0 10px'\r\n  },\r\n  authInputBox: {\r\n    position: 'relative',\r\n    marginBottom: '18px !important'\r\n  },\r\n  authInput: {\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '5px',\r\n    width: '100%',\r\n    '& .MuiInputLabel-root': {\r\n      color: '#738094 !important',\r\n      fontSize: '14px !important',\r\n      left: '-5px',\r\n      top: '-9px'\r\n    },\r\n    '& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline': {\r\n      border: 'none',\r\n    },\r\n    '& .MuiOutlinedInput-root .MuiOutlinedInput-input': {\r\n      padding: '8px 28px 8px 10px !important',\r\n      color: '#738094'\r\n    }\r\n  },\r\n  authLogoBox: {\r\n    textAlign: 'center',\r\n    marginBottom: '56px'\r\n  },\r\n  authPasswordInputIcon: {\r\n    position: 'absolute',\r\n    right: '10px',\r\n    top: '31px'\r\n  },\r\n  authLoginInputIcon: {\r\n    position: 'absolute',\r\n    right: '10px',\r\n    top: '10px'\r\n  },\r\n  authForgotButton: {\r\n    padding: '0 5px !important',\r\n    color: '#722ED1 !important',\r\n    fontWeight: '700 !important',\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    fontSize: '12px !important',\r\n    position: 'absolute',\r\n    right: '-220px',\r\n    top: '-5px',\r\n  },\r\n  authButton: {\r\n    width: '100%',\r\n    margin: '16px 0 30px 0 !important',\r\n    '& .MuiLoadingButton-loadingIndicator': {\r\n      right: '123px'\r\n    },\r\n  }\r\n}));\r\n\r\nconst LoginSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        d=\"M13.0909 11.4227C12.7593 10.6372 12.2781 9.92377 11.6741 9.32207C11.0719 8.71863 10.3586 8.23751 9.57348 7.90527C9.56645 7.90176 9.55942 7.9 9.55239 7.89648C10.6475 7.10547 11.3594 5.81699 11.3594 4.36328C11.3594 1.95508 9.40825 0.00390625 7.00004 0.00390625C4.59184 0.00390625 2.64067 1.95508 2.64067 4.36328C2.64067 5.81699 3.35258 7.10547 4.4477 7.89824C4.44067 7.90176 4.43364 7.90352 4.42661 7.90703C3.63911 8.23926 2.93247 8.71562 2.32602 9.32383C1.72258 9.926 1.24146 10.6393 0.909224 11.4244C0.582837 12.193 0.406809 13.0171 0.390669 13.852C0.3902 13.8707 0.39349 13.8894 0.400347 13.9068C0.407204 13.9243 0.417488 13.9402 0.430593 13.9537C0.443698 13.9671 0.45936 13.9778 0.476654 13.9851C0.493949 13.9923 0.512527 13.9961 0.531294 13.9961H1.58598C1.66333 13.9961 1.72485 13.9346 1.72661 13.859C1.76176 12.502 2.30668 11.2311 3.26997 10.2678C4.26665 9.27109 5.59028 8.72266 7.00004 8.72266C8.40981 8.72266 9.73344 9.27109 10.7301 10.2678C11.6934 11.2311 12.2383 12.502 12.2735 13.859C12.2752 13.9363 12.3368 13.9961 12.4141 13.9961H13.4688C13.4876 13.9961 13.5061 13.9923 13.5234 13.9851C13.5407 13.9778 13.5564 13.9671 13.5695 13.9537C13.5826 13.9402 13.5929 13.9243 13.5997 13.9068C13.6066 13.8894 13.6099 13.8707 13.6094 13.852C13.5918 13.0117 13.4178 12.1943 13.0909 11.4227ZM7.00004 7.38672C6.19321 7.38672 5.43383 7.07207 4.86254 6.50078C4.29126 5.92949 3.97661 5.17012 3.97661 4.36328C3.97661 3.55645 4.29126 2.79707 4.86254 2.22578C5.43383 1.65449 6.19321 1.33984 7.00004 1.33984C7.80688 1.33984 8.56626 1.65449 9.13754 2.22578C9.70883 2.79707 10.0235 3.55645 10.0235 4.36328C10.0235 5.17012 9.70883 5.92949 9.13754 6.50078C8.56626 7.07207 7.80688 7.38672 7.00004 7.38672Z\"\r\n        fill=\"#2F3747\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst PasswordSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"12\" height=\"16\" viewBox=\"0 0 12 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        d=\"M4.875 11C4.875 10.3787 5.3787 9.875 6 9.875C6.6213 9.875 7.125 10.3787 7.125 11C7.125 11.6213 6.6213 12.125 6 12.125C5.3787 12.125 4.875 11.6213 4.875 11Z\"\r\n        fill=\"#2F3747\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M2.71622 6.94792L2.47964 4.81871C2.44931 4.54573 2.44931 4.27022 2.47964 3.99724L2.49672 3.84356C2.67783 2.21352 3.95929 0.923783 5.58816 0.73215C5.86176 0.69996 6.13821 0.69996 6.41181 0.73215C8.04066 0.923783 9.32211 2.21353 9.50324 3.84357L9.52026 3.99724C9.55064 4.27022 9.55064 4.54573 9.52026 4.8187L9.28371 6.94792L9.79866 6.98902C10.6107 7.05389 11.2738 7.66432 11.4055 8.46824C11.68 10.1449 11.68 11.8552 11.4055 13.5319C11.2738 14.3359 10.6107 14.9463 9.79866 15.0111L8.67659 15.1007C6.89504 15.2429 5.10501 15.2429 3.32345 15.1007L2.20135 15.0111C1.3893 14.9463 0.726226 14.3359 0.594586 13.5319C0.320034 11.8552 0.320034 10.1449 0.594586 8.46824C0.726226 7.66432 1.3893 7.05389 2.20135 6.98902L2.71622 6.94792ZM5.71956 1.84945C5.90586 1.82753 6.09411 1.82753 6.28034 1.84945C7.38936 1.97991 8.26176 2.85802 8.38514 3.9678L8.40216 4.12147C8.42331 4.31188 8.42331 4.50406 8.40216 4.69447L8.16134 6.86234C6.72194 6.76964 5.27804 6.76964 3.83864 6.86234L3.59777 4.69447C3.57661 4.50406 3.57661 4.31188 3.59777 4.12147L3.61484 3.9678C3.73815 2.85802 4.61061 1.97991 5.71956 1.84945ZM8.58704 8.02087C6.86511 7.88347 5.13494 7.88347 3.41297 8.02087L2.29088 8.11049C1.99468 8.13412 1.75282 8.35679 1.7048 8.65004C1.44996 10.2064 1.44996 11.7938 1.7048 13.3501C1.75282 13.6434 1.99468 13.8661 2.29088 13.8897L3.41297 13.9792C5.13494 14.1167 6.86511 14.1167 8.58704 13.9792L9.70911 13.8897C10.0054 13.8661 10.2472 13.6434 10.2952 13.3501C10.5501 11.7938 10.5501 10.2064 10.2952 8.65004C10.2472 8.35679 10.0054 8.13412 9.70911 8.11049L8.58704 8.02087Z\"\r\n            fill=\"#1B202B\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst Auth = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [buttonClick, setButtonClick] = useState<boolean>(false);\r\n\r\n  const [openChangePasswordWindow, setOpenChangePasswordWindow] = useState<boolean>(false);\r\n  const handleOpenChangePasswordWindow = () => setOpenChangePasswordWindow(true);\r\n  const handleCloseChangePasswordWindow = () => setOpenChangePasswordWindow(false);\r\n\r\n  const [openSignUpWindow, setOpenSignUpWindow] = useState<boolean>(false);\r\n  const handleOpenSignUpWindow = () => setOpenSignUpWindow(true);\r\n  const handleCloseSignUpWindow = () => setOpenSignUpWindow(false);\r\n\r\n  const error = useAppSelector(state => state.auth.error);\r\n  const {language} = useAppSelector(state => state.lang);\r\n  const currentUser = useAppSelector(state => state.users.currentUser);\r\n\r\n  const history = useHistory();\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      username: '',\r\n      password: ''\r\n    },\r\n    onSubmit: async (values) => {\r\n      setButtonClick(true);\r\n      await dispatch(fetchAuthToken(values));\r\n      setButtonClick(false);\r\n      history.location.pathname = \"/\";\r\n      history.push(`/${language}/${currentUser ? currentUser.id : \"_\"}/calls`)\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setButtonClick(false);\r\n      dispatch(authSlice.actions.setError(null));\r\n    }\r\n  }, [dispatch]);\r\n\r\n\r\n  return (\r\n    <div className={classes.authWrapper}>\r\n      <div className={cn(classes.authGreetSide, classes.authBothSides)}>\r\n        <div>\r\n          <img className={classes.authPhoneIcon} src={PhonePng} alt=\"\"/>\r\n          <img className={classes.authDashboardIcon} src={DashboardPng} alt=\"\"/>\r\n          <Typography className={cn(classes.authWelcome, classes.authText)}>\r\n            ÐÐÐÐ Ð ÐÐÐÐÐÐÐÐÐ¢Ð¬\r\n          </Typography>\r\n          <Typography className={cn(classes.authTo, classes.authText)}>\r\n            Ð ÑÐµÑÐµÐ²ÑÑ Ð°Ð½Ð°Ð»Ð¸ÑÐ¸ÐºÑ\r\n          </Typography>\r\n          <Typography className={cn(classes.authHelp, classes.authText)}>\r\n            ÐÐ¾Ð¹Ð´Ð¸ÑÐµ, ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð»ÑÑÐ¸ÑÑ Ð´Ð¾ÑÑÑÐ¿\r\n          </Typography>\r\n          <img className={classes.authSoundIcon} src={SoundPng} alt=\"\"/>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={cn(classes.authFormSide, classes.authBothSides)}>\r\n        <div className={classes.authFormInner}>\r\n          <div className={classes.authLogoBox}>\r\n            <img src={LogoImg} height={30} alt=\"This is Logo icon.\"/>\r\n          </div>\r\n          <form onSubmit={formik.handleSubmit}>\r\n            <div className={classes.authInputBox}>\r\n              <Input\r\n                name={\"username\"}\r\n                type={\"text\"}\r\n                handleChange={formik.handleChange}\r\n                value={formik.values.username}\r\n                bcColor={\"#FFFFFF\"}\r\n                label={\"Login\"}\r\n              />\r\n              <LoginSvg className={classes.authLoginInputIcon}/>\r\n            </div>\r\n            <div className={classes.authInputBox}>\r\n              <Button tabIndex={-1} onClick={() => {\r\n                handleOpenChangePasswordWindow();\r\n              }}\r\n                      className={classes.authForgotButton}>\r\n                ÐÐ°Ð±ÑÐ»Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ\r\n              </Button>\r\n              <Input\r\n                name={\"password\"}\r\n                type={\"password\"}\r\n                handleChange={formik.handleChange}\r\n                value={formik.values.password}\r\n                bcColor={\"#FFFFFF\"}\r\n                label={\"Password\"}\r\n              />\r\n              <div style={{width: '32px', height: '100%'}}>\r\n                <PasswordSvg className={classes.authPasswordInputIcon}/>\r\n              </div>\r\n            </div>\r\n\r\n            <LoadingButton\r\n              className={classes.authButton} loading={buttonClick} loadingPosition=\"end\"\r\n              endIcon={<SendIcon/>} type=\"submit\"\r\n              variant=\"contained\" color=\"primary\"\r\n            >\r\n              ÐÐ¾Ð¹ÑÐ¸\r\n            </LoadingButton>\r\n          </form>\r\n          <Button\r\n            className={classes.authButton}\r\n            variant=\"outlined\" color=\"primary\"\r\n            onClick={handleOpenSignUpWindow}\r\n          >\r\n            ÐÐ°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÐ¾Ð²Ð°ÑÑÑÑ\r\n          </Button>\r\n          <div style={{height: '48px'}}>\r\n            {error ? <Alert severity=\"error\">{error}</Alert> : null}\r\n          </div>\r\n        </div>\r\n        <ForgotPasswordModalWindow isOpen={openChangePasswordWindow} handleClose={handleCloseChangePasswordWindow}/>\r\n        <SignUpModalWindow isOpen={openSignUpWindow} handleClose={handleCloseSignUpWindow}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","export default \"data:image/png;base64,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\"","import React from \"react\";\r\n\r\nexport const TrashSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        d=\"M6.9375 2.25C6.9375 1.93934 7.18934 1.6875 7.5 1.6875H10.5C10.8106 1.6875 11.0625 1.93934 11.0625 2.25V2.8125H14.25C14.5606 2.8125 14.8125 3.06434 14.8125 3.375C14.8125 3.68566 14.5606 3.9375 14.25 3.9375H3.75C3.43934 3.9375 3.1875 3.68566 3.1875 3.375C3.1875 3.06434 3.43934 2.8125 3.75 2.8125H6.9375V2.25Z\"\r\n        fill=\"#F5222D\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M4.68118 5.95858C4.70227 5.76868 4.8628 5.625 5.05388 5.625H12.9487C13.1397 5.625 13.3003 5.76868 13.3213 5.95858L13.4714 7.3096C13.742 9.74483 13.742 12.2026 13.4714 14.6378L13.4566 14.7708C13.3581 15.6577 12.6707 16.3649 11.787 16.4887C9.93883 16.7474 8.06368 16.7474 6.21556 16.4887C5.33178 16.3649 4.64439 15.6577 4.54584 14.7708L4.53106 14.6378C4.26048 12.2026 4.26048 9.74483 4.53106 7.3096L4.68118 5.95858ZM8.06375 8.55C8.06375 8.23935 7.8119 7.9875 7.50125 7.9875C7.19059 7.9875 6.93875 8.23935 6.93875 8.55V13.8C6.93875 14.1107 7.19059 14.3625 7.50125 14.3625C7.8119 14.3625 8.06375 14.1107 8.06375 13.8V8.55ZM11.0638 8.55C11.0638 8.23935 10.8119 7.9875 10.5013 7.9875C10.1906 7.9875 9.93875 8.23935 9.93875 8.55V13.8C9.93875 14.1107 10.1906 14.3625 10.5013 14.3625C10.8119 14.3625 11.0638 14.1107 11.0638 13.8V8.55Z\"\r\n            fill=\"#FF4D4F\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const PlusSvg = (props: any) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M8.00034 2.66602C8.38454 2.66602 8.69599 2.97747 8.69599 3.36167V12.637C8.69599 13.0212 8.38454 13.3327 8.00034 13.3327C7.61614 13.3327 7.30469 13.0212 7.30469 12.637V3.36167C7.30469 2.97747 7.61614 2.66602 8.00034 2.66602Z\"\r\n            fill=\"#73D13D\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M2.66602 8.00034C2.66602 7.61614 2.97747 7.30469 3.36167 7.30469H12.637C13.0212 7.30469 13.3327 7.61614 13.3327 8.00034C13.3327 8.38454 13.0212 8.69599 12.637 8.69599H3.36167C2.97747 8.69599 2.66602 8.38454 2.66602 8.00034Z\"\r\n            fill=\"#73D13D\"/>\r\n    </svg>\r\n  )\r\n};","import React, {FC, memo, useEffect, useState} from 'react';\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {getAllReports, getReport, setReports, getCallReport, deleteReport, getSelectors, getTagNames} from \"../../store/reports/reports.slice\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport {RootState} from '../../store/store';\r\nimport {BlockBox, ModalWindowBox, Search, Ð¡ontrolBlock} from \"../../components/common\";\r\nimport {DataGrid, GridColDef, GridValueGetterParams,  GridToolbarExport, GridToolbarContainer, GridRowsProp, MuiEvent, GridCellParams, GridToolbar, GridColumnVisibilityModel, GridToolbarColumnsButton } from '@mui/x-data-grid';\r\nimport {optionsCreator, optionsCreatorVEL, optionsCreatorWithName, optionsCreatorWithKey} from '../../utils/optionsCreator';\r\nimport {Typography} from '@mui/material';\r\nimport {reportsSlice} from '../../store/reports/reports.slice';\r\nimport {LoadingButton} from '@mui/lab';\r\nimport ContainedSelect from '../../components/common/Selects/ContainedSelect';\r\nimport {translate} from \"../../localizations\";\r\nimport {CallType} from '../../store/calls/calls.types';\r\nimport {CriteriasType} from '../../store/search/search.types';\r\nimport CallStubMiddleware from '../Calls/Call';\r\nimport {getCallsInfo, getCallsInfoById, getBaseCallsData, callsSlice} from '../../store/calls/calls.slice';\r\nimport CallsHeader from '../Calls/CallsHeader';\r\nimport CriteriasList from '../../components/common/Criterias/CriteriasList';\r\nimport TextSelect from '../../components/common/Selects/TextSelect/TextSelect';\r\nimport {getAllSearchCriterias, getDefaultCriterias, searchSlice} from \"../../store/search/search.slice\"\r\nimport Input from \"../../components/common/Input\";\r\nimport {TrashSvg} from '../MarkupRules/Tags/TagDetails/TagDetails.svg';\r\nimport Box from '@mui/material/Box';\r\nimport ExpandLessIcon from '@mui/icons-material/ExpandLess';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport Plus from '../../components/common/Buttons/Plus';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport FormGroup from '@mui/material/FormGroup';\r\n\r\nexport function SortedDescendingIcon() {\r\n  return <ExpandMoreIcon className=\"icon\" />;\r\n}\r\nexport function SortedAscendingIcon() {\r\n  return <ExpandLessIcon className=\"icon\" />;\r\n}\r\n\r\nconst useStyles = makeStyles(({\r\n  reportItemInfo: {\r\n    marginTop: '40px',\r\n  },\r\n  reportTitle: {\r\n    marginRight: '16px !important',\r\n    color: '#2F3747 !important',\r\n    fontWeight: '500 !important',\r\n  },\r\n  reportFindNumber: {\r\n    color: '#A3AEBE !important',\r\n    fontWeight: '700 !important'\r\n  },\r\n  reportButtonsGroup: {\r\n    margin: '24px 0 24px 0',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center'\r\n  }, \r\n  reportButtonsGroupLeft: {\r\n\r\n  },\r\n  reportOptionsButton: {\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    borderRadius: '5px !important',\r\n    background: '#fff !important',\r\n    color: '#1B202B !important',\r\n  },\r\n  reportOptionsButtonActive: {\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    borderRadius: '5px !important',\r\n    background: '#fff !important',\r\n    color: '#1B202B !important',\r\n    border: '1px solid #722ED1 !important',\r\n  },\r\n  getReportsButton: {\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    borderRadius: '5px !important',\r\n    marginLeft: '20px !important'\r\n  },\r\n\r\n  searchTitle: {\r\n    height: '40px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: '15px'\r\n  },\r\n\r\n  searchTitleLeft: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    width: '100%'\r\n  },\r\n  searchTitleLeftText: {\r\n    marginRight: '16px !important',\r\n    color: '#2F3747 !important',\r\n    fontWeight: '500 !important',\r\n  },\r\n  searchTitleLeftStick: {\r\n    marginLeft: '16px !important',\r\n    color: '#CDD5DF !important',\r\n    fontSize: '17px !important'\r\n  },\r\n\r\n  searchText: {\r\n    marginRight: '8px !important',\r\n    color: '#2F3747 !important',\r\n    whiteSpace: 'nowrap'\r\n  },\r\n  tagsBox: {\r\n    minWidth: '70px',\r\n    height: '32px',\r\n    backgroundColor: '#F8FAFC',\r\n    border: 'none !important',\r\n    outline: 'none'\r\n  },\r\n  searchSearchButton: {\r\n    // @ts-ignore\r\n    textTransform: 'none !important',\r\n    borderRadius: '5px !important'\r\n  },\r\n  selectArrow: {\r\n    marginRight: '10px'\r\n  },\r\n  selectArrowOnArrow: {\r\n    marginBottom: '5px'\r\n  },\r\n  reportInput: {\r\n    border: '1px solid #ccc',\r\n    borderRaduis: '2px',\r\n    minWidth: '200px',\r\n    maxWidth: '300px',\r\n    width: '100%'\r\n  },\r\n  checkboxDiff: {\r\n    '& label': {\r\n      marginRight: '0px',\r\n    }\r\n  },\r\n  checkboxDiffValues: {\r\n    display: 'flex',\r\n    //@ts-ignore\r\n    flexDirection: 'row !important',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    '& label': {\r\n      marginRight: '0px',\r\n    }\r\n  },\r\n  checkboxDiffLabel: {\r\n    marginRight: '15px !important',\r\n  },\r\n  reportName: {\r\n    '& span': {\r\n      display: 'none'\r\n    }\r\n  },\r\n  errorInput: {\r\n    position: 'relative',\r\n    '& .MuiFormControl-root' : {\r\n    borderColor: '#F5222D !important'\r\n    },\r\n    '& span': {\r\n      display: 'block',\r\n      position: 'absolute',\r\n      top: '-20px',\r\n      left: '0px'\r\n    }\r\n  },\r\n  notFoundCalls: {\r\n    color: '#A3AEBE !important',\r\n    fontWeight: '700 !important',\r\n    textAlign: 'center',\r\n    margin: '20px 0 20px'\r\n  },\r\n  tableHeaderTitle: {\r\n    fontWeight: '600', \r\n    lineHeight: '1.3', \r\n    color: '#738094', \r\n    display: 'flex', \r\n    flexDirection: 'column', \r\n    alignItems: 'center'\r\n  },\r\n  tableHeaderSubTitle: {\r\n    paddingBottom: '12px',\r\n    textAlign: 'center',\r\n    position: 'relative',\r\n    fontSize: '13px',\r\n    '&:after': {\r\n      position: 'absolute',\r\n      bottom: '7px',\r\n      width: '36px',\r\n      height: '1px',\r\n      display: 'block',\r\n      content: '\"\"',\r\n      left: 'calc(50% - 18px)',\r\n      background: 'rgba(224, 224, 224, 1)',\r\n    },\r\n  },\r\n  tableHeaderSubSubTitle: {\r\n    fontSize: '0.8em', \r\n    textAlign: 'center',\r\n    fontWeight: '400'\r\n  }\r\n}))\r\n\r\nconst ExportIcon = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return(\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M13.35 9.39611C13.2952 9.44451 13.2621 9.51298 13.2585 9.58605C13.2261 10.2611 13.1707 10.9354 13.0921 11.6076C12.9893 12.486 12.279 13.1858 11.3922 13.2848C9.15505 13.5349 6.84064 13.5349 4.60343 13.2848C3.71669 13.1858 3.00636 12.486 2.90361 11.6076C2.63629 9.32185 2.63629 7.01285 2.90361 4.72713C3.00636 3.84869 3.71669 3.14894 4.60343 3.04983C6.07844 2.88498 7.58877 2.82889 9.08683 2.88142C9.19497 2.88521 9.28703 2.80291 9.29463 2.69493L9.32738 2.22625C9.32938 2.19865 9.3321 2.17135 9.3355 2.14436C9.35177 2.01477 9.26191 1.88698 9.13138 1.88236C7.58098 1.82743 6.01967 1.88533 4.49235 2.05603C3.15097 2.20594 2.06809 3.26261 1.91039 4.61097C1.63403 6.97385 1.63403 9.36085 1.91039 11.7237C2.06809 13.072 3.15097 14.1288 4.49235 14.2786C6.80337 14.537 9.1923 14.537 11.5033 14.2786C12.8447 14.1288 13.9275 13.072 14.0853 11.7237C14.1979 10.7605 14.2647 9.79331 14.2855 8.82531C14.2881 8.70385 14.1391 8.64331 14.0537 8.72985C13.827 8.96005 13.5923 9.18225 13.35 9.39611Z\" fill=\"#A3AEBE\"/>\r\n      <path d=\"M5.2448 10.3666C5.09732 10.326 4.99642 10.1902 5.0001 10.0373L5.03959 8.39467C5.09614 6.04271 7.01899 4.16551 9.37166 4.16551H10.2099C10.2275 3.74969 10.2514 3.33407 10.2817 2.9188L10.3269 2.29837C10.3545 1.91975 10.7767 1.70809 11.0965 1.9125C12.4772 2.79469 13.6775 3.93142 14.6333 5.26209L14.9374 5.68539C15.0209 5.8016 15.0209 5.95812 14.9374 6.07433L14.6333 6.49763C13.6775 7.82827 12.4772 8.96501 11.0965 9.84721C10.8331 10.0155 10.4993 9.90174 10.3747 9.64487C10.3485 9.59027 10.3317 9.52734 10.3269 9.46134L10.2817 8.84094C10.2455 8.34567 10.2185 7.84994 10.2005 7.35394L9.96446 7.31841C8.46032 7.09201 6.97252 7.81787 6.2252 9.14267L5.62366 10.2091C5.59501 10.2598 5.55435 10.3009 5.50712 10.3297C5.43048 10.3765 5.33598 10.3917 5.2448 10.3666Z\" fill=\"#738094\"/>\r\n    </svg>\r\n  )\r\n}\r\n\r\nconst Reports = React.memo(() => {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const allReports = useAppSelector(state => state.reports.allReports);\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n  const callReport = useAppSelector(state => state.reports.callReport);\r\n  const totalCalls = useAppSelector(state => state.reports.callReport.report.total_calls);\r\n\r\n  //calls\r\n  const calls = useAppSelector<CallType[][]>(state => state.calls.calls);\r\n  \r\n  const [expanded, setExpanded] = React.useState<string | false>(false);\r\n  const handleExpandedChange = (panel: string | false) => {\r\n    setExpanded(panel);\r\n  };\r\n  const [foundCalls, setFoundCalls] = React.useState<string | number>(0);\r\n    \r\n  const savedReportsOptions = optionsCreatorWithName(allReports);\r\n  const currentSavedReport = useAppSelector(state => state.reports.currentSavedReport);\r\n\r\n  const [callsSwitch, setCallSwitch] = useState(false);\r\n  \r\n  // const activeReport = useAppSelector(state => state.reports.activeReport);\r\n\r\n  // for reports \r\n  const activeCriteriasReports = useAppSelector(state => state.search.activeCriteriasReports);\r\n  const defaultCriterias = useAppSelector(state => state.search.defaultCriterias);\r\n\r\n  const allCriterias = useAppSelector(state => state.search.allCriterias);\r\n\r\n  //\r\n  const allCriteriasOptions = optionsCreatorWithKey(allCriterias);\r\n  const [allCriteriasValue, setAllCriteriasValue] = useState(allCriteriasOptions[0]);\r\n\r\n  const copyAllCriteriasOptions =  optionsCreatorWithKey(allCriterias);\r\n  const [copyAllCriteriasValue, setCopyAllCriteriasValue] = useState(copyAllCriteriasOptions[0]);\r\n //\r\n\r\n  const allCriteriasColumn = useAppSelector(state => state.search.allCriterias);\r\n  const activeCriteriasColumn = useAppSelector(state => state.search.activeCriteriasColumn);\r\n\r\n\r\n  const [visibleParametres, setVisibleParametres] = React.useState(false);\r\n\r\n  const activeParameters = useAppSelector(state => state.reports.activeParameters);\r\n\r\n\r\n  const handleOptionsReportsSelect = (options: any) => {\r\n    let local: { value: any, label: string, type: string }[] = [];\r\n    for (let i = 0; i < options.length; i++) {\r\n      if (options[i] === 'time') {\r\n        local.push({value: options[i], label: options[i], type: 'select'});\r\n      } else if (options[i] === 'search_items') {\r\n        local.push({value: options[i], label: options[i], type: 'title'});\r\n      } else if (options[i] === 'tag') {\r\n        local.push({value: options[i], label: options[i], type: 'select-tag'});\r\n      } else {\r\n        local.push({value: options[i], label: options[i], type: 'boolean'});\r\n      }\r\n    }\r\n    return local;\r\n  }\r\n\r\n  const handleOtionsReportsSelectObj = (options: any) => {\r\n    let local = {};\r\n      if (options.group_by === 'time') {\r\n        local = {value: options.group_by, label: options.group_by, type: 'select'};\r\n      } else if (options.group_by === 'search_items') {\r\n        local = {value: options.group_by, label: options.group_by, type: 'title'};\r\n      } else if (options.group_by === 'tag') {\r\n        local = {value: options.group_by, label: options.group_by, type: 'select-tag'};\r\n      } else {\r\n        local = {value: options.group_by, label: options.group_by, type: 'boolean'};\r\n      }\r\n    return local;\r\n  }\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    if (isAuth && activeCriteriasReports.length < 1) {\r\n      dispatch(getDefaultCriterias());\r\n    }\r\n    dispatch(getAllReports());\r\n    func();\r\n    funcForTag();\r\n    funcForCriterias();\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const func = async () => {\r\n    await dispatch(getSelectors());\r\n  }\r\n  const funcForTag = async () => {\r\n    await dispatch(getTagNames());\r\n  }\r\n  const funcForCriterias = async () => {\r\n    await dispatch(getAllSearchCriterias());\r\n  }\r\n\r\n  // selectors values \r\n  const selectorsValues = useAppSelector(state => state.reports.selectors);\r\n\r\n  //Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÑÐµÑÐ°\r\n  const reportName = useAppSelector(state => state.reports.activeReport.report_name);\r\n\r\n  // ÑÐ¸Ð¿ Ð¾ÑÑÐµÑÐ°\r\n  const typeReportOptions = optionsCreatorVEL(selectorsValues.report_types);\r\n  const typeReport = useAppSelector(state => state.reports.activeReport.report_type);\r\n  const typeReportValue = {value: typeReport, label: typeReport};\r\n\r\n  // Ð¿Ð¾ ÑÑÑÐ¾ÐºÐ°Ð¼\r\n  const groupByRowsReportOptions = handleOptionsReportsSelect(selectorsValues.rows_groupings);\r\n  const groupByRows = useAppSelector(state => state.reports.activeReport.rows_group_by);\r\n  let groupByRowsValue: any = {};\r\n  if (groupByRows) {\r\n    groupByRowsValue = handleOtionsReportsSelectObj(groupByRows);\r\n  }\r\n\r\n  // Ð¿Ð¾ ÑÑÐ¾Ð»Ð±ÑÐ°Ð¼\r\n  const groupByColumnsReportOptions = handleOptionsReportsSelect(selectorsValues.cols_groupings);\r\n  const groupByColumns = useAppSelector(state => state.reports.activeReport.cols_group_by);\r\n  let groupByColumnsValue: any = {};\r\n  if (groupByColumns.length != 0) {\r\n    //Ð¿ÐµÑÐ²ÑÐ¹ Ð´ÐµÑÐ¾Ð»ÑÐ½ÑÐ¹\r\n    groupByColumnsValue = handleOtionsReportsSelectObj(groupByColumns[0]);\r\n  }\r\n\r\n  // Ð¿Ð¾ Ð²ÑÐµÐ¼ÐµÐ½Ð¸\r\n  const timeColumnsReportOptions = optionsCreatorVEL(selectorsValues.groupings_by_time);\r\n  const [timeColumnsReportValue, setTimeColumnsReportValue] = useState(timeColumnsReportOptions[0]);\r\n  \r\n  // tagnames\r\n  const tagNames = useAppSelector(state => state.reports.tagNames);\r\n  const tagNamesOptions = optionsCreatorVEL(tagNames);\r\n\r\n  // Ð±ÑÐ°ÑÑ ÐµÐ³Ð¾ Ð²Ð°Ð»ÑÑ Ð¸Ð· rows group by\r\n\r\n  // let tagNamesValue: any = {};\r\n  // if (tagNames) {\r\n  //   tagNamesValue = optionsCreatorVEL(tagNames);\r\n  // }\r\n\r\n\r\n  const [tagNamesValues, setTagNamesValues] = useState(tagNamesOptions[0]);\r\n\r\n  const tagNamesSecOptions = optionsCreatorVEL(tagNames);\r\n  const [tagNamesSecValue, setTagNamesSecValue] = useState(tagNamesSecOptions[0]);\r\n\r\n  //call search items\r\n  const callSearchItems = useAppSelector(state => state.reports.activeReport.call_search_items);\r\n\r\n\r\n  useEffect(() => {\r\n    if (timeColumnsReportOptions.length != 0) setTimeColumnsReportValue(timeColumnsReportOptions[0]);\r\n  }, [selectorsValues])\r\n\r\n  useEffect(() => {\r\n    if (tagNamesOptions.length != 0) setTagNamesValues(tagNamesOptions[0]);\r\n    if (tagNamesSecOptions.length != 0) setTagNamesSecValue(tagNamesSecOptions[0]);\r\n  }, [tagNames])\r\n\r\n  // useEffect(() => {\r\n  //   if (savedReportsOptions.length != 0) setAllOptionsReports(savedReportsOptions[0]);\r\n  // }, [allReports])\r\n\r\n  useEffect(() => {\r\n    if (allCriteriasOptions.length != 0) setAllCriteriasValue(allCriteriasOptions[0]);\r\n  }, [allCriterias])\r\n\r\n  //checkbox diff values in table\r\n  const [checkboxValue, setCheckBoxValue] = useState(false);\r\n  const handleChangeCheck = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setCheckBoxValue(event.target.checked);\r\n  }\r\n\r\n  //checkbox show values in table\r\n  const [checkboxCalls, setCheckboxCalls] = useState(true);\r\n  const handleChangeCheckCalls = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setCheckboxCalls(event.target.checked);\r\n  }\r\n  const [checkboxMinuts, setCheckboxMinuts] = useState(true);\r\n  const handleChangeCheckMinuts = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setCheckboxMinuts(event.target.checked);\r\n  }\r\n  const [checkboxPercent, setCheckboxPercent] = useState(true);\r\n  const handleChangeCheckPercent = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setCheckboxPercent(event.target.checked);\r\n  }\r\n\r\n\r\n\r\n\r\n  const tableRows = useAppSelector(state => state.reports.tableRows);\r\n  const tableColumns = useAppSelector(state => state.reports.tableColumns);\r\n  const rowGroupHeaderTitle = useAppSelector(state => state.reports.callReport.report.row_group_header);\r\n \r\n  //for table\r\n  const columnsTable = function () {\r\n    const columnsArray:any[] = [{\r\n      field: 'idName', \r\n      headerName: `${rowGroupHeaderTitle}`, \r\n      minWidth: 160,\r\n      height: 75,\r\n      flex: 1.5,\r\n      editable: false, \r\n      headerAlign: 'center', \r\n      align: 'center',\r\n      headerClassName: 'light-header--theme',\r\n    }];\r\n\r\n    callReport.report.cols.forEach((item, index) => {\r\n      if (checkboxCalls) {\r\n        columnsArray.push({\r\n          field: `calls_count_${index}`, \r\n          headerName: `ÐÐ²Ð¾Ð½ÐºÐ¸`,\r\n          minWidth: 130,\r\n          height: 75,\r\n          flex: 1,\r\n          editable: false, \r\n          headerAlign: 'center',  \r\n          align: 'center',\r\n          headerClassName: 'light-header--theme',\r\n          cellClassName: 'cell-active',\r\n          renderHeader: () => (\r\n            <div className={classes.tableHeaderTitle}>\r\n              <div className={classes.tableHeaderSubTitle}>{item}</div>\r\n              <div className={classes.tableHeaderSubSubTitle}>{'ÐÐ²Ð¾Ð½ÐºÐ¸'}</div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n\r\n      if (checkboxMinuts) {\r\n        columnsArray.push({\r\n          field: `calls_minutes_${index}`, \r\n          headerName: `ÐÐ¸Ð½ÑÑÑ`, \r\n          minWidth: 130,\r\n          height: 75,\r\n          flex: 1,\r\n          editable: false, \r\n          headerAlign: 'center',  \r\n          align: 'center',\r\n          headerClassName: 'light-header--theme',\r\n          content: 'minuts',\r\n          renderHeader: () => (\r\n            <div className={classes.tableHeaderTitle}>\r\n              <div className={classes.tableHeaderSubTitle}>{item}</div>\r\n              <div className={classes.tableHeaderSubSubTitle}>{'ÐÐ¸Ð½ÑÑÑ'}</div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n\r\n      if (checkboxPercent) {\r\n        columnsArray.push({\r\n          field: `percent_calls_count_from_total_${index}`, \r\n          headerName: `%`, \r\n          minWidth: 130,\r\n          height: 75,\r\n          flex: 1,\r\n          editable: false, \r\n          headerAlign: 'center',  \r\n          align: 'center',\r\n          headerClassName: 'light-header--theme',\r\n          content: 'percent',\r\n          renderHeader: () => (\r\n            <div className={classes.tableHeaderTitle}>\r\n              <div className={classes.tableHeaderSubTitle}>{item}</div>\r\n              <div className={classes.tableHeaderSubSubTitle}>{'%'}</div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n\r\n    })\r\n    if (checkboxCalls) {\r\n      columnsArray.push({\r\n        field: 'row_sum_calls_count', \r\n        headerName: 'Ð¡ÑÐ¼Ð¼Ð° Ð·Ð²Ð¾Ð½ÐºÐ¾Ð²', \r\n        minWidth: 130,\r\n        height: 75,\r\n        flex: 1,\r\n        headerAlign: 'center',  \r\n        align: 'center',\r\n        headerClassName: 'light-header--theme',\r\n        cellClassName: 'cell-active',\r\n        renderHeader: () => (\r\n          <div className={classes.tableHeaderTitle}>\r\n            <div className={classes.tableHeaderSubTitle}>{'ÐÑÐµÐ³Ð¾'}</div>\r\n            <div className={classes.tableHeaderSubSubTitle}>{'Ð¡ÑÐ¼Ð¼Ð° Ð·Ð²Ð¾Ð½ÐºÐ¾Ð²'}</div>\r\n          </div>\r\n        )\r\n      })\r\n    }\r\n    if (checkboxMinuts) {\r\n      columnsArray.push({\r\n        field: 'row_sum_calls_minutes', \r\n        headerName: 'ÐÐ¾Ð»-Ð²Ð¾ Ð¼Ð¸Ð½ÑÑ', \r\n        minWidth: 130,\r\n        height: 75,\r\n        flex: 1,\r\n        headerAlign: 'center',  \r\n        align: 'center',\r\n        headerClassName: 'light-header--theme',\r\n        cellClassName: 'dataCell-hover',\r\n        content: 'minuts',\r\n        renderHeader: () => (\r\n          <div className={classes.tableHeaderTitle}>\r\n            <div className={classes.tableHeaderSubTitle}>{'ÐÑÐµÐ³Ð¾'}</div>\r\n            <div className={classes.tableHeaderSubSubTitle}>{'ÐÐ¾Ð»-Ð²Ð¾ Ð¼Ð¸Ð½ÑÑ'}</div>\r\n          </div>\r\n        )\r\n      })\r\n    }\r\n\r\n    if (checkboxPercent) {\r\n      columnsArray.push({\r\n        field: 'row_percent_count_from_total', \r\n        headerName: '%', \r\n        minWidth: 130,\r\n        height: 75,\r\n        flex: 1, \r\n        headerAlign: 'center',  \r\n        align: 'center',\r\n        headerClassName: 'light-header--theme',\r\n        content: 'percent',\r\n        renderHeader: () => (\r\n          <div className={classes.tableHeaderTitle}>\r\n            <div className={classes.tableHeaderSubTitle}>{'ÐÑÐµÐ³Ð¾'}</div>\r\n            <div className={classes.tableHeaderSubSubTitle}>{'%'}</div>\r\n          </div>\r\n        )\r\n      })\r\n    }\r\n    if (checkboxCalls) {\r\n      columnsArray.push({\r\n        field: 'row_total_processed_calls_count', \r\n        headerName: 'ÐÐ¾Ð»-Ð²Ð¾ Ð²ÑÐµÐ³Ð¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð²', \r\n        minWidth: 130,\r\n        height: 75,\r\n        flex: 1, \r\n        headerAlign: 'center',  \r\n        align: 'center',\r\n        headerClassName: 'light-header--theme',\r\n        content: 'percent',\r\n        renderHeader: () => (\r\n          <div className={classes.tableHeaderTitle}>\r\n            <div className={classes.tableHeaderSubTitle}>{'ÐÑÐµÐ³Ð¾'}</div>\r\n            <div className={classes.tableHeaderSubSubTitle}>{'ÐÐ¾Ð»-Ð²Ð¾ Ð²ÑÐµÐ³Ð¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð²'}</div>\r\n          </div>\r\n        )\r\n      })\r\n    }\r\n\r\n    return columnsArray\r\n  }\r\n  const columns: GridColDef[] = columnsTable();\r\n  const rowsTable = () => {\r\n    const result:any[] = [];\r\n    const columnsArray: any[] = columnsTable();\r\n    let resultIds: any[] = [];\r\n\r\n    callReport.report.rows.forEach((itemRow, indexRow) => {\r\n      //ÑÐ¾Ð·Ð´Ð°ÐµÐ¼ Ð¿ÐµÑÐ²ÑÑ id ÑÑÑÐ¾ÐºÑ\r\n      result.push({});\r\n      result[indexRow].id = indexRow;\r\n      result[indexRow][columnsArray[0].field] = itemRow;\r\n\r\n      //ÑÐ¾Ð·Ð´Ð°ÐµÐ¼ Ð¿ÑÑÑÐ¾Ð¹ Ð¼Ð°ÑÑÐ¸Ð² Ð´Ð»Ñ callIds\r\n      result[indexRow]['callIds'] = {};\r\n\r\n      //ÐºÐ¾Ð»Ð¸ÑÐµÑÑÐ²Ð¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð²/ Ð¼Ð¸Ð½ÑÑ/ %\r\n      callReport.report.cols.forEach((itemCol, indexCol) => {\r\n        // @ts-ignore\r\n        result[indexRow][`calls_count_${indexCol}`] = callReport.report.values[itemRow].cols[itemCol].calls_count;\r\n        // @ts-ignore\r\n        result[indexRow][`calls_minutes_${indexCol}`] = callReport.report.values[itemRow].cols[itemCol].calls_minutes;\r\n        // @ts-ignorer\r\n        result[indexRow][`percent_calls_count_from_total_${indexCol}`] = `${callReport.report.values[itemRow].cols[itemCol].percent_calls_count_from_total}%`;\r\n        \r\n        if (checkboxValue) {\r\n          // @ts-ignore\r\n          const diffValue = callReport.diff_report[itemRow].cols[itemCol].calls_count;\r\n          let diffAdd = '';\r\n          if (diffValue > 0) {\r\n            diffAdd = ` (+${diffValue})`;\r\n          } else {\r\n            diffAdd = ` (${diffValue})`;\r\n          }\r\n          // @ts-ignore\r\n          result[indexRow][`calls_count_${indexCol}`] += diffAdd;\r\n\r\n          // @ts-ignore\r\n          const diffValueMinuts = callReport.diff_report[itemRow].cols[itemCol].calls_minutes;\r\n          let diffAddMinuts = '';\r\n          if (diffValueMinuts > 0)  {\r\n            diffAddMinuts = ` (+${diffValueMinuts})`;\r\n          } else {\r\n            diffAddMinuts = ` (${diffValueMinuts})`;\r\n          }\r\n          // @ts-ignore\r\n          result[indexRow][`calls_minutes_${indexCol}`] += diffAddMinuts;\r\n\r\n          // @ts-ignore\r\n          const diffValuePercent = callReport.diff_report[itemRow].cols[itemCol].percent_calls_count_from_total;\r\n          let diffAddPercent = '';\r\n          if (diffValuePercent > 0)  {\r\n            diffAddPercent = ` (+${diffValuePercent}%)`;\r\n          } else {\r\n            diffAddPercent = ` (${diffValuePercent}%)`;\r\n          }\r\n          // @ts-ignore\r\n          result[indexRow][`percent_calls_count_from_total_${indexCol}`] += diffAddPercent;\r\n        }\r\n        \r\n        // @ts-ignore\r\n        result[indexRow]['callIds'][`calls_count_${indexCol}`] = callReport.report.values[itemRow].cols[itemCol].call_ids;\r\n        //Ð¼Ð°ÑÑÐ¸Ð² ids\r\n        // @ts-ignore\r\n        resultIds.push(...callReport.report.values[itemRow].cols[itemCol].call_ids);\r\n      })\r\n      //Ð¾Ð±ÑÐµÐµ Ð²ÑÐµÐ¼Ñ Ð¿Ð¾ ÑÑÑÐ¾ÐºÐµ\r\n      // @ts-ignore\r\n      result[indexRow]['row_sum_calls_count'] = callReport.report.values[itemRow].row_info.row_sum_calls_count;\r\n      // @ts-ignore\r\n      result[indexRow]['row_sum_calls_minutes'] = callReport.report.values[itemRow].row_info.row_sum_calls_minutes;\r\n      // @ts-ignore\r\n      result[indexRow]['row_percent_count_from_total'] = `${callReport.report.values[itemRow].row_info.row_percent_count_from_total}%`;\r\n      // @ts-ignore\r\n      result[indexRow]['row_total_processed_calls_count'] = callReport.report.values[itemRow].row_info.row_total_processed_calls_count;\r\n       \r\n      if (checkboxValue) {\r\n        // @ts-ignore\r\n        const diffValue = callReport.diff_report[itemRow].row_info.row_sum_calls_count;\r\n        let diffAdd = '';\r\n        if (diffValue > 0) {\r\n          diffAdd = ` (+${diffValue})`;\r\n        } else {\r\n          diffAdd = ` (${diffValue})`;\r\n        }\r\n        // @ts-ignore\r\n        result[indexRow][`row_sum_calls_count`] += diffAdd;\r\n\r\n        // @ts-ignore\r\n        const diffValueMinuts = callReport.diff_report[itemRow].row_info.row_sum_calls_minutes;\r\n        let diffAddMinuts = '';\r\n        if (diffValueMinuts > 0)  {\r\n          diffAddMinuts = ` (+${diffValueMinuts})`;\r\n        } else {\r\n          diffAddMinuts = ` (${diffValueMinuts})`;\r\n        }\r\n        // @ts-ignore\r\n        result[indexRow][`row_sum_calls_minutes`] += diffAddMinuts;\r\n\r\n        // @ts-ignore\r\n        const diffValuePercent = callReport.diff_report[itemRow].row_info.row_percent_count_from_total;\r\n        let diffAddPercent = '';\r\n        if (diffValuePercent > 0)  {\r\n          diffAddPercent = ` (+${diffValuePercent}%)`;\r\n        } else {\r\n          diffAddPercent = ` (${diffValuePercent}%)`;\r\n        }\r\n        // @ts-ignore\r\n        result[indexRow][`row_percent_count_from_total`] += diffAddPercent;\r\n\r\n        // @ts-ignore\r\n        const diffValueCount = callReport.diff_report[itemRow].row_info.row_total_processed_calls_count;\r\n        let diffAddCount = '';\r\n        if (diffValueCount > 0)  {\r\n          diffAddCount = ` (+${diffValueCount}%)`;\r\n        } else {\r\n          diffAddCount = ` (${diffValueCount}%)`;\r\n        }\r\n        // @ts-ignore\r\n        result[indexRow][`row_total_processed_calls_count`] += diffAddCount;\r\n      }\r\n\r\n      //Ð¼Ð°ÑÑÐ¸Ð² ids\r\n      // @ts-ignore\r\n      result[indexRow]['callIds']['row_sum_calls_count'] = resultIds;\r\n      resultIds = [];\r\n    })\r\n    return result;\r\n  }\r\n  const rows: GridRowsProp = rowsTable();\r\n  // console.log(rowsTable())\r\n  \r\n\r\n  useEffect(() => {\r\n    dispatch(reportsSlice.actions.setTableRows(rows));\r\n    dispatch(reportsSlice.actions.setTableColumns(columns));\r\n  },[callReport, checkboxValue, checkboxCalls, checkboxMinuts, checkboxPercent])\r\n\r\n\r\n  const getCallParametres = async (event: any) => {\r\n    await dispatch(getReport(event.value));\r\n    // await dispatch(reportsSlice.actions.setCurrentReport(event.value));\r\n    // await dispatch(reportsSlice.actions.setCallReport);\r\n  }\r\n\r\n  const deleteReportItem = async(event: any) => {\r\n    await dispatch(deleteReport(event.target.value));\r\n  }\r\n\r\n  const [reportNameColumnDefault, setReportNameColumnDefault] = useState('');\r\n\r\n  const formReport = async () => {\r\n    setLoading(true);\r\n    await dispatch(getCallReport());\r\n    setLoading(false);\r\n    switchVisibleParametres();\r\n  }\r\n\r\n  const [validateInputItem, setValidateInputItem] = useState(false);\r\n  // ÑÐ¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ Ð¾ÑÑÐµÑÐ°\r\n  const saveReportAsync = async () => {\r\n    if(reportName === '') setValidateInputItem(true);\r\n    else {\r\n      setValidateInputItem(false);\r\n      await dispatch(setReports());\r\n      //Ð¼Ð¸Ð½Ð¸ Ð¿ÑÐµÐ»Ð¾Ð°Ð´ÐµÑ?\r\n      await dispatch(getAllReports());\r\n    }\r\n  }\r\n\r\n  const getCalls = async (callIds: any[]) => {\r\n    if (callIds.length != 0) {\r\n      dispatch(callsSlice.actions.callsReset());\r\n      await dispatch(getCallsInfoById(callIds));\r\n      setCallSwitch(true);\r\n      setFoundCalls(callIds.length);\r\n    } else setCallSwitch(false);\r\n  }\r\n\r\n  const isAuth = useAppSelector(state => state.auth.isAuth);\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const [op, setOp] = useState<any>([]);\r\n  useEffect(() => {\r\n    setOp(handleMoreSelectClick(allCriterias, activeCriteriasReports));\r\n  }, [allCriterias, activeCriteriasReports, defaultCriterias]);\r\n\r\n\r\n  const [opCriteriasColumn, setOpCriteriasColumn] = useState<any>([]);\r\n  useEffect(() => {\r\n    setOpCriteriasColumn(handleMoreSelectClick(allCriteriasColumn, activeCriteriasColumn));\r\n  }, [allCriteriasColumn, activeCriteriasColumn]);\r\n\r\n\r\n  const handleMoreSelectClick = (allCriteriasArr:  CriteriasType[] | null, activeCriterias:  CriteriasType[] | null) => {\r\n    if (allCriteriasArr) {\r\n      interface keyable {\r\n        [key: string]: any\r\n      } \r\n      let local: Array<keyable> = [];\r\n\r\n      allCriteriasArr.forEach((item, i)=> {\r\n        local.push({value: allCriteriasArr[i], label: allCriteriasArr[i].title});\r\n      })\r\n\r\n      for (let i = 0; i < local.length; i++) {\r\n        //@ts-ignore\r\n        if (activeCriterias.find((item) => item.key === local[i].value.key)) {\r\n          local[i].icon = 'minus';         \r\n        } else {\r\n          local[i].icon = 'plus';  \r\n        }\r\n      }\r\n      return local\r\n    }\r\n  }\r\n\r\n  function onAllCriteriasSelectValueChange(event: any) {\r\n    let index = -1;\r\n    for (let i in activeCriteriasReports) {\r\n      if (event.value.key === activeCriteriasReports[i].key) {\r\n        index = parseInt(i, 10);\r\n        dispatch(searchSlice.actions.removeActiveCriteriaReports(activeCriteriasReports[index]));\r\n        break\r\n      }\r\n    }\r\n    if (index < 0) {\r\n      dispatch(searchSlice.actions.setActiveCriteriasReports([...activeCriteriasReports, {...event.value, values: []}]));\r\n    }    \r\n  }\r\n\r\n  function onAllCriteriasColumnSelectValueChange(event: any) {\r\n    let index = -1;\r\n    for (let i in activeCriteriasColumn) {\r\n      if (event.value.key === activeCriteriasColumn[i].key) {\r\n        index = parseInt(i, 10);\r\n        dispatch(searchSlice.actions.removeActiveCriteriaColumnReports(activeCriteriasColumn[index]));\r\n        break\r\n      }\r\n    }\r\n    if (index < 0) {\r\n      dispatch(searchSlice.actions.setActiveCriteriaReportsColumn([...activeCriteriasColumn, {...event.value, values: []}]));\r\n    }    \r\n  }\r\n\r\n  function onAllCriteriasColumnSelectValueChangeTEST(event: any, arrayIndex: number, fieldIndex: number, activeCriterias: CriteriasType[], allCriteriasArr: CriteriasType[], allOptions: any) {\r\n    let index = -1;\r\n    console.log(activeCriterias);\r\n    for (let i in activeCriterias) {\r\n      if (event.value.key === activeCriterias[i].key) {\r\n        index = parseInt(i, 10);\r\n        dispatch(reportsSlice.actions.removeActiveCriteriaColumn({criteria: activeCriterias[index], arrayIndex: arrayIndex, fieldIndex: fieldIndex}));\r\n        debugger\r\n        break\r\n      }\r\n    }\r\n    if (index < 0) {\r\n      dispatch(reportsSlice.actions.setActiveCriteriaColumn({criteria: [...activeCriterias, {...event.value, values: []}], arrayIndex: arrayIndex, fieldIndex: fieldIndex }));\r\n    }    \r\n\r\n    const local2 = handleMoreSelectClick(allCriteriasArr, [...activeCriterias, {...event.value, values: []}]);\r\n    allOptions = local2;\r\n    dispatch(reportsSlice.actions.setOptionsCriterias({arrayIndex: arrayIndex, fieldIndex: fieldIndex, criteria: allOptions}));\r\n    debugger;\r\n  }\r\n\r\n  function switchVisibleParametres() {\r\n    setVisibleParametres(!visibleParametres);\r\n  }\r\n\r\n  //Ð²ÑÑÐ¾ÑÐ° ÑÐ°Ð±Ð»Ð¸ÑÑ\r\n  const [heightTable, setHeightTable] = useState('1500px');\r\n\r\n  const gridWrapperRef = React.useRef<HTMLDivElement>(null);\r\n  useEffect(() => {\r\n    const gridDiv = gridWrapperRef.current;\r\n    if (gridDiv != undefined || gridDiv != null && columns.length > 0 || rows.length > 0){\r\n      if (gridDiv) {\r\n        const gridEl: HTMLDivElement = gridDiv.querySelector('.MuiDataGrid-root')!;\r\n        if (gridEl) {\r\n          setHeightTable(`${gridEl.clientHeight}px`);\r\n        }\r\n      }\r\n    }\r\n  }, [columns, rows]);\r\n\r\n  return( \r\n    <div>              \r\n      <Ð¡ontrolBlock switchEntity={'reports'}/>\r\n      <div>\r\n        <div className={classes.reportButtonsGroup}>\r\n          <div className={classes.reportButtonsGroupLeft}>\r\n            <LoadingButton\r\n              className={visibleParametres ? classes.reportOptionsButtonActive : classes.reportOptionsButton}\r\n              color=\"primary\"\r\n              variant=\"text\"\r\n              onClick={switchVisibleParametres}\r\n            >\r\n              ÐÐ°ÑÐ°Ð¼ÐµÑÑÑ Ð¾ÑÑÐµÑÐ°\r\n            </LoadingButton>\r\n            <LoadingButton\r\n                className={classes.getReportsButton}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={formReport}\r\n            >\r\n              Ð¡ÑÐ¾ÑÐ¼Ð¸ÑÐ¾Ð²Ð°ÑÑ Ð¾ÑÑÐµÑ\r\n            </LoadingButton>\r\n          </div>\r\n          <div style={{display: 'flex', alignItems: 'center'}}>\r\n            <Typography style={{marginRight: '20px', whiteSpace: 'nowrap'}}>Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð½ÑÐµ Ð¾ÑÑÐµÑÑ:</Typography>\r\n            <div style={{display: 'flex'}}>\r\n              <ContainedSelect\r\n                height={'38px'}\r\n                width={'265px'}\r\n                marginRight={'0px'}\r\n                justify={'center'}\r\n                onSelectChange={(event) =>  {\r\n                  getCallParametres(event);\r\n                  dispatch(reportsSlice.actions.setCurrentSavedReport(event));\r\n                }}\r\n                options={savedReportsOptions}\r\n                value={currentSavedReport}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {visibleParametres ?\r\n        <BlockBox padding=\"24px\">\r\n          {/* ÑÐ¸Ð»ÑÑÑÑ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð² */}\r\n          <div>\r\n            <div style={{border: '1px solid #E3E8EF', borderRadius: '13px', padding: ' 16px', marginBottom: '16px'}}>\r\n              <div style={{height: '40px', display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\r\n                <div className={classes.searchTitleLeft}>\r\n                  <Typography className={classes.searchTitleLeftText} variant=\"h6\">\r\n                    Ð¤Ð¸Ð»ÑÑÑÑ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð²\r\n                  </Typography>\r\n                  <div style={{display: 'flex', alignItems: 'center'}}>\r\n                    <div style={{margin: '0 5px 0 20px', whiteSpace: 'nowrap'}}>\r\n                      <TextSelect\r\n                        name={'moreSelect'}\r\n                        value={null}\r\n                        handleValueChange={onAllCriteriasSelectValueChange}\r\n                        options={op}\r\n                        iconPosition={'left'}\r\n                        customControl={\r\n                          <div style={{display: 'flex', alignItems: 'center'}}>\r\n                            <Typography style={{color: '#722ED1', fontWeight: '700', marginLeft: '5px'}}>{translate('searchMore', language)}</Typography>\r\n                          </div>\r\n                        }\r\n                        ifArrowColor={'#722ED1'}\r\n                        notClose={true}\r\n                        menuPosition={'right'}\r\n                        height={\"400px\"}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={{display: 'flex', alignItems: 'flex-start', marginTop: '16px', width: '100%'}}>\r\n                <CriteriasList\r\n                  allCriterias={allCriterias}\r\n                  activeCriterias={activeCriteriasReports}\r\n                  block={\"reports\"}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Ð·Ð²Ð¾Ð½ÐºÐ¸ */}\r\n          <div style={{border: '1px solid #E3E8EF', borderRadius: '13px', padding: ' 16px', marginBottom: '16px'}}>\r\n            <div className={classes.searchTitle}>\r\n              <div className={classes.searchTitleLeft}>\r\n                <Typography className={classes.searchTitleLeftText} variant=\"h6\">\r\n                  ÐÐ°ÑÐ°Ð¼ÐµÑÑÑ Ð¾ÑÑÐµÑÐ°\r\n                </Typography>\r\n              </div>\r\n            </div>\r\n            <div style={{display: 'flex', alignItems: 'flex-start', minHeight: '50px'}}>\r\n              <div style={{width: '100%'}}>\r\n                {/* Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ */}\r\n                <div style={{display: 'flex', alignItems: 'center', marginRight: '30px',  marginBottom: '16px', width: '100%'}}>\r\n                  <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>\r\n                    <Typography style={{whiteSpace: 'nowrap', marginRight: '10px', minWidth: '167px', color: '#2F3747'}}>ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÑÐµÑÐ°</Typography>\r\n                    <div style={{width: '265px'}} className={validateInputItem ? classes.errorInput : classes.reportName}>\r\n                      <span>\r\n                        <Typography style={{color: '#F5222D', fontSize: '13px'}}>Ð£ÐºÐ°Ð¶Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÑÐµÑÐ°</Typography>\r\n                      </span>\r\n                      <Input\r\n                        name={\"report_name\"}\r\n                        type={\"text\"}\r\n                        bcColor={\"#FFFFFF\"}\r\n                        height={'38px'}\r\n                        border={'1px solid #E3E8EF'}\r\n                        label={\"\"}\r\n                        value={reportName}\r\n                        handleChange={(event: any) =>  {\r\n                          dispatch(reportsSlice.actions.setNameReport(event.target.value))\r\n                        }}\r\n                      />  \r\n                    </div>\r\n                  </div>\r\n                </div>  \r\n\r\n                {/* ÑÐ¸Ð¿ Ð¾ÑÑÐµÑÐ° */}\r\n                <div style={{display: 'flex', alignItems: 'center', marginRight: '30px',  marginBottom: '16px', width: '100%'}}>\r\n                  <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>\r\n                    <Typography style={{whiteSpace: 'nowrap', marginRight: '10px', minWidth: '167px', color: '#2F3747'}}>Ð¢Ð¸Ð¿ Ð¾ÑÑÐµÑÐ° Ð¿Ð¾</Typography>\r\n                    <ContainedSelect\r\n                      height={'38px'}\r\n                      width={'265px'}\r\n                      justify={'center'}\r\n                      onSelectChange={\r\n                        (event) => {\r\n                          dispatch(reportsSlice.actions.setTypeReport(event.value));\r\n                      }}\r\n                      options={typeReportOptions}\r\n                      // value={typeReportValue}\r\n                      value={typeReportValue}\r\n                    />\r\n                  </div>  \r\n                </div> \r\n\r\n                {/* Ð¿Ð¾ ÑÑÑÐ¾ÐºÐ°Ð¼ */}\r\n                <div style={{display: 'flex', alignItems: 'center', marginRight: '30px',  marginBottom: '16px', width: '100%'}}>\r\n                  <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>\r\n                    <Typography style={{whiteSpace: 'nowrap', marginRight: '10px', minWidth: '167px', color: '#2F3747'}}>ÐÑÑÐ¿Ð¿Ð¸ÑÐ¾Ð²ÐºÐ° Ð¿Ð¾ ÑÑÑÐ¾ÐºÐ°Ð¼</Typography>\r\n                    <ContainedSelect\r\n                      height={'38px'}\r\n                      width={'265px'}\r\n                      justify={'flex-end'}\r\n                      onSelectChange={(event) => {\r\n                        if(event.type === 'select-tag') { \r\n                          dispatch(reportsSlice.actions.setActiveRowsGroupBy({group_by: event.value, value: tagNamesValues.value}));\r\n                        } else if(event.type === 'select') { \r\n                          dispatch(reportsSlice.actions.setActiveRowsGroupBy({group_by: event.value, value: timeColumnsReportValue.value}));\r\n                        }\r\n                        else {\r\n                          dispatch(reportsSlice.actions.setActiveRowsGroupBy({group_by: event.value, value: null}));\r\n                        }\r\n                      }}\r\n                      options={groupByRowsReportOptions}\r\n                      value={groupByRowsValue}\r\n                    />\r\n                  </div>\r\n                    {/* Ð¿Ð¾ ÑÐµÐ³Ñ */}\r\n                  {groupByRowsValue && groupByRowsValue.type === 'select-tag' ? \r\n                    <div style={{width: '265px'}}>\r\n                      <ContainedSelect\r\n                        height={'38px'}\r\n                        width={'265px'}\r\n                        justify={'flex-end'}\r\n                        onSelectChange={(event) => {\r\n                          setTagNamesValues(event)\r\n                          dispatch(reportsSlice.actions.setActiveRowsGroupBy({group_by: groupByRowsValue.value, value: event.value}))\r\n                        }}\r\n                        options={tagNamesOptions}\r\n                        value={tagNamesValues}\r\n                      />\r\n                    </div>\r\n                  : <></>\r\n                  }\r\n\r\n                  {/* Ð¿Ð¾ Ð²ÑÐµÐ¼ÐµÐ½Ð¸ */}\r\n                  {groupByRowsValue && groupByRowsValue.type === 'select' ? \r\n                    <div style={{width: '265px'}}>\r\n                      <ContainedSelect\r\n                        height={'38px'}\r\n                        width={'265px'}\r\n                        justify={'flex-end'}\r\n                        onSelectChange={(event) => {\r\n                          setTimeColumnsReportValue(event);\r\n                          dispatch(reportsSlice.actions.setActiveRowsGroupBy({group_by: groupByRowsValue.value, value: event.value}));\r\n                          }\r\n                        }\r\n                        options={timeColumnsReportOptions}\r\n                        value={timeColumnsReportValue}\r\n                        // value={timeColumnTest}\r\n                      />\r\n                    </div>\r\n                  : <></>\r\n                  }\r\n                </div>\r\n\r\n                {/* Ð¿Ð¾ ÑÑÐ¾Ð»Ð±ÑÐ°Ð¼ */}\r\n                <div style={{display: 'flex', flexWrap: 'wrap', alignItems: 'center', marginRight: '30px',  marginBottom: '16px', width: '100%'}}>\r\n                  <div style={{width: '100%', marginBottom: '16px', display: 'flex', alignItems: 'center', flexWrap: 'wrap'}}>\r\n\r\n                    {/* ÑÐ¸Ð¿Ð¾ Ð´ÐµÑÐ¾Ð»ÑÐ½ÑÐ¹ */}\r\n                    <div style={{display: 'inline-flex', color: '#2F3747'}}>\r\n                      <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>\r\n                        <Typography style={{whiteSpace: 'nowrap', marginRight: '10px', minWidth: '167px', color: '#2F3747'}}>ÐÑÑÐ¿Ð¿Ð¸ÑÐ¾Ð²ÐºÐ° Ð¿Ð¾ ÑÑÐ¾Ð»Ð±ÑÐ°Ð¼</Typography>\r\n                        <ContainedSelect\r\n                          height={'38px'}\r\n                          width={'265px'}\r\n                          justify={'flex-end'}\r\n                          onSelectChange={(event) => {\r\n                            if(event.type === 'select-tag') {\r\n                              dispatch(reportsSlice.actions.setDefaultColsTagGroupBy({group_by: tagNamesSecValue}))\r\n                            } \r\n                            else if (event.type === 'title') {\r\n                            dispatch(reportsSlice.actions.setDefaultColsTitleGroupBy({col_name: reportNameColumnDefault}))\r\n                            }\r\n                            else {\r\n                              dispatch(reportsSlice.actions.setDefaultColsGroupBy({group_by: event}))\r\n                            }\r\n                          }}\r\n                          options={groupByColumnsReportOptions}\r\n                          // value={groupByColumnsReportValue}\r\n                          value={groupByColumnsValue}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    { groupByColumnsValue && groupByColumnsValue.type === 'title' ? \r\n                    <>\r\n                    <div style={{display: 'inline-flex'}}>\r\n                      <div style={{ marginRight: '20px',minWidth: '265px', width: '265px'}}>\r\n                        <Input\r\n                          name={\"\"}\r\n                          type={\"text\"}\r\n                          height={'38px'}\r\n                          bcColor={\"#FFFFFF\"}\r\n                          border={'1px solid #E3E8EF'}\r\n                          label={\"Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÑÑÐ¾Ð»Ð±ÑÐ°\"}\r\n                          value={reportNameColumnDefault}\r\n                          handleChange={(event: any) => {\r\n                            setReportNameColumnDefault(event.target.value);\r\n                            dispatch(reportsSlice.actions.setDefaultColsTitleGroupBy({col_name: event.target.value }));\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>  \r\n\r\n                    <div style={{display: 'inline-flex', marginRight: '20px', whiteSpace: 'nowrap', width: '200px'}}>\r\n                      <TextSelect\r\n                        name={'moreSelect'}\r\n                        value={null}\r\n                        handleValueChange={onAllCriteriasColumnSelectValueChange}\r\n                        options={opCriteriasColumn}\r\n                        iconPosition={'left'}\r\n                        customControl={\r\n                          <div style={{display: 'flex', alignItems: 'center', width: '100%', justifyContent: 'flex-end'}}>\r\n                            <Typography style={{color: '#722ED1', fontWeight: '700', marginLeft: '5px'}}>{translate('searchMore', language)}</Typography>\r\n                          </div>\r\n                        }\r\n                        ifArrowColor={'#722ED1'}\r\n                        notClose={true}\r\n                        menuPosition={'right'}\r\n                        height={\"400px\"}\r\n                      />\r\n                    </div>   \r\n\r\n                      <div style={{display: 'flex', alignItems: 'center', width: '100%', paddingLeft: '177px', marginTop: '16px'}}>\r\n                        {activeCriteriasColumn.length > 0 ? \r\n                          <div style={{display: 'flex', alignItems: 'center', width: '100%', border: '1px solid #E3E8EF', borderRadius: '13px', padding: ' 16px', marginBottom: '16px'}}>\r\n                          <CriteriasList\r\n                            allCriterias={allCriteriasColumn}\r\n                            activeCriterias={activeCriteriasColumn}\r\n                            block={\"reports-column\"}\r\n                          />\r\n                        </div>\r\n                        :<></>\r\n                        }\r\n                      </div>\r\n                    </>\r\n                    : <></>\r\n                    } \r\n                    {groupByColumnsValue && groupByColumnsValue.type === 'select-tag' ? \r\n                    <div style={{display: 'inline-flex', width: '265px'}}>\r\n                      <ContainedSelect\r\n                        height={'38px'}\r\n                        width={'265px'}\r\n                        justify={'flex-end'}\r\n                        onSelectChange={(event) => {\r\n                          setTagNamesSecValue(event)\r\n                          dispatch(reportsSlice.actions.setDefaultColsTagGroupBy({group_by: event}))\r\n                        }}\r\n                        options={tagNamesSecOptions}\r\n                        value={tagNamesSecValue}\r\n                      />\r\n                    </div>\r\n                    :\r\n                    <></>\r\n                    }\r\n                  </div>\r\n\r\n\r\n                  <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                    <div style={{minWidth: '155px'}}>\r\n                      <Plus \r\n                        handleClick={() => {\r\n                          dispatch(reportsSlice.actions.setActiveParameters([ {\r\n                            // select: {options: groupByColumnsReportOptions, value: groupByColumnsReportValue},\r\n                            select: {options: groupByColumnsReportOptions, value: groupByColumnsValue},\r\n                            tagsVal: {options: tagNamesSecOptions, value: tagNamesSecValue},\r\n                            op: {options:op, value: op[0]},\r\n                            callFilters: {options: op, values: allCriteriasColumn, activeValues: []}\r\n                          }]))\r\n                        }}\r\n                      />\r\n                    </div>\r\n\r\n                  {/* Ð½Ð¾Ð²ÑÐµ ÑÐ¸Ð»ÑÑÑÑ */}\r\n                    <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n                      {activeParameters.map((curActiveParameter) => {\r\n                        const arrayIndex = activeParameters.indexOf(curActiveParameter);\r\n                          return(\r\n                            <div  style={{ width: '100%', display: 'flex', justifyContent:' flex-start', marginBottom: '16px', flexWrap: 'wrap'}}>\r\n                            {curActiveParameter.map((item) => {\r\n                              const fieldIndex = curActiveParameter.indexOf(item);\r\n                              return (\r\n                                <div style={{display: 'flex', alignItems: 'center', flexWrap: 'wrap'}}>\r\n                                  <div style={{height: '16px', minWidth: '18px', marginRight: '5px'}}>\r\n                                    <TrashSvg\r\n                                      style={{width: '100%', height: 'auto'}}\r\n                                      onClick={() => {\r\n                                        dispatch(reportsSlice.actions.removeParameterField({\r\n                                          arrayIndex: arrayIndex,\r\n                                          fieldIndex: fieldIndex,\r\n                                        }));\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n\r\n                                  <div style={{display: 'flex'}}>\r\n                                    <ContainedSelect\r\n                                      height={'38px'}\r\n                                      width={'265px'}\r\n                                      justify={'center'}\r\n                                      onSelectChange={ (event: any) => {\r\n                                        dispatch(reportsSlice.actions.setParameterSelectFieldValue({\r\n                                          arrayIndex: arrayIndex,\r\n                                          fieldIndex: fieldIndex,\r\n                                          value: event\r\n                                        }))\r\n                                      }}\r\n                                      options={item.select.options}\r\n                                      value={item.select.value}\r\n                                    />\r\n                                  </div>\r\n                                  { item.select.value &&  item.select.value.type === 'title' ? \r\n                                    <>\r\n                                      <div style={{display: 'inline-flex'}}>\r\n                                        <div style={{ marginRight: '20px', minWidth: '265px', width: '265px'}}>\r\n                                          <Input\r\n                                            name={\"\"}\r\n                                            type={\"text\"}\r\n                                            height={'38px'}\r\n                                            bcColor={\"#FFFFFF\"}\r\n                                            border={'1px solid #E3E8EF'}\r\n                                            label={\"Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÑÑÐ¾Ð»Ð±ÑÐ°\"}\r\n                                            value={item.nameColumn.value}\r\n                                            handleChange={(event: any) => {\r\n                                              dispatch(reportsSlice.actions.setNameColumnFieldValue({\r\n                                                arrayIndex: arrayIndex,\r\n                                                fieldIndex: fieldIndex,\r\n                                                value: event.target.value\r\n                                              }))\r\n                                            }}\r\n                                          />\r\n                                        </div>\r\n                                      </div>  \r\n\r\n                                      <div style={{display: 'inline-flex', marginRight: '20px', whiteSpace: 'nowrap', width: '200px'}}>\r\n                                        <TextSelect\r\n                                          name={'moreSelect'}\r\n                                          value={null}\r\n                                          handleValueChange={(event: any) => {\r\n                                            onAllCriteriasColumnSelectValueChangeTEST(\r\n                                            event,\r\n                                            arrayIndex,\r\n                                            fieldIndex,\r\n                                            item.callFilters.activeValues,\r\n                                            item.callFilters.values,\r\n                                            item.callFilters.options\r\n                                          )}}\r\n                                          options={item.callFilters.options}\r\n                                          iconPosition={'left'}\r\n                                          customControl={\r\n                                            <div style={{display: 'flex', alignItems: 'center', width: '100%', justifyContent: 'flex-end'}}>\r\n                                              <Typography style={{color: '#722ED1', fontWeight: '700'}}>{translate('searchMore', language)}</Typography>\r\n                                            </div>\r\n                                          }\r\n                                          ifArrowColor={'#722ED1'}\r\n                                          notClose={true}\r\n                                          menuPosition={'right'}\r\n                                          height={\"400px\"}\r\n                                        />\r\n                                      </div>\r\n\r\n                                        <div style={{display: 'flex', alignItems: 'center', width: '100%', paddingLeft: '24px', marginTop: '16px'}}>\r\n                                          {item.callFilters.activeValues.length > 0 ? \r\n                                            <div style={{display: 'flex', alignItems: 'center', width: '100%', border: '1px solid #E3E8EF', borderRadius: '13px', padding: ' 16px', marginBottom: '16px'}}>\r\n                                            <CriteriasList\r\n                                              allCriterias={item.callFilters.values}\r\n                                              activeCriterias={item.callFilters.activeValues}\r\n                                              block={\"reports-column\"}\r\n                                              index={{arrayIndex: arrayIndex, fieldIndex: fieldIndex}}\r\n                                            />\r\n                                          </div>\r\n                                          :<></>\r\n                                          }\r\n                                        </div>\r\n                                    </>\r\n                                    : <></>\r\n                                    }  \r\n\r\n                                    {item.select.value && item.select.value.type === 'select-tag' ? \r\n                                    <div style={{display: 'inline-flex', width: '265px'}}>\r\n                                      <ContainedSelect\r\n                                        height={'38px'}\r\n                                        width={'265px'}\r\n                                        justify={'flex-end'}\r\n                                        onSelectChange={(event) => {\r\n                                          dispatch(reportsSlice.actions.setParameterTagstFieldValue({\r\n                                            arrayIndex: arrayIndex,\r\n                                            fieldIndex: fieldIndex,\r\n                                            value: event\r\n                                          }))\r\n                                          }\r\n                                        }\r\n                                        options={item.tagsVal.options}\r\n                                        value={item.tagsVal.value}\r\n                                      />\r\n                                    </div>\r\n                                    :\r\n                                    <></>\r\n                                    }\r\n                                </div>\r\n                              )\r\n                            })}\r\n                            </div>\r\n                          )\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> \r\n          </div>\r\n\r\n          <div style={{display: 'flex', justifyContent: 'flex-end'}}>\r\n            <LoadingButton\r\n              className={classes.getReportsButton}\r\n              color=\"primary\"\r\n              variant=\"outlined\"\r\n              onClick={saveReportAsync}\r\n            >\r\n              Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑ Ð¾ÑÑÐµÑ\r\n            </LoadingButton>\r\n          </div>\r\n        </BlockBox>\r\n        : null      \r\n      }      \r\n\r\n\r\n\r\n      {callReport.report_parameters_hash  ?\r\n        <>\r\n          {totalCalls === 0 ?\r\n            <div className={classes.notFoundCalls}>ÐÐµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð² Ð² Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ð¼ Ð¿ÐµÑÐ¸Ð¾Ð´Ðµ</div>\r\n          : \r\n            <div style={{marginBottom: '60px'}}>\r\n              <div className={classes.reportItemInfo}>   \r\n                <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '15px'}}>\r\n                  <Typography className={classes.reportTitle} variant=\"h6\">\r\n                    {reportName}\r\n                  </Typography>\r\n\r\n                  <LoadingButton\r\n                    className={classes.reportOptionsButton}\r\n                    color=\"primary\"\r\n                    variant=\"text\"\r\n                    loadingPosition=\"start\"\r\n                    startIcon={<ExportIcon/>}\r\n                  >\r\n                    Ð­ÐºÑÐ¿Ð¾ÑÑ Ð² Excel\r\n                  </LoadingButton>                        \r\n                </div>           \r\n\r\n                <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\r\n                  <div className={classes.reportFindNumber}>\r\n                    ÐÐ¾Ð´ ÑÑÐ»Ð¾Ð²Ð¸Ñ ÑÐ¸Ð»ÑÑÑÐ° Ð¿Ð¾Ð¿Ð°Ð»Ð¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð²: &nbsp; \r\n                    {totalCalls}\r\n                  </div>\r\n                  <div style={{display: 'flex', alignItems: 'center'}}> \r\n                    {/* <Typography style={{whiteSpace: 'nowrap', marginRight: '10px', color: '#2F3747'}}>ÐÐ°ÑÐ°Ð¼ÐµÑÑÑ Ð¾ÑÐ¾Ð±ÑÐ°Ð¶ÐµÐ½Ð¸Ñ</Typography> */}\r\n                    <FormGroup className={classes.checkboxDiff}>\r\n                      <FormControlLabel \r\n                        control={\r\n                          <Checkbox \r\n                            onChange={handleChangeCheck}\r\n                            checked={checkboxValue}\r\n                          />}  \r\n                        label=\"ÐÐ¾ÐºÐ°Ð·Ð°ÑÑ ÑÐ°Ð·Ð½Ð¸ÑÑ Ñ Ð¿ÑÐ¾ÑÐ»ÑÐ¼ Ð¿ÐµÑÐ¸Ð¾Ð´Ð¾Ð¼\" \r\n                        />\r\n                    </FormGroup>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n\r\n                    <FormGroup className={classes.checkboxDiffValues}>\r\n                      <FormControlLabel \r\n                        className={classes.checkboxDiffLabel}\r\n                        control={\r\n                          <Checkbox \r\n                            onChange={handleChangeCheckCalls}\r\n                            checked={checkboxCalls}\r\n                          />}  \r\n                        label=\"ÐÐ²Ð¾Ð½ÐºÐ¸\"\r\n                      />\r\n                      <FormControlLabel \r\n                        className={classes.checkboxDiffLabel}\r\n                        control={\r\n                          <Checkbox \r\n                            onChange={handleChangeCheckMinuts}\r\n                            checked={checkboxMinuts}\r\n                          />}  \r\n                        label=\"ÐÐ¸Ð½ÑÑÑ\" \r\n                      />\r\n                      <FormControlLabel \r\n                        control={\r\n                          <Checkbox \r\n                            onChange={handleChangeCheckPercent}\r\n                            checked={checkboxPercent}\r\n                          />}  \r\n                        label=\"ÐÑÐ¾ÑÐµÐ½ÑÑ\" \r\n                      />\r\n                    </FormGroup>\r\n                  </div>\r\n\r\n              </div>\r\n              <div style={{ width: 'auto', marginTop: '20px', marginBottom: '30px', height: '100%'}}>\r\n                <div style={{display: 'flex', alignItems: 'center'}}>                  \r\n                </div>\r\n                <div style={{ display: 'flex', height: '100%'}}>\r\n                  <div style={{ flexGrow: 1,  background: '#fff', height: heightTable }}>\r\n                      <Box\r\n                        sx={{\r\n                          height: 60,\r\n                          border: 'none',\r\n                          borderRadius: '10px',\r\n                          backgroundColor: '#fff',\r\n                          '& .light-header--theme .MuiDataGrid-columnHeaderTitle': {                    \r\n                            color: '#738094',\r\n                            fontWeight: 600,\r\n                            padding: '0 5px',\r\n                            lineHeight: 1.3,\r\n                          },\r\n                          '& .MuiDataGrid-columnHeader': {\r\n                            padding: '0 5px !important'\r\n                          },\r\n                          '& .MuiDataGrid-root': {\r\n                            backgroundColor: '#fff',\r\n                          },\r\n                          '& .MuiDataGrid-cell': {\r\n                            color: '#2F3747',\r\n                            maHheight: 'none !important',\r\n                            overflow: 'auto',\r\n                            whiteSpace: 'initial !important',\r\n                            lineHeight: '16px !important',\r\n                            display: 'flex !important',\r\n                            alignItems: 'center',\r\n                            paddingTop: '5px !important',\r\n                            paddingBottom: '5px !important',\r\n                            textAlign: 'center',\r\n                            fontSize: '12px !important',\r\n                          },\r\n                          '.MuiDataGrid-columnSeparator': {\r\n                            display: 'none',\r\n                          },\r\n                          '&.MuiDataGrid-root': {\r\n                            border: 'none',\r\n                          },\r\n                          '& .cell-active': {\r\n                            cursor: 'pointer',\r\n                            textDecoration: 'underline',\r\n                            color: '#531DAB',\r\n                            fontWeight: '600',\r\n                          },\r\n                          '& .MuiDataGrid-columnHeader:not(.MuiDataGrid-columnHeader--sorted) .MuiDataGrid-sortIcon':{\r\n                            opacity: '0.5 !important'\r\n\r\n                          },\r\n                          // ÐºÐ¾ÑÑÑÐ»Ñ Ð´Ð»Ñ ÑÐºÑÑÑÐ¸Ñ Ð¿Ð°Ð³Ð¸Ð½Ð°ÑÐ¸Ð¸\r\n                          '& .MuiDataGrid-footerContainer': {\r\n                            display: 'none !important'\r\n                          },\r\n\r\n                          \"& .MuiDataGrid-root .MuiDataGrid-columnHeader .MuiDataGrid-iconButtonContainer\": {\r\n                            visibility: \"visible\",\r\n                            width: 'auto',\r\n                            alignSelf: 'flex-end',\r\n                            marginBottom: '-3px'\r\n                          },\r\n                          '& .MuiDataGrid-columnHeader:nth-of-type(3n + 1) .MuiDataGrid-columnSeparator svg' :{\r\n                            // fontSize: '2rem !important',\r\n                            color: 'rgba(115, 128, 148, 0.7) !important'\r\n                          },\r\n                          \"& .MuiDataGrid-root .MuiDataGrid-columnHeader:not(.MuiDataGrid-columnHeader--sorted) .MuiDataGrid-sortIcon\": {\r\n                            opacity: 0.5\r\n                          },\r\n                          '& .MuiDataGrid-iconButtonContainer': {\r\n                            '& button': {\r\n                              padding: '1px',\r\n                              '& svg': {\r\n                                fontSize: '1.1rem',\r\n                                padding: '1px'\r\n                              }\r\n                            }\r\n                          },\r\n                          '& .MuiDataGrid-root .MuiDataGrid-columnHeader:focus, &  .MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, &  .MuiDataGrid-root .MuiDataGrid-cell:focus-within': {\r\n                            outline: 'none !important',\r\n                          },\r\n                          '& .MuiDataGrid-viewport, & .MuiDataGrid-row, & .MuiDataGrid-renderingZone': {\r\n                            maxHeight: 'none !important',\r\n                          },\r\n                        }}\r\n                      >\r\n                        <div ref={gridWrapperRef} style={{height: heightTable}}>\r\n                        <DataGrid \r\n                          autoHeight\r\n                          pagination\r\n                          rows={tableRows}\r\n                          columns={tableColumns}\r\n                          pageSize={rows.length}\r\n                          rowsPerPageOptions={[rows.length]}\r\n                          loading={isLoading}\r\n                          disableColumnMenu={true}\r\n                          // disableSelectionOnClick\r\n                          onCellClick={(params, event: MuiEvent<React.MouseEvent>) => {\r\n                            if (params.row.callIds[params.field] != undefined) getCalls(params.row.callIds[params.field])\r\n                          }}\r\n                          localeText={{\r\n                            toolbarColumns: \"ÐÐ¾ÐºÐ°Ð·Ð°ÑÑ/ÑÐºÑÑÑÑ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸\",\r\n                          }}\r\n                        />\r\n                        </div>\r\n                      </Box>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                {calls.length != 0 && callsSwitch ? \r\n                  <CallsHeader\r\n                    found={foundCalls}\r\n                    switchTitleFound={true}\r\n                  />\r\n                  : <></>   \r\n                }\r\n                {calls.length != 0 && callsSwitch ? \r\n                  calls.map((callsArrays: CallType[]) => {\r\n                    const callsArrayIndex = calls.indexOf(callsArrays)\r\n                    return (\r\n                      <div>\r\n                        {callsArrays.map((call: CallType) => {\r\n                          return (\r\n                            <CallStubMiddleware\r\n                              callInfo={call.info} callAudio={call.audio} callStt={call.stt}\r\n                              bundleIndex={callsArrayIndex} expanded={expanded === call.info?.id}\r\n                              handleExpandedChange={handleExpandedChange}\r\n                            />\r\n                          )\r\n                        })}\r\n                      </div>\r\n                    )\r\n                  })   \r\n                  : <></>                         \r\n                }\r\n              </div>\r\n            </div>\r\n          }\r\n        </>\r\n      :\r\n      <div style={{color: '#738094', opacity: '0.6', fontWeight: '500', display: 'flex', alignItems: 'center', justifyContent: 'center', height: '400px'}}>\r\n        <div style={{maxWidth: '300px', textAlign:'center'}}>ÐÐ»Ñ Ð¿Ð¾ÑÑÑÐ¾ÐµÐ½Ð¸Ñ Ð¾ÑÑÐµÑÐ° <br/> Ð²ÑÐ±ÐµÑÐ¸ÑÐµ Ð½ÐµÐ¾Ð±ÑÐ¾Ð´Ð¸Ð¼ÑÐµ Ð¿Ð°ÑÐ°Ð¼ÐµÑÑÑ <br/>Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ÑÐµ ÐºÐ½Ð¾Ð¿ÐºÑ <br/> \"Ð¡ÑÐ¾ÑÐ¼Ð¸ÑÐ¾Ð²Ð°ÑÑ Ð¾ÑÑÐµÑ\"</div>\r\n      </div>\r\n      }\r\n    </div>\r\n  )\r\n})\r\nexport default Reports;","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\n\r\n\r\ntype InitialStateType = {\r\n  textError: string,\r\n  counterError: number,\r\n  showError: boolean\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n  textError: \"ÐÐµÐ¿ÑÐµÐ´Ð²Ð¸Ð´ÐµÐ½Ð½Ð°Ñ Ð¾ÑÐ¸Ð±ÐºÐ°\",\r\n  counterError: 0,\r\n  showError: false\r\n};\r\n\r\nexport const errorSlice = createSlice({\r\n  name: 'error',\r\n  initialState,\r\n  reducers: {\r\n    setTextError(state, action: PayloadAction<string>) {\r\n      state.textError = action.payload;\r\n    },\r\n    incrementCounterError(state, action: PayloadAction<null>) {\r\n      state.counterError += 1;\r\n    },\r\n    setShowError(state, action: PayloadAction<boolean>) {\r\n      state.showError = action.payload;\r\n    }\r\n  }\r\n});\r\n","import {createAsyncThunk, createSlice, current, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {\r\n  FragmentRulesItem, FragmentsSelectType,\r\n  GlobalFilterItem,\r\n  GlobalFilterItemDetailed, SetTagsItem,\r\n  TagDetailedType,\r\n  TagGroupType,\r\n  TagType\r\n} from \"./tags.types\";\r\nimport cloneDeep from \"lodash.clonedeep\";\r\nimport {instance} from \"../api\";\r\nimport {errorSlice} from \"../error/error.slice\";\r\n\r\n// Ð³ÑÑÐ¿Ð¿Ñ.\r\nexport const getTagGroups = createAsyncThunk(\r\n  'tags/getTagGroups',\r\n  async (payload, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const {data} = await instance.get<TagGroupType[]>(`tag_rule_groups/`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      thunkAPI.dispatch(tagsSlice.actions.setTagGroups(data));\r\n      return data;\r\n    } catch (error: unknown) {\r\n      debugger;\r\n      thunkAPI.dispatch(errorSlice.actions.setShowError(true));\r\n    }\r\n  }\r\n)\r\n\r\n// ÑÐµÐ³Ð¸\r\nexport const getTags = createAsyncThunk(\r\n  'tags/getTags',\r\n  async (payload: { filter?: string, group?: string }, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const generateEndUrlPart = (payload: { filter?: string, group?: string }): string => {\r\n        if (payload.filter && payload.group) {\r\n          return `?filter=${payload.filter}&group=${payload.group}`;\r\n        } else if (payload.filter) {\r\n          return `?filter=${payload.filter}`;\r\n        } else if (payload.group) {\r\n          return `?group=${payload.group}`;\r\n        }\r\n        return '';\r\n      }\r\n      const {data} = await instance.get(`tag_rules/${generateEndUrlPart(payload)}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      thunkAPI.dispatch(tagsSlice.actions.setTags(data));\r\n      return data;\r\n    } catch (error: any) {\r\n      thunkAPI.dispatch(errorSlice.actions.setShowError(true));\r\n    }\r\n  }\r\n);\r\n\r\n// Ð´ÐµÑÐ°Ð»ÑÐ½Ð°Ñ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð¾ ÑÐµÐ³Ðµ.\r\nexport const getTag = createAsyncThunk(\r\n  'tags/getTag',\r\n  async (id: string, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const {data} = await instance.get<TagDetailedType>(`tag_rule/${id}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      thunkAPI.dispatch(tagsSlice.actions.setCurrentTag(data));\r\n\r\n      // @ts-ignore\r\n      thunkAPI.dispatch(tagsSlice.actions.setActiveGlobalFilterCriterias(data.globalFilter));\r\n\r\n      thunkAPI.dispatch(tagsSlice.actions.removeFragments(null));\r\n      for (let i = 0; i < data.fragmentRules.length; i++) {\r\n        thunkAPI.dispatch(tagsSlice.actions.setFragment(data.fragmentRules[i]));\r\n      }\r\n\r\n      thunkAPI.dispatch(tagsSlice.actions.removeSetTags(null));\r\n      for (let i = 0; i < data.setTags.length; i++) {\r\n        thunkAPI.dispatch(tagsSlice.actions.setSetTag(data.setTags[i]));\r\n      }\r\n\r\n      return data;\r\n    } catch (error: any) {\r\n      thunkAPI.dispatch(errorSlice.actions.setTextError(error));\r\n    }\r\n  }\r\n)\r\n\r\n// Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐµÐ³Ð°\r\nexport const updateTag = createAsyncThunk(\r\n  'tags/updateTag',\r\n  async (payload: any) => {\r\n    try {\r\n      debugger\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const {data} = await instance.put<TagDetailedType>(`tag_rule/${payload.id}`, payload, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      return data;\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n)\r\n\r\n// ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð¾Ð²Ð¾Ð³Ð¾ ÑÐµÐ³Ð°\r\nexport const postTag = createAsyncThunk(\r\n  'tags/postTag',\r\n  async (payload: any) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const {data} = await instance.post<TagDetailedType>(`tag_rule/`, payload, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      return data;\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n)\r\n\r\n// ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ ÑÐµÐ³Ð°\r\nexport const deleteTag = createAsyncThunk(\r\n  'tags/deleteTag',\r\n  async (id: string, thunkAPI) => {\r\n    try {\r\n      const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n      const {data} = await instance.delete<TagDetailedType>(`tag_rule/${id}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      return data;\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n)\r\n\r\n// Ð²ÑÐµ ÐºÑÐ¸ÑÐµÑÐ¸Ð¸ Ð´Ð»Ñ Ð³Ð»Ð¾Ð±Ð°Ð½Ð¾Ð³Ð¾ ÑÐ¸Ð»ÑÑÑÐ°.\r\nexport const getAllGlobalTagFilters = createAsyncThunk(\r\n  'tags/getAllGlobalTagFilters',\r\n  async (payload, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const {data} = await instance.get(`search_criterias/?extended=true`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    thunkAPI.dispatch(tagsSlice.actions.setAllGlobalFilterCriterias(data));\r\n  }\r\n)\r\n\r\nexport type TagActionType = 'clone' | 'enable' | 'disable' | 'delete' | 'make_global';\r\n\r\n// ÑÐµÐ³Ð¾Ð²ÑÐµ Ð°ÐºÑÐ¸Ð²Ð½Ð¾ÑÑÐ¸\r\nexport const tagsActions = createAsyncThunk(\r\n  'tags/getAllGlobalTagFilters',\r\n  async (payload: {tagId: string, action: TagActionType}, thunkAPI) => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    const {data} = await instance.post(`tag_rule/${payload.tagId}/action`, {action: payload.action} ,{\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n  }\r\n)\r\n\r\nexport const createNullArray = (count: number) => {\r\n  let result = [];\r\n  for (let i = 0; i < count; i++) {\r\n    result.push(null);\r\n  }\r\n  return result;\r\n};\r\n\r\ntype ActiveFragmentItem = {\r\n  key: string,\r\n  title: string,\r\n  value: any,\r\n  options: string[] | null,\r\n  selectType: FragmentsSelectType,\r\n  visible: boolean\r\n};\r\n\r\ntype initialStateType = {\r\n  activeTagId: string | null,\r\n\r\n  searchParams: string,\r\n\r\n  searchInput: string,\r\n\r\n  tagGroups: TagGroupType[] | null[],\r\n  currentTagGroup: TagGroupType | null,\r\n\r\n  tags: TagType[] | null[] | null,\r\n  currentTag: TagDetailedType | null | false | undefined,\r\n\r\n  allGlobalFilterCriterias: GlobalFilterItemDetailed[],\r\n  defaultGlobalFilterCriterias: GlobalFilterItem[],\r\n  activeGlobalFilterCriterias: GlobalFilterItemDetailed[],\r\n\r\n  activeFragments: ActiveFragmentItem[][],\r\n  activeSetTags: SetTagsItem[]\r\n\r\n  error: string | null\r\n};\r\n\r\nconst initialState: initialStateType = {\r\n  activeTagId: null,\r\n  searchParams: \"\",\r\n  searchInput: \"\",\r\n\r\n  tagGroups: createNullArray(4),\r\n  currentTagGroup: null,\r\n\r\n  tags: createNullArray(15),\r\n  currentTag: null,\r\n\r\n  allGlobalFilterCriterias: [],\r\n  defaultGlobalFilterCriterias: [],\r\n  activeGlobalFilterCriterias: [],\r\n\r\n  activeFragments: [],\r\n  activeSetTags: [],\r\n\r\n  error: null\r\n};\r\n\r\n\r\ntype FragmentsArrayType = {\r\n  phrasesAndDicts: string[] | null,\r\n  phrases: string[],\r\n  dicts: string[],\r\n  direction: string,\r\n  fromStart: boolean,\r\n  silentBefore: string,\r\n  silentAfter: string,\r\n  interruptTime: string\r\n}\r\n\r\nexport const DirectionOptions = [\r\n  {label: 'ÐÐ»Ð¸ÐµÐ½Ñ ÑÐºÐ°Ð·Ð°Ð»', value: 'client_say'},\r\n  {label: 'ÐÐ¿ÐµÑÐ°ÑÐ¾Ñ ÑÐºÐ°Ð·Ð°Ð»', value: 'operator_say'},\r\n  {label: 'ÐÐ»Ð¸ÐµÐ½Ñ Ð½Ðµ ÑÐºÐ°Ð·Ð°Ð»', value: 'client_not_say'},\r\n  {label: 'ÐÐ¿ÐµÑÐ°ÑÐ¾Ñ Ð½Ðµ ÑÐºÐ°Ð·Ð°Ð»', value: 'operator_not_say'},\r\n  {label: 'ÐÑÐ±Ð¾Ð¹ Ð½Ðµ ÑÐºÐ°Ð·Ð°Ð»', value: 'any_not_say'},\r\n];\r\n\r\nconst fragmentsArray: FragmentsArrayType = {\r\n  direction: DirectionOptions[0].value,\r\n  phrasesAndDicts: null,\r\n  fromStart: false,\r\n  silentBefore: '',\r\n  silentAfter: '',\r\n  interruptTime: '',\r\n  phrases: [],\r\n  dicts: []\r\n};\r\n\r\nexport const tagsSlice = createSlice({\r\n  name: 'tags',\r\n  initialState,\r\n  reducers: {\r\n    // Ð³ÑÑÐ¿Ð¿Ñ\r\n    setTagGroups(state, action: PayloadAction<TagGroupType[]>) {\r\n      state.tagGroups = action.payload;\r\n    },\r\n    setCurrentTagGroup(state, action: PayloadAction<TagGroupType>) {\r\n      state.currentTagGroup = action.payload;\r\n    },\r\n\r\n    setSearchParams(state, action: PayloadAction<string>) {\r\n      state.searchParams = action.payload;\r\n    },\r\n\r\n    setSearchInput(state, action: PayloadAction<string>) {\r\n      state.searchInput = action.payload;\r\n    },\r\n\r\n    // ÑÐµÐ³Ð¸\r\n    setTags(state, action: PayloadAction<TagType[] | null[]>) {\r\n      state.tags = action.payload;\r\n    },\r\n    setCurrentTag(state, action: PayloadAction<TagDetailedType | null | false | undefined>) {\r\n      state.currentTag = action.payload;\r\n    },\r\n\r\n\r\n    // Ð´ÐµÑÐ°Ð»Ð¸ ÑÐµÐ³Ð°\r\n\r\n\r\n    // Ð³Ð»Ð¾Ð±Ð°Ð»ÑÐ½ÑÐµ ÑÐ¸Ð»ÑÑÑÑ\r\n\r\n    // Ð²ÑÐµ ÐºÑÐ¸ÑÐµÑÐ¸Ð¸\r\n    setAllGlobalFilterCriterias(state, action: PayloadAction<GlobalFilterItemDetailed[]>) {\r\n      state.allGlobalFilterCriterias = action.payload;\r\n    },\r\n    // Ð°ÐºÑÐ¸Ð²Ð½ÑÐµ ÐºÑÐ¸ÑÐµÑÐ¸Ð¸\r\n    setActiveGlobalFilterCriterias(state, action: PayloadAction<GlobalFilterItemDetailed[] | []>) {\r\n      state.activeGlobalFilterCriterias.length = 0;\r\n      for (let i = 0; i < action.payload.length; i++) {\r\n        const fullCriteria = state.allGlobalFilterCriterias.find(item => item.key === action.payload[i].key);\r\n        if (fullCriteria) {\r\n          state.activeGlobalFilterCriterias.push({...fullCriteria, values: action.payload[i].values});\r\n        }\r\n      }\r\n    },\r\n    setActiveGlobalFilterCriteria(state, action: PayloadAction<GlobalFilterItemDetailed>) {\r\n      state.activeGlobalFilterCriterias.push(action.payload);\r\n    },\r\n    removeActiveGlobalFilterCriteria(state, action: PayloadAction<GlobalFilterItemDetailed>) {\r\n      const currentActiveCriterias = current(state.activeGlobalFilterCriterias);\r\n      const currentActiveCriteria = currentActiveCriterias.find(criteria => criteria.key === action.payload.key);\r\n      if (currentActiveCriterias) {\r\n        // @ts-ignore\r\n        const criteriaIndex = currentActiveCriterias.indexOf(currentActiveCriteria);\r\n        state.activeGlobalFilterCriterias.splice(criteriaIndex, 1)\r\n      }\r\n    },\r\n    setActiveGlobalFilterCriteriaValues(state, action: PayloadAction<GlobalFilterItemDetailed>) {\r\n      let activeCriterias = cloneDeep(current(state.activeGlobalFilterCriterias));\r\n      const activeCriteria = activeCriterias.find(item => {\r\n        return item.key === action.payload.key\r\n      });\r\n      if (activeCriteria) {\r\n        const activeCriteriaIndex = activeCriterias.indexOf(activeCriteria);\r\n        state.activeGlobalFilterCriterias[activeCriteriaIndex].values = action.payload.values;\r\n      }\r\n    },\r\n\r\n    // ÑÑÐ°Ð³Ð¼ÐµÐ½ÑÑ\r\n    setFragment(state, action: PayloadAction<FragmentRulesItem | null>) {\r\n      // Ð¿ÐµÑÐ²Ð¾Ð½Ð°ÑÐ°Ð»ÑÐ½ÑÐ¹ Ð¾Ð±ÑÐµÐºÑ\r\n      let fragmentRulesItemLocal: any = {};\r\n      if (!action.payload) {\r\n        fragmentRulesItemLocal = fragmentsArray;\r\n      } else {\r\n        fragmentRulesItemLocal = action.payload;\r\n      }\r\n      // Ð¼Ð°ÑÑÐ¸Ð² Ñ Ð¾Ð±ÑÐµÐºÑÐ°Ð¼Ð¸\r\n      let activeFragment = [];\r\n      for (let i = 0; i < Object.keys(fragmentRulesItemLocal).length; i++) {\r\n        const key = Object.keys(fragmentRulesItemLocal)[i];\r\n        if (key === 'direction') {\r\n          const value = DirectionOptions.find(item => item.value === fragmentRulesItemLocal[key]);\r\n          activeFragment.unshift({\r\n            key: key,\r\n            title: 'ÐÐ¾Ð¸ÑÐº Ð¿Ð¾ ÑÐ»Ð¾Ð²Ð°Ð¼',\r\n            value: value,\r\n            options: DirectionOptions,\r\n            selectType: 'multiValue',\r\n            visible: true\r\n          })\r\n        } else if (key === 'phrasesAndDicts') {\r\n          const criteria = current(state.allGlobalFilterCriterias).find(criteria => criteria.key === 'client_text');\r\n          let dictsArray: { label: string, value: string }[] = [];\r\n          if (criteria) {\r\n            for (let i = 0; i < criteria.values.length; i++) {\r\n              dictsArray.push({label: criteria.values[i], value: criteria.values[i]});\r\n            }\r\n          }\r\n\r\n          let converted: {value: string, label: string}[] = []\r\n          if (fragmentRulesItemLocal[key]) {\r\n            for (let i = 0; i < fragmentRulesItemLocal[key].length; i++) {\r\n              converted.push({value: fragmentRulesItemLocal[key][i], label: fragmentRulesItemLocal[key][i]})\r\n            }\r\n          }\r\n\r\n          activeFragment.push({\r\n            key: key,\r\n            title: 'Ð¤ÑÐ°Ð·Ñ Ð¸Ð»Ð¸ ÑÐ»Ð¾Ð²Ð°ÑÐ¸',\r\n            value: fragmentRulesItemLocal[key] && fragmentRulesItemLocal[key].length > 0 ? converted : null,\r\n            options: dictsArray,\r\n            selectType: 'multiString',\r\n            visible: true\r\n          });\r\n        } else if (key === 'fromStart') {\r\n          activeFragment.push({\r\n            key: key,\r\n            title: 'ÐÑÐºÐ°ÑÑ Ñ Ð½Ð°ÑÐ°Ð»Ð° ÑÐ°Ð·Ð³Ð¾Ð²Ð¾ÑÐ°',\r\n            value: {value: fragmentRulesItemLocal[key], label: fragmentRulesItemLocal[key]},\r\n            option: [],\r\n            selectType: 'checkbox',\r\n            visible: !!action.payload && !!fragmentRulesItemLocal[key]\r\n          })\r\n        } else if (key === 'phrases' || key === 'dicts') {\r\n          activeFragment.push({\r\n            key: key,\r\n            value: {value: fragmentRulesItemLocal[key], label: fragmentRulesItemLocal[key]},\r\n            selectType: 'doNotDisplay',\r\n            option: [],\r\n            visible: !!action.payload && !!fragmentRulesItemLocal[key]\r\n          })\r\n        } else {\r\n          activeFragment.push({\r\n            key: key,\r\n            title: (key === 'silentBefore' && 'ÐÐ¾Ð»ÑÐ°Ð½Ð¸Ðµ Ð´Ð¾') ||\r\n              (key === 'silentAfter' && 'ÐÐ¾Ð»ÑÐ°Ð½Ð¸Ðµ Ð¿Ð¾ÑÐ»Ðµ') ||\r\n              (key === 'interruptTime' && 'ÐÐ»Ð¸ÑÐµÐ»ÑÐ½Ð¾ÑÑÑ Ð¿ÐµÑÐµÐ±Ð¸Ð²Ð°Ð½Ð¸Ñ'),\r\n            value: {value: fragmentRulesItemLocal[key], label: fragmentRulesItemLocal[key]},\r\n            option: fragmentRulesItemLocal[key],\r\n            selectType: 'input',\r\n            visible: !!action.payload && !!fragmentRulesItemLocal[key]\r\n\r\n          })\r\n        }\r\n      }\r\n      // @ts-ignore\r\n      state.activeFragments.push(activeFragment);\r\n    },\r\n    setFragmentFieldValue(state, action: PayloadAction<{ arrayIndex: number, fieldIndex: number, value: { value: any, label: string } }>) {\r\n      state.activeFragments[action.payload.arrayIndex][action.payload.fieldIndex].value = action.payload.value;\r\n    },\r\n    setFragmentField(state, action: PayloadAction<{ index: number, value: ActiveFragmentItem, visible: boolean }>) {\r\n      const fragments = current(state.activeFragments[action.payload.index]);\r\n      const field = fragments.find(item => item.key === action.payload.value.key);\r\n      let fieldIndex: number | null = null;\r\n      if (field) {\r\n        fieldIndex = fragments.indexOf(field);\r\n      }\r\n      if (fieldIndex || fieldIndex === 0) {\r\n        state.activeFragments[action.payload.index].splice(fieldIndex, 1);\r\n      }\r\n      debugger //@ts-ignore\r\n      state.activeFragments[action.payload.index].push({...field, visible: true})\r\n    },\r\n    removeFragmentField(state, action: PayloadAction<{arrayIndex: number, fieldIndex: number}>) {\r\n      state.activeFragments[action.payload.arrayIndex].splice(action.payload.fieldIndex, 1);\r\n      if (state.activeFragments[action.payload.arrayIndex].length < 1) {\r\n        state.activeFragments.splice(action.payload.arrayIndex, 1);\r\n      }\r\n    },\r\n    removeFragment(state, action: PayloadAction<number>) {\r\n      state.activeFragments.splice(action.payload, 1);\r\n    },\r\n    removeFragments(state, action: PayloadAction<null>) {\r\n      state.activeFragments.length = 0;\r\n    },\r\n\r\n    // ÑÐµÐ³Ð¸\r\n    setSetTag(state, action: PayloadAction<SetTagsItem | null>) {\r\n      // Ð¿ÐµÑÐ²Ð¾Ð½Ð°ÑÐ°Ð»ÑÐ½ÑÐ¹ Ð¾Ð±ÑÐµÐºÑ\r\n      let tag: any = {};\r\n      if (!action.payload) {\r\n        tag = {\r\n          name: '',\r\n          value: '',\r\n          visible: false\r\n        }\r\n      } else {\r\n        tag = action.payload;\r\n      }\r\n\r\n      state.activeSetTags.push(tag);\r\n    },\r\n    setSetTagFieldValue(state, action: PayloadAction<{ tagIndex: number, fieldKey: string, value: string | boolean }>) {\r\n      // @ts-ignore\r\n      state.activeSetTags[action.payload.tagIndex][action.payload.fieldKey] = action.payload.value;\r\n    },\r\n    removeSetTag(state, action: PayloadAction<number>) {\r\n      state.activeSetTags.splice(action.payload, 1);\r\n    },\r\n    removeSetTags(state, action: PayloadAction<null>) {\r\n      state.activeSetTags.length = 0;\r\n    },\r\n\r\n    tagsReset: () => initialState\r\n  }\r\n});\r\n","import React, {FC, memo} from \"react\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {Skeleton, Typography} from \"@mui/material\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {dictsSlice, getDict, getDicts} from \"../../../store/dicts/dicts.slice\";\r\nimport {DictType, DictTypeDetailed, GroupType} from \"../../../store/dicts/dicts.types\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport queryString from \"query-string\";\r\nimport {tagsSlice} from \"../../../store/tags/tags.slice\";\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\n\r\nconst PurpleCircleSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"18\" height=\"18\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <circle cx=\"8\" cy=\"8\" r=\"7.5\" fill=\"white\" stroke=\"#9254DE\"/>\r\n      <circle cx=\"8\" cy=\"8\" r=\"4\" fill=\"#9254DE\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\n\r\ntype GroupPropsType = {\r\n  group: GroupType | null,\r\n  isActive: boolean\r\n};\r\n\r\n\r\nconst Group: FC<GroupPropsType> = memo(({group, isActive}) => {\r\n  const useStyles = makeStyles(({\r\n    groupItem: {\r\n      minHeight: '56px',\r\n      cursor: \"pointer\",\r\n      padding: '24px',\r\n      margin: '0 24px 24px 24px',\r\n      border: '2px solid #fff',\r\n      borderColor: isActive ? '#AD80E6' : '#ffffff',\r\n      boxShadow: '0px 0px 4px rgba(98, 98, 98, 0.22)',\r\n      borderRadius: '10px',\r\n      transition: '0.1s',\r\n      '&:hover': {\r\n        boxShadow: '0px 0px 4px rgba(98, 98, 98, 0.4)',\r\n      }\r\n    },\r\n    groupTopBlock: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      marginBottom: '10px'\r\n    },\r\n    groupTopBlockText: {\r\n      fontWeight: '700 !important',\r\n      color: '#738094 !important'\r\n    },\r\n\r\n    groupBottomBlock: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center'\r\n    },\r\n    groupBottomBlockText: {\r\n      color: '#000 !important'\r\n    },\r\n    groupBottomBlockRight: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center'\r\n    },\r\n    groupBottomBlockSvg: {\r\n      marginRight: '10px'\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const userIdData = useAppSelector(state => state.users.currentUser?.id);\r\n  const userId = userIdData ? userIdData : \"_\";\r\n  const {language} = useAppSelector(state => state.lang);\r\n\r\n  const onGroupClick = async () => {\r\n    if (group) {\r\n      dispatch(tagsSlice.actions.setSearchInput(\"\"));\r\n      dispatch(dictsSlice.actions.setCurrentGroup(group));\r\n      dispatch(dictsSlice.actions.setEmptyDicts(null));\r\n      dispatch(dictsSlice.actions.setCurrentDict(null));\r\n      const dictsData = await dispatch(getDicts({group: group.group}));\r\n      // @ts-ignore\r\n      const dicts: DictType[] = dictsData.payload;\r\n      const dataDict = await dispatch(getDict(dicts[0].id));\r\n      // @ts-ignore\r\n      const dict: DictTypeDetailed = dataDict.payload;\r\n      dispatch(dictsSlice.actions.setSearch( queryString.extract(`?group=${group.group}&id=${dict.id}`)));\r\n      history.location.pathname = `/`;\r\n      history.replace(`${language}/${userId}/markuprules/dictionaries?group=${group.group}&id=${dict.id}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.groupItem} onClick={onGroupClick}>\r\n      <div className={classes.groupTopBlock}>\r\n        {group\r\n          ? <Typography className={classes.groupTopBlockText}>{group.group}</Typography>\r\n          : <Skeleton variant=\"text\" width={250} height={20} />\r\n        }\r\n        {isActive && <PurpleCircleSvg/>}\r\n      </div>\r\n\r\n      <div className={classes.groupBottomBlock}>\r\n        {group\r\n          ? <Typography className={classes.groupBottomBlockText}>{group.count} ÑÐ»Ð¾Ð²Ð°ÑÐµÐ¹</Typography>\r\n          : <Skeleton variant=\"text\" width={80} height={20} />\r\n        }\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Group;\r\n","import React, {FC} from 'react';\r\nimport Group from \"./Group\";\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\n\r\nconst Groups: FC = () => {\r\n  const dictGroups = useAppSelector(state => state.dicts.groups);\r\n  const currentGroup = useAppSelector(state => state.dicts.currentGroup)\r\n\r\n  return (\r\n    <div style={{padding: '5px 0'}}>\r\n      {dictGroups ?\r\n        dictGroups.map((group) => {\r\n          return (\r\n            <Group\r\n              group={group}\r\n              isActive={Boolean(currentGroup && group && group.group === currentGroup.group)}\r\n            />\r\n          )\r\n        }) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Groups;\r\n","import React, {FC, memo} from \"react\";\r\nimport {DictType} from \"../../../store/dicts/dicts.types\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {dictsSlice} from \"../../../store/dicts/dicts.slice\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {InfoCircle, InfoCircleActive} from \"../../../pages/MarkupRules/MarkupRules\";\r\nimport {Skeleton} from \"@mui/material\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {BaseTag} from \"../../common/Tag\";\r\nimport {TagType} from \"../../../store/tags/tags.types\";\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\nimport queryString from \"query-string\";\r\n\r\n\r\ntype DictPropsType = {\r\n  body: DictType | null,\r\n  isActive: boolean,\r\n  handleClick: any\r\n};\r\n\r\nconst Item: FC<DictPropsType> = memo(({body, isActive, handleClick}) => {\r\n  const useStyles = makeStyles(({\r\n    itemBox: {\r\n      cursor: 'pointer',\r\n      minHeight: '31px',\r\n\r\n      padding: '9px 24px',\r\n      transition: '0.1s',\r\n      backgroundColor: isActive ? '#F9F0FF' : '#F8FAFC',\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      borderRight: '4px solid #FFFFFF',\r\n      borderColor: isActive ? '#9254DE !important' : '#FFFFFF !important',\r\n      '&:hover': {\r\n        borderColor: body ? isActive ? '#9254DE !important' : '#F9F0FF !important' : '#F8FAFC',\r\n        backgroundColor: body ? '#F9F0FF' : '#F8FAFC'\r\n      },\r\n      '&:hover div': {\r\n        color: \"#722ED1\",\r\n      }\r\n    },\r\n    item: {\r\n      fontWeight: '700',\r\n      color: isActive ? '#722ED1' : '#2F3747',\r\n      fontSize: '13px',\r\n      fontFamily: 'Inter, sans-serif',\r\n    },\r\n    rule: {\r\n      fontWeight: '700',\r\n      color: isActive ? '#722ED1' : '#2F3747',\r\n      marginTop: '5px',\r\n      fontSize: '10px',\r\n      fontFamily: 'Inter, sans-serif',\r\n      '&:hover': {\r\n        color: '#002766 !important'\r\n      }\r\n    }\r\n  }));\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const currentGroup = useAppSelector(state => state.dicts.currentGroup);\r\n\r\n  const userIdData = useAppSelector(state => state.users.currentUser?.id);\r\n  const userId = userIdData ? userIdData : \"_\";\r\n  const {language} = useAppSelector(state => state.lang);\r\n  return (\r\n    <div\r\n      className={classes.itemBox}\r\n      onClick={isActive\r\n        ? () => null\r\n        : async () => {\r\n          handleClick();\r\n          if (body && currentGroup) {\r\n            await dispatch(dictsSlice.actions.setSearch(`?group=${currentGroup.group}&id=${body.id}`));\r\n            history.location.pathname = '/'\r\n            history.replace(`${language}/${userId}/markuprules/dictionaries?group=${currentGroup.group}&id=${body.id}`)\r\n          }\r\n        }}\r\n    >\r\n      <div style={{minWidth: '130px'}}>\r\n        <div className={classes.item}>\r\n          {body\r\n            ? <>{body.title}</>\r\n            : <Skeleton variant=\"text\" width={130} height={15}/>\r\n          }\r\n        </div>\r\n        {body &&\r\n        // @ts-ignore\r\n        body.usedRules &&\r\n        <div className={classes.rule} onClick={isActive ? async () => {\r\n          history.location.pathname = '/'\r\n          history.replace(`${language}/${userId}/markuprules/tags/${body.id}`)\r\n          await dispatch(dictsSlice.actions.setActivePage('tags'));\r\n        } : () => null}>\r\n          {body\r\n            ? <div>\r\n              {// @ts-ignore\r\n                body.usedRules.map((rule) =>\r\n                <BaseTag body={rule.title}/>\r\n              )}\r\n          </div>\r\n            : <Skeleton variant=\"text\" width={60} height={11}/>\r\n          }\r\n        </div>\r\n        }\r\n      </div>\r\n      {isActive ? <InfoCircleActive/> : <InfoCircle/>}\r\n\r\n    </div>\r\n  )\r\n});\r\n\r\nexport default Item;\r\n","import Item from \"./Item\";\r\nimport React, {FC} from \"react\";\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {dictsSlice, getDict} from \"../../../store/dicts/dicts.slice\";\r\nimport {DictType, DictTypeDetailed} from \"../../../store/dicts/dicts.types\";\r\nimport {RootState} from \"../../../store/store\";\r\nimport {translate} from \"../../../localizations\";\r\n\r\ntype ItemsPropsType = {\r\n  items: DictType[] | null[] | null,\r\n  currentItem: DictTypeDetailed | null | false | undefined\r\n}\r\n\r\nconst Items: FC<ItemsPropsType> = ({items, currentItem}) => {\r\n  const dispatch = useDispatch();\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n  return (\r\n    <div style={{padding: '5px 0'}}>\r\n      {items && items.length > 0\r\n        ?\r\n        items.map((item) => {\r\n          return (\r\n            <Item\r\n              body={item}\r\n              // @ts-ignore\r\n              isActive={currentItem && item && currentItem.id === item.id}\r\n              handleClick={async () => {\r\n                if (item) {\r\n                  dispatch(dictsSlice.actions.setCurrentDict(null));\r\n                  await dispatch(getDict(item.id));\r\n                }\r\n              }}\r\n            />\r\n          )\r\n        })\r\n        :\r\n        <div\r\n          style={{\r\n            fontFamily: 'Inter, sans-serif',\r\n            fontWeight: '700',\r\n            fontSize: '16px',\r\n            marginLeft: '24.5px',\r\n\r\n            color: '#738094'\r\n          }}\r\n        >\r\n          {translate('nothingFound_dicts', language)}\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Items;\r\n","import * as React from 'react';\r\nimport {FC} from 'react';\r\nimport {styled} from '@mui/system';\r\nimport SwitchUnstyled, {switchUnstyledClasses} from '@mui/base/SwitchUnstyled';\r\n\r\nconst grey = {\r\n  400: '#BFC7CF',\r\n  500: '#AAB4BE',\r\n  600: '#6F7E8C',\r\n};\r\n\r\nconst Root = styled('span')(\r\n  ({theme}) => `\r\n  font-size: 0;\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 40px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n\r\n  &.${switchUnstyledClasses.disabled} {\r\n    opacity: 0.4;\r\n    cursor: not-allowed;\r\n  }\r\n\r\n  & .${switchUnstyledClasses.track} {\r\n    background: ${theme.palette.mode === 'dark' ? grey[600] : grey[400]};\r\n    border-radius: 10px;\r\n    display: block;\r\n    height: 100%;\r\n    width: 100%;\r\n    position: absolute;\r\n  }\r\n\r\n  & .${switchUnstyledClasses.thumb} {\r\n    display: block;\r\n    width: 14px;\r\n    height: 14px;\r\n    top: 3px;\r\n    left: 3px;\r\n    border-radius: 16px;\r\n    background-color: #fff;\r\n    position: relative;\r\n    transition: all 200ms ease;\r\n  }\r\n\r\n  &.${switchUnstyledClasses.focusVisible} .${switchUnstyledClasses.thumb} {\r\n    background-color: ${grey[500]};\r\n    box-shadow: 0 0 1px 8px rgba(0, 0, 0, 0.25);\r\n  }\r\n\r\n  &.${switchUnstyledClasses.checked} {\r\n    .${switchUnstyledClasses.thumb} {\r\n      left: 22px;\r\n      top: 3px;\r\n      background-color: #fff;\r\n    }\r\n\r\n    .${switchUnstyledClasses.track} {\r\n      background: #B37FEB;\r\n    }\r\n  }\r\n\r\n  & .${switchUnstyledClasses.input} {\r\n    cursor: inherit;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    opacity: 0;\r\n    z-index: 1;\r\n    margin: 0;\r\n  }\r\n  `,\r\n);\r\n\r\ntype CustomSwitchPropsType = {\r\n  disabled: boolean,\r\n  onChecked: (e: any) => void,\r\n  checked: boolean\r\n};\r\n\r\nconst CustomSwitch: FC<CustomSwitchPropsType> = ({onChecked, disabled, checked}) => {\r\n  const label = {componentsProps: {input: {'aria-label': 'Demo switch'}}};\r\n  return <SwitchUnstyled\r\n    disabled={disabled}\r\n    onChange={onChecked}\r\n    component={Root}\r\n    checked={checked}\r\n    {...label}\r\n  />\r\n}\r\n\r\nexport default CustomSwitch;","import React, {FC, memo} from \"react\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {Typography} from \"@mui/material\";\r\n\r\ntype FieldPropsType = {\r\n  label: string,\r\n  labelBrother?: any,\r\n  bgColor?: string,\r\n  width?: string,\r\n  height?: string,\r\n  margin?: string,\r\n  padding?: string\r\n}\r\n\r\nconst Field: FC<FieldPropsType> = memo(({children, label, bgColor, width, height, margin, padding, labelBrother}) => {\r\n  const useStyles = makeStyles(({\r\n    fieldBox: {\r\n      margin: margin ? margin : '0',\r\n      height: height ? height : 'auto',\r\n      width: width ? width : 'auto'\r\n    },\r\n    fieldText: {\r\n      backgroundColor: bgColor ? bgColor : '#F8FAFC',\r\n      border: '1px solid #E3E8EF',\r\n      padding: padding ? padding : '3px 10px',\r\n      borderRadius: '5px',\r\n      marginTop: '10px'\r\n    },\r\n    fieldLabel: {\r\n      cursor: 'default !important',\r\n      color: '#738094 !important',\r\n      fontWeight: '700 !important',\r\n      fontSize: '13px !important'\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.fieldBox}>\r\n      <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\r\n        <Typography className={classes.fieldLabel}>\r\n          {label}\r\n        </Typography>\r\n        {labelBrother}\r\n      </div>\r\n      <div className={classes.fieldText}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Field;\r\n","export default __webpack_public_path__ + \"static/media/no-results.c04492e6.png\";","export default __webpack_public_path__ + \"static/media/loading.fd468320.svg\";","import React, {FC, useEffect, useState} from 'react';\r\nimport {InputBase, Tooltip, Typography} from \"@mui/material\";\r\nimport Checkbox from \"../../../components/common/Checkbox\";\r\nimport Switch from \"../../../components/common/Switch\";\r\nimport CustomControlSelect from \"../../../components/common/Selects/CustomControlSelect\";\r\nimport {InfoCircleActive} from \"../MarkupRules\";\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\nimport Field from \"../../../components/common/FIeld\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {useFormik} from \"formik\";\r\nimport {LoadingButton} from \"@mui/lab\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {\r\n  deleteDict,\r\n  dictActions, dictsSlice,\r\n  getDict,\r\n  getDicts,\r\n  getGroups,\r\n  updateDict\r\n} from \"../../../store/dicts/dicts.slice\";\r\nimport {BlockBox} from \"../../../components/common\";\r\nimport ModalWindow from \"../../../components/common/ModalWindowBox\";\r\nimport {DictType, DictTypeDetailed, GroupType} from \"../../../store/dicts/dicts.types\";\r\nimport Snackbar, {SnackbarType} from \"../../../components/common/Snackbar\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport noResultsPng from '../../../assets/images/no-results.png';\r\nimport {RootState} from \"../../../store/store\";\r\nimport {translate} from \"../../../localizations\";\r\nimport Preloader from \"../../../assets/loading.svg\";\r\n\r\nconst DictDetailsStubMiddleware: FC = () => {\r\n  const currentDict = useAppSelector(state => state.dicts.currentDict);\r\n  if (currentDict === null) {\r\n    return (\r\n      <BlockBox padding={'24px'}>\r\n        <div style={{position: 'relative', height: '100%'}}>\r\n          <div style={{position: 'absolute', top: '30%', left: '32%'}}>\r\n            <img src={Preloader} alt=\"\"/>\r\n          </div>\r\n        </div>\r\n      </BlockBox>\r\n    )\r\n  } else if (currentDict === false) {\r\n    return (\r\n      <BlockBox padding={'5px 24px 0 24px'}>\r\n        <div style={{textAlign: 'center', marginTop: '150px'}}>\r\n          <img src={noResultsPng} alt=\"\"/>\r\n        </div>\r\n      </BlockBox>\r\n    )\r\n  }  else if (currentDict === undefined) {\r\n    return <></>\r\n  } else {\r\n    return <DictDetails currentDict={currentDict}/>\r\n  }\r\n};\r\n\r\n\r\ntype DictDetailsPropsType = {\r\n  currentDict: DictTypeDetailed\r\n}\r\n\r\nconst useStyles = makeStyles(({\r\n  ddTextarea: {\r\n    cursor: 'default',\r\n    minHeight: '340px',\r\n    minWidth: '100%',\r\n    resize: 'none',\r\n    backgroundColor: '#F8FAFC',\r\n    color: '#2F3747',\r\n    fontFamily: 'Inter, sans-serif',\r\n    fontSize: '14px',\r\n    border: 'none',\r\n    outline: 'none',\r\n    lineHeight: '25px',\r\n    '&::-webkit-scrollbar': {\r\n      width: '4px',\r\n      outline: 'none',\r\n      background: '#CDD5DF'\r\n    },\r\n    '&::-webkit-scrollbar-thumb': {\r\n      background: '#A3AEBE',\r\n      height: '50px',\r\n    },\r\n    '&::-webkit-scrollbar-thumb:hover': {\r\n      background: '#9298A1'\r\n    }\r\n  },\r\n\r\n  tooltip: {\r\n    borderRadius: \"5px\",\r\n    fontFamily: 'Inter, sans-serif !important',\r\n    color: '#000 !important',\r\n    minWidth: '400px',\r\n    fontSize: '14px !important',\r\n    padding: '6px 8px !important',\r\n    backgroundColor: '#fff !important',\r\n    boxShadow: 'rgba(100, 100, 111, 0.2) 0px 7px 29px 0px',\r\n    marginTop: '50px !important',\r\n  },\r\n\r\n  switchText: {\r\n    marginLeft: '10px !important',\r\n    fontWeight: '700 !important'\r\n  },\r\n\r\n  rulesText: {\r\n    fontWeight: '700 !important'\r\n  }\r\n}));\r\n\r\nconst DictDetails: FC<DictDetailsPropsType> = ({currentDict}) => {\r\n  const classes = useStyles();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const userIdData = useAppSelector(state => state.users.currentUser?.id);\r\n  const userId = userIdData ? userIdData : \"_\";\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      title: '',\r\n      phrases: '',\r\n      groupName: ''\r\n    },\r\n    onSubmit: async (values) => {\r\n      setSubmitLoading(true);\r\n      const phrasesParseToObject = () => {\r\n        const phrasesArray = values.phrases.split('\\n');\r\n        let phrasesArrayNew = [];\r\n        for (let i = 0; i < phrasesArray.length; i++) {\r\n          if (phrasesArray[i].length > 1) {\r\n            phrasesArrayNew.push(phrasesArray[i]);\r\n          }\r\n        }\r\n        return phrasesArrayNew;\r\n      }\r\n      await dispatch(updateDict({\r\n        ...currentDict,\r\n        phrases: phrasesParseToObject(),\r\n        title: values.title,\r\n        group: values.groupName\r\n      }));\r\n      if (currentDict.group !== formik.values.groupName) {\r\n        const groupsData = await dispatch(getGroups());\r\n        // @ts-ignore\r\n        const groups: GroupType[] = groupsData.payload;\r\n        const currentGroup = groups.filter((item) => item.group === formik.values.groupName)[0];\r\n        dispatch(dictsSlice.actions.setCurrentGroup(currentGroup));\r\n        await dispatch(getDicts({group: formik.values.groupName}))\r\n      }\r\n      if (currentDict.title !== formik.values.title) {\r\n        await dispatch(getDicts({group: currentDict.group}));\r\n      }\r\n      setSubmitLoading(false);\r\n      setSnackbar({type: 'success', value: true, text: 'ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÐ¾ÑÑÐ°Ð½ÐµÐ½Ñ', time: 2000})\r\n    },\r\n  });\r\n\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n  const [render, setRender] = useState(false);\r\n  useEffect(() => {\r\n    formik.values.title = currentDict.title\r\n    formik.values.phrases = currentDict.phrases.join(\"\\n\")\r\n    formik.values.groupName = currentDict.group ? currentDict.group : currentGroup ? currentGroup.group : ''\r\n    setRender(!render);\r\n  }, [currentDict])\r\n\r\n  const createSelectOptions = () => {\r\n    let result = [];\r\n    for (let i = 0; i < currentDict.allowedActions.length; i++) {\r\n      const action = currentDict.allowedActions[i];\r\n      if (action === 'clone') {\r\n        result.push({value: action, label: translate(\"cloneButton_dictDetailSelect\", language)});\r\n      } else if (action === 'delete') {\r\n        result.push({value: action, label: translate(\"deleteButton_dictDetailSelect\", language)});\r\n      } else if (action === 'make_global') {\r\n        result.push({value: action, label: translate(\"makeGlobal_dictDetailSelect\", language)});\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const [submitLoading, setSubmitLoading] = useState<boolean>(false);\r\n  const [deleteLoading, setDeleteLoading] = useState<boolean>(false);\r\n\r\n  // Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¾ÑÐºÑÑÑÐ¸Ñ Ð¼Ð¾Ð´Ð°Ð»ÑÐ½Ð¾ Ð¾ÐºÐ½Ð°\r\n  // MW - Modal Window\r\n  const [deleteDictMWIsOpen, setDeleteDictMWIsOpen] = useState<boolean>(false);\r\n  const handleMWOpen = () => {\r\n    setDeleteDictMWIsOpen(true);\r\n  };\r\n  const handleMWClose = () => {\r\n    setDeleteDictMWIsOpen(false);\r\n  };\r\n\r\n  const error = useAppSelector(state => state.dicts.error);\r\n  useEffect(() => {\r\n    setDeleteLoading(false);\r\n    if (error) {\r\n      setSnackbar({type: 'error', value: true, text: 'Ð­ÑÐ¾Ñ ÑÐ»Ð¾Ð²Ð°ÑÑ Ð½ÐµÐ»ÑÐ·Ñ ÑÐ´Ð°Ð»Ð¸ÑÑ', time: 2000});\r\n    }\r\n  }, [error])\r\n\r\n  const currentGroup = useAppSelector(state => state.dicts.currentGroup);\r\n  const history = useHistory();\r\n\r\n  // Ð³Ð¾Ð²Ð½Ð¾ÐºÐ¾Ð´Ñ Ð¿Ð¾ Ð¿Ð¾Ð»Ð½Ð¾Ð¹)\r\n  const dictHandleDelete = async () => {\r\n    if (currentGroup) {\r\n      setDeleteLoading(true);\r\n      await dispatch(deleteDict(currentDict.id));\r\n      const groupsData = await dispatch(getGroups());\r\n      if (currentGroup.count < 2) {\r\n        // @ts-ignore\r\n        const groups: GroupType[] = groupsData.payload;\r\n        dispatch(dictsSlice.actions.setCurrentGroup(groups[0]));\r\n        const dictsData = await dispatch(getDicts({group: groups[0].group}));\r\n        // @ts-ignore\r\n        const dicts: DictType[] = dictsData.payload;\r\n        await dispatch(getDict(dicts[0].id));\r\n        dispatch(dictsSlice.actions.setSearch(`?group=${groups[0].group}&id=${dicts[0].id}`))\r\n        history.location.pathname = '/';\r\n        history.replace(`${language}/${userId}/markuprules/dictionaries?group=${groups[0].group}&id=${dicts[0].id}`)\r\n      } else {\r\n        const dataDicts = await dispatch(getDicts({group: currentGroup.group}));\r\n        // @ts-ignore\r\n        const dicts: DictType[] = dataDicts.payload;\r\n        await dispatch(getDict(dicts[0].id));\r\n        dispatch(dictsSlice.actions.setSearch(`?group=${currentGroup.group}&id=${dicts[0].id}`))\r\n        history.location.pathname = '/';\r\n        history.replace(`${language}/${userId}/markuprules/dictionaries?group=${currentGroup.group}&id=${dicts[0].id}`)\r\n      }\r\n      handleMWClose();\r\n      setDeleteDictMWIsOpen(false);\r\n      setSnackbar({type: \"success\", text: 'Ð¡Ð»Ð¾Ð²Ð°ÑÑ ÑÐ´Ð°Ð»ÐµÐ½', value: true, time: 2000});\r\n      setDeleteLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n  // snackbars\r\n  const [snackbar, setSnackbar] = useState<{ type: SnackbarType, text: string, value: boolean, time: number | null }>({\r\n    type: 'success',\r\n    text: '',\r\n    value: false,\r\n    time: null\r\n  });\r\n\r\n  const [checked, setChecked] = useState<boolean>(currentDict.enabled);\r\n  const [checkedDisable, setCheckedDisable] = useState<boolean>(false);\r\n\r\n  return (\r\n    <BlockBox padding={'24px'}>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <Field label={translate(\"dictName_dictDetail\", language)} margin={'0 0 15px 0'}>\r\n          <InputBase\r\n            disabled={!currentDict.group}\r\n            style={{width: '100%'}}\r\n            name=\"title\"\r\n            type=\"text\"\r\n            value={formik.values.title}\r\n            onChange={formik.handleChange}\r\n          />\r\n        </Field>\r\n        <Field label={translate(\"groupName_dictDetail\", language)} margin={'0 0 15px 0'}>\r\n          <InputBase\r\n            disabled={!currentDict.group}\r\n            style={{width: '100%'}}\r\n            name=\"groupName\"\r\n            type=\"text\"\r\n            value={formik.values.groupName}\r\n            onChange={formik.handleChange}\r\n          />\r\n        </Field>\r\n        <Field margin={'0 0 15px 0'}\r\n               label={translate(\"phrasesList_dictDetail\", language)}\r\n               labelBrother={\r\n                 <div style={{display: 'flex', justifyContent: \"space-between\", width: '140px', alignItems: 'center'}}>\r\n                   <div>\r\n                     {currentDict.allowedActions.includes('enable') && currentDict.allowedActions.includes('disable') &&\r\n                     <div>\r\n                       <div style={{display: 'flex', alignItems: 'center'}}>\r\n                         <Switch\r\n                           onChecked={async (e) => {\r\n                             if (currentGroup) {\r\n                               setChecked(!checked);\r\n                               setCheckedDisable(true);\r\n                               setSnackbar({type: 'loading', value: true, text: 'ÐÐ°Ð³ÑÑÐ·ÐºÐ°...', time: null})\r\n                               await dispatch(dictActions({\r\n                                 dictId: currentDict.id,\r\n                                 action: currentDict.enabled ? 'disable' : 'enable'\r\n                               }))\r\n\r\n\r\n                               if (currentGroup.count < 2) {\r\n                                 const groupsData = await dispatch(getGroups());\r\n                                 // @ts-ignore\r\n                                 const groups: GroupType[] = groupsData.payload;\r\n\r\n                                 dispatch(dictsSlice.actions.setCurrentGroup(groups[0]));\r\n                                 const dictsData = await dispatch(getDicts({group: groups[0].group}))\r\n                                 // @ts-ignore\r\n                                 const dicts: DictType[] = dictsData.payload;\r\n                                 dispatch(dictsSlice.actions.setCurrentDict(undefined));\r\n                                 dispatch(dictsSlice.actions.setSearch(`?group=${groups[0].group}`));\r\n                                 history.location.pathname = '/';\r\n                                 history.replace(`${language}/${userId}/markuprules/dictionaries?group=${groups[0].group}`);\r\n                               } else {\r\n                                 await dispatch(getDicts({group: currentGroup.group}))\r\n                                 dispatch(dictsSlice.actions.setCurrentDict(undefined));\r\n                                 dispatch(dictsSlice.actions.setSearch(`?group=${currentGroup.group}`))\r\n                                 history.location.pathname = '/';\r\n                                 history.replace(`${language}/${userId}/markuprules/dictionaries?group=${currentGroup.group}`)\r\n                               }\r\n\r\n\r\n                               setSnackbar({type: 'loading', value: false, text: 'ÐÐ°Ð³ÑÑÐ·ÐºÐ°...', time: null})\r\n                               setSnackbar({\r\n                                 type: 'success',\r\n                                 value: true,\r\n                                 text: `Ð¡Ð»Ð¾Ð²Ð°ÑÑ ${currentDict.enabled ? 'Ð²ÑÐºÐ»ÑÑÐµÐ½' : 'Ð²ÐºÐ»ÑÑÑÐ½'}`,\r\n                                 time: 1000\r\n                               });\r\n                               setChecked(checked);\r\n                               setCheckedDisable(false);\r\n                             }\r\n                           }}\r\n                           checked={checked}\r\n                           disabled={checkedDisable}\r\n                         />\r\n                         <Typography className={classes.switchText}>\r\n                           {currentDict.enabled ? 'ÐÐºÐ»' : 'ÐÑÐºÐ»'}\r\n                         </Typography>\r\n                       </div>\r\n                     </div>\r\n                     }\r\n                   </div>\r\n                   <Tooltip\r\n                     disableInteractive={true}\r\n                     classes={{tooltip: classes.tooltip}}\r\n                     title={\r\n                       <div>\r\n                         <Typography>ÐÑÐ°Ð²Ð¸Ð»Ð° Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ ÑÐ»Ð¾Ð²Ð°ÑÐµÐ¹</Typography>\r\n                         <ul style={{marginTop: '0', paddingLeft: '20px'}}>\r\n                           <li style={{margin: '5px 0'}}>\r\n                             ÐÐ°Ð¶Ð´Ð°Ñ ÑÑÐ°Ð·Ð° ÑÐ°Ð·Ð¼ÐµÑÐ°ÐµÑÑÑ Ð½Ð° Ð¾ÑÐ´ÐµÐ»ÑÐ½Ð¾Ð¹ ÑÑÑÐ¾ÐºÐµ.\r\n                           </li>\r\n                           <li style={{margin: '5px 0'}}>\r\n                             ÐÐ¾Ð¸ÑÐº Ð¿Ð¾ ÑÐ¾Ð´ÐµÑÐ¶Ð¸Ð¼Ð¾Ð¼Ñ Ð¾ÑÑÑÐµÑÑÐ²Ð»ÑÐµÑÑÑ Ð¿Ð¾ ÑÐµÐ»Ð¾Ð¼Ñ ÑÐ»Ð¾Ð²Ñ.\r\n                           </li>\r\n                           <li style={{margin: '5px 0'}}>\r\n                             ÐÐ¾Ð¸ÑÐº ÑÐ°ÑÑÐ¸ ÑÐ»Ð¾Ð²Ð° Ð¾ÑÑÑÐµÑÑÐ²Ð»ÑÐµÑÑÑ Ñ Ð·Ð°Ð¼ÐµÐ½Ð¾Ð¹ Ð¾ÐºÐ¾Ð½ÑÐ°Ð½Ð¸Ñ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð¼ * (Ð½Ð°Ð¿ÑÐ¸Ð¼ÐµÑ: Ð² ÑÐ»Ð¾Ð²Ðµ\r\n                             Ð¸Ð½ÑÐµÑÐ½ÐµÑ*\r\n                             Ð½Ð°Ð¹Ð´ÐµÑ\r\n                             Ð¸ Ð¸Ð½ÑÐµÑÐ½ÐµÑÐ°/Ð¸Ð½ÑÐµÑÐ½ÐµÑÑ/Ð¸Ð½ÑÐµÑÐ½ÐµÑÐ¾Ð²).\r\n                           </li>\r\n                           <li style={{margin: '5px 0'}}>\r\n                             ÐÐµÐ¶Ð´Ñ ÑÐ»Ð¾Ð² Ð²Ð¾ ÑÑÐ°Ð·Ðµ Ð¿ÑÐ¸ Ð¿Ð¾Ð¸ÑÐºÐµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð¿Ð°Ð´Ð°Ð½Ð¸Ðµ Ð´Ð¾ ÑÑÐµÑ Ð»ÑÐ±ÑÑ ÑÐ»Ð¾Ð²\r\n                             (Ð½Ð°Ð¿ÑÐ¸Ð¼ÐµÑ Ð·Ð°Ð¿Ð¸ÑÑ Ð² ÑÐ»Ð¾Ð²Ð°ÑÐµ `Ð¿Ð»Ð¾Ñ* Ð¸Ð½ÑÐµÑÐ½ÐµÑ` Ð½Ð°Ð¹Ð´ÐµÑ ÑÑÐ°Ð·Ñ `Ð¿Ð»Ð¾ÑÐ¾ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ Ð²Ð°Ñ Ð¸Ð½ÑÐµÑÐ½ÐµÑ`).\r\n                           </li>\r\n                           <li style={{margin: '5px 0'}}>\r\n                             ÐÐ»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° ÑÑÐ°Ð·Ñ Ñ ÑÐ¾ÑÐ½ÑÐ¼ ÑÐ¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸ÐµÐ¼ (Ð±ÐµÐ· Ð»Ð¸ÑÐ½Ð¸Ñ ÑÐ»Ð¾Ð²) Ð½ÐµÐ¾Ð±ÑÐ¾Ð´Ð¸Ð¼Ð¾ ÑÐ°ÑÑÑÐ°Ð²Ð¸ÑÑ\r\n                             ÐºÐ°Ð²ÑÑÐºÐ¸ (Ð½Ð°Ð¿ÑÐ¸Ð¼ÐµÑ: \"Ð½Ðµ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ\", Ð±ÐµÐ· ÐºÐ°Ð²ÑÑÐµÐº Ð½Ð°Ð¹Ð´ÐµÑ \"Ð½Ðµ Ð·Ð½Ð°Ñ Ð½Ð°Ð²ÐµÑÐ½Ð¾Ðµ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ\").\r\n                           </li>\r\n                           <li style={{margin: '5px 0'}}>\r\n                             ÐÐ»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° Ð»ÑÐ±Ð¾Ð³Ð¾ ÐºÐ¾Ð»-Ð²Ð° ÑÐ»Ð¾Ð² Ð² ÑÑÐ°Ð·Ðµ, Ð²Ð¼ÐµÑÑÐ¾ Ð¿ÑÐ¾Ð±ÐµÐ»Ð° Ð½ÑÐ¶Ð½Ð¾ Ð¿Ð¾ÑÑÐ°Ð²Ð¸ÑÑ ÑÐ¸Ð¼Ð²Ð¾Ð»\r\n                             ~ (Ð½Ð°Ð¿ÑÐ¸Ð¼ÐµÑ: \"ÑÐµÐ»ÐµÑÐ¾Ð½~Ð·Ð°ÑÐ°Ð±Ð¾ÑÐ°Ð»\" Ð½Ð°Ð¹Ð´ÐµÑ \"ÑÐµÐ»ÐµÑÐ¾Ð½ ÑÐ»Ð¾Ð¼Ð°Ð»ÑÑ,\r\n                             Ð½Ð¸ÑÐµÐ³Ð¾ Ð½Ðµ Ð¿Ð¾ÐºÐ°Ð·ÑÐ²Ð°ÐµÑ, ÑÑÐ¾ Ñ ÑÐ¾Ð»ÑÐºÐ¾ Ð½Ð¸ Ð´ÐµÐ»Ð°Ð» ÑÑÐ¾Ð±Ñ Ð¾Ð½ Ð·Ð°ÑÐ°Ð±Ð¾ÑÐ°Ð»\").\r\n                           </li>\r\n                           <li style={{margin: '5px 0'}}>\r\n                             ÐÐ»Ñ Ð¿ÑÐ¾Ð¿ÑÑÐºÐ° Ð½Ðµ Ð±Ð¾Ð»ÐµÐµ X ÑÐ»Ð¾Ð², Ð½ÑÐ¶Ð½Ð¾ Ð²Ð¼ÐµÑÑÐ¾\r\n                             Ð¿ÑÐ¾Ð±ÐµÐ»Ð° Ð¿Ð¾ÑÑÐ°Ð²Ð¸ÑÑ Ð½Ð¸Ð¶Ð½ÐµÐµ Ð¿Ð¾Ð´ÑÑÑÐºÐ¸Ð²Ð°Ð½Ð¸Ðµ _ ÑÑÐ¾Ð»ÑÐºÐ¾ ÑÐ°Ð·, ÑÐºÐ¾Ð»ÑÐºÐ¾ Ð¼Ð°ÐºÑÐ¸Ð¼ÑÐ¼\r\n                             Ð±ÑÐ´ÐµÑ ÑÐ»Ð¾Ð² (Ð½Ð°Ð¿ÑÐ¸Ð¼ÐµÑ: \"ÑÐ¶Ðµ_ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ\" Ð½Ð°Ð¹Ð´ÐµÑ \"ÑÐ¶Ðµ Ð²ÑÐµ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ\",\r\n                             Ð½Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÑ \"ÑÐ¶Ðµ ÑÐµÐ¿ÐµÑÑ Ð²ÑÐµ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ\").\r\n                           </li>\r\n                           <li style={{margin: '5px 0'}}>\r\n                             Ð¡Ð¸Ð¼Ð²Ð¾Ð» `-` Ð¿ÐµÑÐµÐ´ ÑÐ»Ð¾Ð²Ð¾Ð¼ Ð¾Ð·Ð½Ð°ÑÐ°ÐµÑ\r\n                             ÑÑÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ ÑÐ»Ð¾Ð²Ð° Ð² ÑÑÐ°Ð·Ðµ. (Ð½Ð°Ð¿ÑÐ¸Ð¼ÐµÑ `-Ð½Ðµ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ`\r\n                             Ð±ÑÐ´ÐµÑ Ð½Ð°ÑÐ¾Ð´Ð¸ÑÑ ÑÑÐ°Ð·Ñ Ð³Ð´Ðµ ÐµÑÑÑ ÑÐ»Ð¾Ð²Ð¾ `ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ` Ð½Ð¾ Ð¿ÐµÑÐµÐ´ Ð½Ð¸Ð¼ Ð½ÐµÑ ÑÐ»Ð¾Ð²Ð° `Ð½Ðµ`.\r\n                           </li>\r\n                           <li style={{margin: '5px 0'}}>\r\n                             Ð¡Ð¸Ð¼Ð²Ð¾Ð» `!` Ð¿ÐµÑÐµÐ´ ÑÐ»Ð¾Ð²Ð¾Ð¼ Ð¾Ð·Ð½Ð°ÑÐ°ÐµÑ\r\n                             ÑÑÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ ÑÐ»Ð¾Ð²Ð° Ð² ÐÐ®ÐÐÐ ÑÐ°ÑÑÐ¸ Ð² ÑÑÐ°Ð·Ðµ.\r\n                             (Ð½Ð°Ð¿ÑÐ¸Ð¼ÐµÑ `!Ð¿Ð»Ð¾ÑÐ¾ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ` Ð½Ðµ ÑÑÐ°Ð±Ð¾ÑÐ°ÐµÑ Ð½Ð° ÑÑÐ°Ð·Ðµ `ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ Ð¾ÑÐµÐ½Ñ Ð¿Ð»Ð¾ÑÐ¾`).\r\n                           </li>\r\n                           <li style={{margin: '5px 0'}}>\r\n                             ÐÐ¾Ð¶Ð½Ð¾ ÑÐºÐ°Ð·ÑÐ²Ð°ÑÑ Ð½ÐµÑÐºÐ¾Ð»ÑÐºÐ¾ ÑÐ»Ð¾Ð² ÑÐµÑÐµÐ· ÑÐ»ÐµÑ `/`, ÑÐ¾Ð³Ð´Ð° Ð¿Ð¾Ð¸ÑÐºÐ° Ð´ÐµÐ»Ð°ÐµÑÑÑ\r\n                             Ð¿Ð¾ Ð»ÑÐ±Ð¾Ð¼Ñ Ð¸Ñ ÑÐºÐ°Ð·Ð°Ð½Ð½ÑÑ ÑÐ»Ð¾Ð². (Ð½Ð°Ð¿ÑÐ¸Ð¼ÐµÑ:\r\n                             `Ð´Ð¾Ð±ÑÐ¾Ðµ/Ð´Ð¾Ð±ÑÑÐ¹ ÑÑÑÐ¾/Ð´ÐµÐ½Ñ/Ð²ÐµÑÐµÑ` Ð½Ð°Ð¹Ð´ÐµÑ Ð¸ ÑÑÐ°Ð·Ñ\r\n                             `Ð´Ð¾Ð±ÑÐ¾Ðµ ÑÑÑÐ¾`, `Ð´Ð¾Ð±ÑÑÐ¹ Ð´ÐµÐ½Ñ` Ð¸ `Ð´Ð¾Ð±ÑÑÐ¹ Ð²ÐµÑÐµÑ`).\r\n                           </li>\r\n                           <li style={{margin: '5px 0'}}>\r\n                             Ð£ ÑÑÐ°Ð·Ñ ÑÐ»Ð¾Ð²Ð°ÑÑ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐºÐ°Ð·ÑÐ²Ð°ÑÑ `:` Ð¸ ÑÑÐ°Ð·Ñ Ð·Ð°Ð¼ÐµÐ½Ñ, ÑÑÐ°Ð·Ð° Ð·Ð°Ð¼ÐµÐ½Ñ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÐµÑÑÑ Ð´Ð»Ñ\r\n                             ÑÐ»Ð¾Ð²Ð°ÑÑ Ð°Ð²ÑÐ¾Ð·Ð°Ð¼ÐµÐ½Ñ, Ð° ÑÐ°Ðº Ð¶Ðµ Ð¿ÑÐ¸ Ð¿ÑÐ¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ Ð¿ÑÐ°Ð²Ð»Ð° ÑÐµÐ³Ð¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ. Ð Ð¿ÑÐ°Ð²Ð¸Ð»Ðµ ÑÐµÐ³Ð¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ\r\n                             Ð² Ð·Ð½Ð°ÑÐµÐ½Ð¸Ñ ÑÐµÐ³Ð° Ð±ÑÐ´ÐµÑ Ð¿ÑÐ¾ÑÑÐ°Ð²Ð»ÑÑÑÑÑ Ð·Ð½Ð°ÑÐµÐ½Ð¸Ðµ ÑÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ðµ Ð¿Ð¾ÑÐ»Ðµ `:` Ð° Ð¸ÑÐºÐ°ÑÑ Ð±ÑÐ´ÐµÐ¼ Ð¿Ð¾ ÑÐ¾Ð¼Ñ\r\n                             ÑÑÐ¾ Ð´Ð¾ ':' (Ð½Ð°Ð¿ÑÐ¸Ð¼ÐµÑ ÑÐ´ÐµÐ»Ð°ÐµÐ¼ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð² ÑÐ»Ð¾Ð²Ð°ÑÐµ \"Ð±ÐµÑÐ°:bmw\",\"Ð°ÑÐ´Ð¸:audi\", \"Ð¸ÑÐº 5:bmw\",\r\n                             Ð¸ Ð´ÐµÐ»Ð°ÐµÐ¼ Ð¿ÑÐ°Ð²Ð¸Ð»Ð¾ ÑÐµÐ³Ð¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ ÐºÐ¾ÑÐ¾ÑÐ¾Ðµ Ð¸ÑÐµÑ ÑÑÐ¸ ÑÑÐ°Ð·Ñ, Ð¸ Ð·Ð°Ð¿Ð¾Ð»Ð½ÑÐµÑ ÑÐµÐ³ \"Ð¼Ð°ÑÐºÐ° Ð°Ð²ÑÐ¾Ð¼Ð¾Ð±Ð¸Ð»Ñ\",\r\n                             Ð² Ð·Ð½Ð°ÑÐµÐ½Ð¸Ðµ ÑÐµÐ³Ð° Ð±ÑÐ´ÐµÑ Ð¿ÑÐ¾ÑÑÐ°Ð²Ð»ÐµÐ½Ð¾ audi Ð¸Ð»Ð¸ bmw).\r\n                           </li>\r\n                         </ul>\r\n                       </div>\r\n                     }\r\n                     placement=\"left\"\r\n                   >\r\n                     <div><InfoCircleActive/></div>\r\n                   </Tooltip>\r\n                 </div>\r\n               }\r\n        >\r\n          <textarea\r\n            className={classes.ddTextarea}\r\n            disabled={!currentDict.group}\r\n            onChange={formik.handleChange}\r\n            value={formik.values.phrases}\r\n            name=\"phrases\"\r\n          />\r\n        </Field>\r\n\r\n        <div style={{marginTop: '45px'}}>\r\n\r\n          <div style={{display: 'flex', justifyContent: \"space-between\", alignItems: 'center'}}>\r\n            <div>\r\n              <Typography className={classes.rulesText}>{translate(\"rulesName_dictDetail\", language)}</Typography>\r\n\r\n              {/* Checkbox block */}\r\n              <div style={{margin: '18px 0 24px 0'}}>\r\n                <div style={{display: 'flex', alignItems: 'center', marginBottom: '12px'}}>\r\n                  <Checkbox\r\n                    disabled={!currentDict.group}\r\n                    style={{marginRight: '8px'}}\r\n                  />\r\n                  <Typography>{translate(\"autocorrectDict_dictDetail\", language)}</Typography>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div style={{display: 'flex', alignItems: 'center'}}>\r\n              <LoadingButton\r\n                type={\"submit\"}\r\n                style={{marginRight: '24px'}}\r\n                variant={\"contained\"}\r\n                loading={submitLoading}\r\n                disabled={!currentDict.group}\r\n              >\r\n                {translate(\"saveButton_dictDetail\", language)}\r\n              </LoadingButton>\r\n              <div style={{width: '40px', height: '40px'}}>\r\n                {currentDict.allowedActions.length > 0 &&\r\n                <CustomControlSelect\r\n                  disabled={!currentDict}\r\n                  optionsPosition={\"top\"}\r\n                  options={createSelectOptions()}\r\n                  svg={'horizontal'}\r\n                  handleSelectChange={async (e) => {\r\n                    if (e.value === 'delete') {\r\n                      handleMWOpen();\r\n                    } else if (e.value === 'clone' && currentGroup) {\r\n                      setSnackbar({type: 'loading', value: true, text: 'ÐÐ°Ð³ÑÑÐ·ÐºÐ°...', time: null})\r\n                      await dispatch(dictActions({\r\n                        dictId: currentDict.id,\r\n                        action: 'clone'\r\n                      }));\r\n\r\n                      const dictsData = await dispatch(getDicts({group: currentGroup.group}))\r\n                      // @ts-ignore\r\n                      const dicts: DictType[] = dictsData.payload;\r\n                      await dispatch(getDict(dicts[0].id))\r\n                      dispatch(dictsSlice.actions.setSearch(`?group=${currentGroup.group}&id=${dicts[0].id}`))\r\n                      history.location.pathname = '/';\r\n                      history.replace(`${language}/${userId}/markuprules/dictionaries?group=${currentGroup.group}&id=${dicts[0].id}`)\r\n                      setSnackbar({type: 'loading', value: false, text: 'ÐÐ°Ð³ÑÑÐ·ÐºÐ°...', time: null})\r\n                      setSnackbar({type: 'success', value: true, text: 'Ð¡Ð»Ð¾Ð²Ð°ÑÑ ÑÐºÐ»Ð¾Ð½Ð¸ÑÐ¾Ð²Ð°Ð½', time: 2000})\r\n                    }\r\n                  }}\r\n                />\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n\r\n      {snackbar.value &&\r\n      <Snackbar\r\n        type={snackbar.type}\r\n        open={snackbar.value}\r\n        onClose={() => {\r\n          setSnackbar({...snackbar, value: false})\r\n        }}\r\n        text={snackbar.text}\r\n        time={snackbar.time}\r\n      />\r\n      }\r\n\r\n\r\n      {/* modal window */}\r\n      <ModalWindow\r\n        isMWOpen={deleteDictMWIsOpen}\r\n        handleMWClose={handleMWClose}\r\n        text={\"ÐÑ ÑÐ²ÐµÑÐµÐ½Ñ, ÑÑÐ¾ ÑÐ¾ÑÐ¸ÑÐµ ÑÐ´Ð°Ð»Ð¸ÑÑ ÑÐ»Ð¾Ð²Ð°ÑÑ?\"}\r\n      >\r\n        <Field label={''}>{currentDict.title}</Field>\r\n        <div style={{display: 'flex', marginTop: '10px'}}>\r\n          <LoadingButton\r\n            loading={deleteLoading}\r\n            style={{marginRight: '15px'}}\r\n            variant=\"contained\"\r\n            color=\"error\"\r\n            onClick={dictHandleDelete}\r\n          >\r\n            {translate(\"sendButton\", language)}\r\n          </LoadingButton>\r\n          <LoadingButton\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            onClick={handleMWClose}\r\n          >\r\n            {translate(\"cancelButton\", language)}\r\n          </LoadingButton>\r\n        </div>\r\n      </ModalWindow>\r\n\r\n    </BlockBox>\r\n  );\r\n};\r\n\r\nexport default DictDetailsStubMiddleware;\r\n","import React, {useEffect, useState} from 'react';\r\nimport ModalWindow from \"../../../components/common/ModalWindowBox\";\r\nimport Groups from \"../../../components/MarkupRules/Groups/Groups\";\r\nimport Items from \"../../../components/MarkupRules/Items/Items\";\r\nimport DictDetails from \"./DictsDetail\";\r\nimport {MarkupRulesButtons, SearchInput} from \"../MarkupRules\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\nimport {dictsSlice, getDict, getDicts, getGroups, postDict} from \"../../../store/dicts/dicts.slice\";\r\nimport {DictType, GroupType} from \"../../../store/dicts/dicts.types\";\r\nimport {LoadingButton} from \"@mui/lab\";\r\nimport Snackbar from \"../../../components/common/Snackbar\";\r\nimport {useFormik} from \"formik\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {Input} from \"../../../components/common\";\r\nimport {RootState} from \"../../../store/store\";\r\nimport {translate} from \"../../../localizations\";\r\nimport queryString from 'query-string';\r\nimport {tagsSlice} from \"../../../store/tags/tags.slice\";\r\nimport {langSlice} from \"../../../store/lang/lang.slice\";\r\n\r\nexport function createQueryString(queryObj: any) {\r\n  let str = '';\r\n  for (let key in queryObj) {\r\n    str += `&${key}=${queryObj[key]}`;\r\n  }\r\n  if (str.length > 1) {\r\n    const output = str.slice(1);\r\n    return `?${output}`\r\n  }\r\n  return \"\";\r\n}\r\n\r\nconst DictsPage = () => {\r\n  // STYLES BLOCK\r\n  const useDictsStyles = makeStyles(({\r\n    // dp - dicts page\r\n    dpContainer: {\r\n      width: '100%',\r\n      height: '810px',\r\n      margin: '40px 10px 60px 10px',\r\n      display: 'flex'\r\n    },\r\n\r\n    // left block\r\n    dpLeftBlock: {\r\n      width: '58%',\r\n      marginRight: '2%',\r\n      display: 'flex',\r\n    },\r\n    dpLeftBlockGroups: {\r\n      width: '50%',\r\n      backgroundColor: '#fff',\r\n      borderTopLeftRadius: \"10px\",\r\n      borderBottomLeftRadius: \"10px\"\r\n    },\r\n\r\n    dpLeftBlockDicts: {\r\n      paddingTop: '26px',\r\n      overflow: 'hidden',\r\n      width: '50%',\r\n      backgroundColor: '#F8FAFC',\r\n      borderTopRightRadius: \"10px\",\r\n      borderBottomRightRadius: \"10px\",\r\n    },\r\n\r\n    dpBothBox: {\r\n      marginTop: '24px',\r\n      height: '700px',\r\n      overflow: 'hidden',\r\n      overflowY: 'auto',\r\n      borderRadius: '5px',\r\n\r\n      '&::-webkit-scrollbar': {\r\n        paddingTop: '4px',\r\n        width: '4px',\r\n        outline: 'none',\r\n        background: '#CDD5DF'\r\n      },\r\n      '&::-webkit-scrollbar-thumb': {\r\n        background: '#A3AEBE',\r\n        height: '50px',\r\n      },\r\n      '&::-webkit-scrollbar-thumb:hover': {\r\n        background: '#9298A1'\r\n      }\r\n    },\r\n\r\n    // right block\r\n    dpRightBlock: {\r\n      width: '40%',\r\n    },\r\n\r\n    MWTitle: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      marginBottom: '25px'\r\n    },\r\n    MWTitleText: {\r\n      fontWeight: '700 !important'\r\n    },\r\n    MWButtons: {\r\n      marginTop: '15px',\r\n      textAlign: 'right'\r\n    },\r\n    MWInput: {\r\n      width: '100%',\r\n      height: '20px',\r\n      '&:input': {\r\n        padding: '0'\r\n      }\r\n    }\r\n  }));\r\n\r\n  // LOGIC BLOCK\r\n  const classes = useDictsStyles();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const dicts = useAppSelector(state => state.dicts.dicts);\r\n  const currentGroup = useAppSelector(state => state.dicts.currentGroup);\r\n  const currentDict = useAppSelector(state => state.dicts.currentDict);\r\n  const search = useAppSelector(state => state.dicts.search);\r\n\r\n\r\n  function searchStringParserInObj(initialString: string) {\r\n    const searchString = initialString.slice(1);\r\n    const searchStringArray = searchString.split(\"&\");\r\n\r\n    let output: any = {};\r\n    for (let i = 0; i < searchStringArray.length; i++) {\r\n      const query = queryString.parse(searchStringArray[i]);\r\n      output = {...output, ...query}\r\n    }\r\n    return output;\r\n  }\r\n\r\n  async function queryByParameters(search: string) {\r\n    const searchParamsObject = searchStringParserInObj(search);\r\n    const groupsData = await dispatch(getGroups());\r\n    // @ts-ignore\r\n    const groups: GroupType[] = groupsData.payload;\r\n\r\n    const searchParams = searchStringParserInObj(search);\r\n\r\n    // @ts-ignore\r\n    const currentGroupLocal = groups.find(item => {\r\n      if (item) {\r\n        return item.group === searchParams.group\r\n      }\r\n    });\r\n    if (currentGroupLocal && currentGroup && currentGroupLocal.group !== currentGroup.group) {\r\n      dispatch(dictsSlice.actions.setEmptyDicts(null));\r\n    }\r\n    dispatch(dictsSlice.actions.setCurrentDict(null));\r\n\r\n    let dicts = null\r\n    if (currentGroupLocal && searchParamsObject.search) {\r\n      dispatch(dictsSlice.actions.setCurrentGroup(currentGroupLocal));\r\n      const dictsData = await dispatch(getDicts({group: currentGroupLocal.group, filter: searchParamsObject.search}));\r\n      // @ts-ignore\r\n      dicts = dictsData.payload;\r\n    }\r\n    if (currentGroupLocal && !searchParamsObject.search) {\r\n      dispatch(dictsSlice.actions.setCurrentGroup(currentGroupLocal));\r\n      dispatch(tagsSlice.actions.setSearchInput(\"\"));\r\n      const dictsData = await dispatch(getDicts({group: currentGroupLocal.group}));\r\n      // @ts-ignore\r\n      dicts = dictsData.payload;\r\n    }\r\n    if (dicts) {\r\n      if (dicts.find((item: any) => item.id === searchParamsObject.id)) {\r\n        await dispatch(getDict(searchParams.id));\r\n      } else {\r\n        dispatch(dictsSlice.actions.setCurrentDict(false));\r\n      }\r\n    }\r\n  }\r\n\r\n  const userIdData = useAppSelector(state => state.users.currentUser?.id);\r\n  const userId = userIdData ? userIdData : \"_\";\r\n\r\n\r\n  // Ð¿ÐµÑÐ²ÑÐ¹ ÑÐµÐ½Ð´Ð¸ÑÐ¸Ð½Ð³\r\n  const getStartDictsData = async () => {\r\n    const searchParams = createQueryString(queryString.parse(search));\r\n    const groupsData = await dispatch(getGroups());\r\n    // @ts-ignore\r\n    const groups: GroupType[] = groupsData.payload;\r\n\r\n    if (searchParams.length < 2) {\r\n      dispatch(dictsSlice.actions.setCurrentGroup(groups[0]));\r\n      const dictsData = await dispatch(getDicts({group: groups[0].group}));\r\n      // @ts-ignore\r\n      const dicts: DictType[] = dictsData.payload;\r\n      dispatch(dictsSlice.actions.setSearch(`?group=${groups[0].group}&id=${dicts[0].id}`));\r\n      history.location.pathname = '/';\r\n      history.replace(`${language}/${userId}/markuprules/dictionaries?group=${groups[0].group}&id=${dicts[0].id}`)\r\n      if (!currentDict) {\r\n        await dispatch(getDict(dicts[0].id));\r\n      }\r\n    } else {\r\n      queryByParameters(search);\r\n      history.location.pathname = '/';\r\n      let newSearch = search;\r\n      if (search[0] !== '?') {\r\n        newSearch = `?${search}`;\r\n      }\r\n      history.replace(`${language}/${userId}/markuprules/dictionaries${newSearch}`);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return history.listen((location) => {\r\n      const currentSearch = createQueryString(queryString.parse(location.search));\r\n      let oldSearchConverted = createQueryString(queryString.parse(search));\r\n      if (oldSearchConverted[0] !== '?') {\r\n        oldSearchConverted = `?${search}`\r\n      }\r\n      debugger\r\n      if (currentSearch !== oldSearchConverted) {\r\n        queryByParameters(location.search);\r\n      }\r\n    });\r\n  }, [search]);\r\n\r\n\r\n  useEffect(() => {\r\n    getStartDictsData().then();\r\n    dispatch(langSlice.actions.setLoading(false));\r\n  }, []);\r\n\r\n\r\n  const dictHandleAddSubmit = async (e: any) => {\r\n    if (currentGroup) {\r\n      setAddButtonLoading(true);\r\n      // @ts-ignore\r\n      const newDictIdData = await dispatch(postDict({\r\n        title: e.dictName,\r\n        owner: null,\r\n        sttAutoReplace: null,\r\n        enabled: true,\r\n        group: e.groupName,\r\n        usedRules: [],\r\n        allowedUsers: [],\r\n        phrases: []\r\n      }))\r\n      // @ts-ignore\r\n      const newDictId = newDictIdData.payload;\r\n      const groupsData = await dispatch(getGroups());\r\n      // @ts-ignore\r\n      const group = groupsData.payload.filter((item) => item.group === e.groupName)[0];\r\n      dispatch(dictsSlice.actions.setCurrentGroup(group))\r\n      await dispatch(getDicts({group: e.groupName}));\r\n      await dispatch(getDict(newDictId));\r\n      setSuccessSnackbarOpen(true);\r\n      setAddButtonLoading(false);\r\n      setAddDictMWIsOpen(false);\r\n      formik.values.dictName = '';\r\n      formik.values.groupName = '';\r\n    }\r\n  };\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      dictName: '',\r\n      groupName: ''\r\n    },\r\n    onSubmit(e) {\r\n      dictHandleAddSubmit(e).then()\r\n    }\r\n  });\r\n\r\n\r\n  // modal window(MW) Ð¾ÑÐºÑÑÑÐ¸Ðµ/Ð·Ð°ÐºÑÑÑÐ¸Ðµ.\r\n  const [addDictMWIsOpen, setAddDictMWIsOpen] = useState<boolean>(false);\r\n  const handleMWOpen = () => {\r\n    setAddDictMWIsOpen(true);\r\n  };\r\n  const handleMWClose = () => {\r\n    setAddDictMWIsOpen(false);\r\n  };\r\n  const [addButtonLoading, setAddButtonLoading] = useState<boolean>(false);\r\n\r\n  const [isErrorSnackbarOpen, setErrorSnackbarOpen] = useState<boolean>(false);\r\n  const [isSuccessSnackbarOpen, setSuccessSnackbarOpen] = useState<boolean>(false);\r\n\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n\r\n  return (\r\n    <div className={classes.dpContainer}>\r\n      <div className={classes.dpLeftBlock}>\r\n        <div className={classes.dpLeftBlockGroups}>\r\n          {/* local url handler */}\r\n          <MarkupRulesButtons/>\r\n\r\n          {currentGroup &&\r\n          <Snackbar\r\n            type={'success'}\r\n            open={isSuccessSnackbarOpen}\r\n            onClose={() => {\r\n              setSuccessSnackbarOpen(false)\r\n            }}\r\n            text={`Ð¡Ð»Ð¾Ð²Ð°ÑÑ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½`}\r\n            time={2000}\r\n          />}\r\n\r\n          {/* groups */}\r\n          <div className={classes.dpBothBox}>\r\n            <Groups/>\r\n          </div>\r\n        </div>\r\n\r\n        {/* dicts */}\r\n        <div className={classes.dpLeftBlockDicts}>\r\n          <SearchInput\r\n            onSubmit={async (values: any) => {\r\n              const searchObj = searchStringParserInObj(history.location.search);\r\n              debugger\r\n              dispatch(dictsSlice.actions.setEmptyDicts(null));\r\n              dispatch(dictsSlice.actions.setCurrentDict(null));\r\n              const dictsData = await dispatch(getDicts({group: searchObj.group, filter: values.search}));\r\n              // @ts-ignore\r\n              const dicts: DictType[] = dictsData.payload;\r\n              if (dicts.length < 1) {\r\n                await dispatch(dictsSlice.actions.setCurrentDict(false));\r\n              } else {\r\n                await dispatch(getDict(dicts[0].id));\r\n              }\r\n            }}\r\n            handleMWOpen={handleMWOpen}/>\r\n          <Snackbar\r\n            type={'error'}\r\n            open={isErrorSnackbarOpen}\r\n            onClose={() => {\r\n              setErrorSnackbarOpen(false)\r\n            }}\r\n            text={'Ð ÑÑÑ Ð³ÑÑÐ¿Ð¿Ñ Ð½ÐµÐ»ÑÐ·Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ»Ð¾Ð²Ð°ÑÑ'}\r\n            time={2000}\r\n          />\r\n\r\n          <div className={classes.dpBothBox}>\r\n            <Items\r\n              items={dicts}\r\n              currentItem={currentDict}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* detail */}\r\n      <div className={classes.dpRightBlock}>\r\n        <DictDetails/>\r\n      </div>\r\n\r\n      {/* modal window */}\r\n      <ModalWindow\r\n        isMWOpen={addDictMWIsOpen}\r\n        handleMWClose={handleMWClose}\r\n        width={'400px'}\r\n        text={\"ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð¸Ð¼Ñ ÑÐ»Ð¾Ð²Ð°ÑÑ Ð¸ Ð³ÑÑÐ¿Ð¿Ñ\"}\r\n      >\r\n\r\n        <form onSubmit={formik.handleSubmit}>\r\n          <Input\r\n            height={'36px'}\r\n            value={formik.values.dictName}\r\n            handleChange={formik.handleChange}\r\n            name={'dictName'}\r\n            type={'text'}\r\n            bcColor={'#F8FAFC'}\r\n            label={'Ð¡Ð»Ð¾Ð²Ð°ÑÑ'}\r\n          />\r\n          <div style={{marginTop: '20px'}}>\r\n            <Input\r\n              height={'36px'}\r\n              value={formik.values.groupName}\r\n              handleChange={formik.handleChange}\r\n              name={'groupName'}\r\n              type={'text'}\r\n              bcColor={'#F8FAFC'}\r\n              label={'ÐÑÑÐ¿Ð¿Ð°'}\r\n            />\r\n          </div>\r\n\r\n          <div className={classes.MWButtons}>\r\n            <LoadingButton\r\n              loading={addButtonLoading}\r\n              style={{marginRight: '15px'}}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              type=\"submit\"\r\n            >\r\n              {translate(\"sendButton\", language)}\r\n            </LoadingButton>\r\n            <LoadingButton\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={handleMWClose}\r\n            >\r\n              {translate(\"cancelButton\", language)}\r\n            </LoadingButton>\r\n          </div>\r\n        </form>\r\n      </ModalWindow>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DictsPage;","import {makeStyles} from \"@mui/styles\";\r\n\r\nexport const useTagDetailsStyles = makeStyles(({\r\n  tdWrapper: {\r\n    height: '100%',\r\n    padding: '24px'\r\n  },\r\n  tdNameAdnPriority: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    width: '100%'\r\n  },\r\n  tdTagNameInput: {\r\n    width: '100%',\r\n    border: ''\r\n  },\r\n  tdPriorityInput: {\r\n    '& input': {\r\n      textAlign: 'center'\r\n    },\r\n    \"& input[type=number]::-webkit-inner-spin-button\": {\r\n      \"-webkit-appearance\": \"none\"\r\n    }\r\n  },\r\n  typographyTitle: {\r\n    color: '#2F3747 !important',\r\n    fontWeight: '700 !important',\r\n    fontSize: '16px !important',\r\n    margin: '15px 0 !important'\r\n  },\r\n  typographyTitleMini: {\r\n    color: '#738094 !important',\r\n    fontWeight: '700 !important',\r\n    fontSize: '11px !important'\r\n  },\r\n  typographyTitleMiniTwo: {\r\n    marginBottom: '10px !important',\r\n    color: '#738094 !important',\r\n    fontWeight: '700 !important',\r\n    fontSize: '13px !important'\r\n  },\r\n  typographyTitleMiniThree: {\r\n    color: '#738094 !important',\r\n    fontWeight: '700 !important',\r\n    fontSize: '13px !important'\r\n  }\r\n}));\r\n","import React from \"react\";\r\n\r\nexport const InfoSvg = (props: any) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8ZM8.91429 4.34286C8.91429 4.8478 8.50496 5.25714 8 5.25714C7.49504 5.25714 7.08571 4.8478 7.08571 4.34286C7.08571 3.83792 7.49504 3.42857 8 3.42857C8.50496 3.42857 8.91429 3.83792 8.91429 4.34286ZM8 6.85714C8.3787 6.85714 8.68571 7.16416 8.68571 7.54286V12.1143C8.68571 12.493 8.3787 12.8 8 12.8C7.6213 12.8 7.31429 12.493 7.31429 12.1143V7.54286C7.31429 7.16416 7.6213 6.85714 8 6.85714Z\" fill=\"#722ED1\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const WarningSvg = (props: any) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" fill={props.fill ? props.fill : \"#FAAD14\"} {...props}>\r\n      <path d=\"M8 1C4.13438 1 1 4.13438 1 8C1 11.8656 4.13438 15 8 15C11.8656 15 15 11.8656 15 8C15 4.13438 11.8656 1 8 1ZM7.5 4.625C7.5 4.55625 7.55625 4.5 7.625 4.5H8.375C8.44375 4.5 8.5 4.55625 8.5 4.625V8.875C8.5 8.94375 8.44375 9 8.375 9H7.625C7.55625 9 7.5 8.94375 7.5 8.875V4.625ZM8 11.5C7.80374 11.496 7.61687 11.4152 7.47948 11.275C7.3421 11.1348 7.26515 10.9463 7.26515 10.75C7.26515 10.5537 7.3421 10.3652 7.47948 10.225C7.61687 10.0848 7.80374 10.004 8 10C8.19626 10.004 8.38313 10.0848 8.52052 10.225C8.6579 10.3652 8.73485 10.5537 8.73485 10.75C8.73485 10.9463 8.6579 11.1348 8.52052 11.275C8.38313 11.4152 8.19626 11.496 8 11.5Z\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const ErrorSvg = (props: any) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"#FF4D4F\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M11.1618 4.83688C11.3896 5.06469 11.3896 5.43406 11.1618 5.66187L5.66187 11.1618C5.43406 11.3896 5.06469 11.3896 4.83688 11.1618C4.60906 10.934 4.60906 10.5646 4.83688 10.3368L10.3368 4.83688C10.5646 4.60906 10.934 4.60906 11.1618 4.83688Z\" fill=\"white\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4.83688 4.83688C5.06469 4.60906 5.43406 4.60906 5.66187 4.83688L11.1618 10.3368C11.3896 10.5646 11.3896 10.934 11.1618 11.1618C10.934 11.3896 10.5646 11.3896 10.3368 11.1618L4.83688 5.66187C4.60906 5.43406 4.60906 5.06469 4.83688 4.83688Z\" fill=\"white\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const SuccessSvg = (props: any) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"#73D13D\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12.0209 5.31295C12.2161 5.50821 12.2161 5.8248 12.0209 6.02006L7.35418 10.6867C7.15892 10.882 6.84238 10.882 6.6471 10.6867L3.98043 8.02004C3.78517 7.82477 3.78517 7.50824 3.98043 7.31297C4.17569 7.1177 4.49228 7.1177 4.68754 7.31297L7.00065 9.62604L11.3138 5.31295C11.5091 5.11769 11.8256 5.11769 12.0209 5.31295Z\" fill=\"white\"/>\r\n    </svg>\r\n  );\r\n};","import React, {FC} from 'react';\r\nimport {Alert, CircularProgress} from \"@mui/material\";\r\nimport {InfoSvg, WarningSvg, ErrorSvg, SuccessSvg} from './Alert.svg';\r\n\r\ntype AlertType = {\r\n  iconType?: 'info' | 'warning' | 'error' | 'loading' | 'success',\r\n  text: string,\r\n\r\n  padding?: string,\r\n  boxShadow?: string,\r\n  width?: string\r\n}\r\n\r\nconst CustomAlert: FC<AlertType> = (\r\n  {\r\n    iconType,\r\n\r\n    text,\r\n    padding,\r\n    boxShadow,\r\n    width,\r\n  }\r\n) => {\r\n  const getIcon = () => {\r\n    if (iconType === 'info') {\r\n      return {\r\n        icon: <InfoSvg/>,\r\n        color: '#0388D1'\r\n      }\r\n    } else if (iconType === 'warning') {\r\n      return {\r\n        icon: <WarningSvg fill={'#fff'}/>,\r\n        color: '#F57C00'\r\n      }\r\n    } else if (iconType === 'error') {\r\n      return {\r\n        icon: <ErrorSvg/>,\r\n        color: '#D32F2F'\r\n      }\r\n    } else if (iconType === 'loading') {\r\n      return {\r\n        icon: <CircularProgress style={{width: '16px', height: '16px'}}/>,\r\n        color: '#fff'\r\n      }\r\n    } else if (iconType === 'success') {\r\n      return {\r\n        icon: <SuccessSvg/>,\r\n        color: '#389E0D'\r\n      }\r\n    } else {\r\n      return {\r\n        icon: <div></div>,\r\n        color: '#EBEFF4'\r\n      }\r\n    }\r\n  };\r\n  const alertObject = getIcon();\r\n  return (\r\n    <Alert\r\n      icon={alertObject.icon}\r\n      sx={{\r\n        padding: padding ? padding : '0 10px',\r\n        width: width ? width : 'auto',\r\n        fontSize: '15px',\r\n        backgroundColor: alertObject.color,\r\n        color: iconType ? \"#fff\" : \"#000\",\r\n        boxShadow: boxShadow ? boxShadow : 'none',\r\n        '& .MuiAlert-icon': {\r\n          paddingTop: '10px !important'\r\n        }\r\n      }}\r\n    >\r\n      {text}\r\n    </Alert>\r\n  );\r\n}\r\n\r\nexport default CustomAlert;","import {makeStyles} from \"@mui/styles\";\r\nimport {Theme} from \"@mui/material\";\r\n\r\ntype SelectCustomPropsType = {\r\n  width?: string,\r\n  height?: string\r\n}\r\nexport const useMuiCustomSelectStyles = makeStyles<Theme, SelectCustomPropsType>((theme: Theme) => ({\r\n  selectBox: {\r\n    display: 'flex !important',\r\n    alignItems: 'center',\r\n    cursor: 'pointer',\r\n    width: '100%'\r\n  },\r\n  selectMenuListInput: {\r\n    width: \"228px\",\r\n    margin: '16px 24px',\r\n    outline: 'none',\r\n    backgroundColor: '#F8FAFC',\r\n    border: '1px solid #E3E8EF',\r\n    borderRadius: '5px',\r\n    padding: '10px 30px 10px 12px',\r\n    color: '#738094',\r\n    fontSize: '14px',\r\n    position: 'relative'\r\n  },\r\n  selectMenuListInputIcon: {\r\n    position: 'absolute',\r\n    left: '262px',\r\n    top: '23px',\r\n    color: '#738094',\r\n    width: '11px'\r\n  },\r\n  selectOption: {\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: '5px 24px'\r\n  },\r\n  selectArrow: {\r\n    marginRight: '10px'\r\n  },\r\n  selectArrowOnArrow: {\r\n    marginBottom: '5px'\r\n  },\r\n  selectCheckBox: {\r\n    '&.MuiCheckbox-root': {\r\n      backgroundColor: '#E3E8EF !important'\r\n    }\r\n  },\r\n  selectTag: {\r\n    height: '22px !important',\r\n    cursor: 'pointer !important',\r\n    fontFamily: 'Inter, sans-serif !important',\r\n    border: '2px solid #E9ECEF !important',\r\n    borderRadius: '5px !important',\r\n    margin: '2.5px !important',\r\n    padding: '0 5px',\r\n    backgroundColor: '#E9ECEF !important',\r\n    color: `#000000 !important`,\r\n    fontSize: '12px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  selectSelectBox: {\r\n    position: 'relative',\r\n    minWidth: props => props.width ? props.width : 'auto'\r\n  },\r\n  selectPlaceholder: {\r\n    position: 'absolute',\r\n    left: '11px !important',\r\n    top: '9px !important'\r\n  }\r\n}));\r\n\r\nexport function selectCustomStylesCreator(props: { menuIsOpen: boolean, height?: string }) {\r\n  return {\r\n    menu: (provided: any) => ({\r\n      ...provided,\r\n      width: '322px',\r\n      height: '400px !important',\r\n      overflow: 'hidden',\r\n      overflowY: 'auto',\r\n      zIndex: '1000',\r\n      '&::-webkit-scrollbar': {\r\n        width: '4px',\r\n        backgroundColor: '#f1f1f1',\r\n        outline: 'none',\r\n      },\r\n      '&::-webkit-scrollbar-thumb': {\r\n        background: '#A3AEBE',\r\n        height: '50px',\r\n        borderRadius: '10px'\r\n      },\r\n      '&::-webkit-scrollbar-thumb:hover': {\r\n        background: '#9298A1'\r\n      }\r\n    }),\r\n    option: (provided: any, state: any) => ({\r\n      cursor: 'pointer',\r\n      padding: '10px 24px',\r\n      fontFamily: 'Inter, sans-serif',\r\n      fontSize: '14px',\r\n      backgroundColor: '#ffffff',\r\n      color: '#000',\r\n      \"&:hover\": {\r\n        backgroundColor: '#F8FAFC',\r\n        color: '#722ED1'\r\n      }\r\n    }),\r\n    control: (provided: any, state: any) => ({\r\n      ...provided,\r\n      cursor: 'pointer',\r\n      border: '1px solid #E3E8EF',\r\n      boxShadow: 'none',\r\n      borderColor: props.menuIsOpen ? '#722ED1 !important' : '#E3E8EF !important',\r\n      \"&:hover\": {\r\n        borderColor: '#E3E8EF'\r\n      },\r\n      minHeight: props.height ? props.height : '38px',\r\n      minWidth: '70px',\r\n      borderRadius: '5px',\r\n      backgroundColor: '#F8FAFC'\r\n    }),\r\n    dropdownIndicator: (provided: any) => ({\r\n      ...provided,\r\n      color: '#738094',\r\n      '&:hover': {\r\n        color: '#738094'\r\n      }\r\n    }),\r\n    placeholder: (provided: any) => ({\r\n      ...provided,\r\n      fontSize: '14px',\r\n      color: '#738094',\r\n      fontFamily: 'Inter, sans-serif'\r\n    }),\r\n    indicatorsContainer: (provided: any) => ({\r\n      ...provided,\r\n      '& svg path:hover': {\r\n        fill: 'hsl(0, 0%, 80%)'\r\n      },\r\n      padding: '0'\r\n    }),\r\n    multiValue: (provided: any) => ({\r\n      ...provided,\r\n      height: '24px !important',\r\n      cursor: 'pointer !important',\r\n      fontFamily: 'Inter, sans-serif !important',\r\n      border: '2px solid #E9ECEF !important',\r\n      borderRadius: '5px !important',\r\n      margin: '2.5px !important',\r\n      backgroundColor: '#E9ECEF !important',\r\n      color: `#000000 !important`,\r\n    }),\r\n    multiValueRemove: (provided: any) => ({\r\n      ...provided,\r\n      backgroundColor: '#E9ECEF !important',\r\n    }),\r\n    valueContainer: (provided: any) => ({\r\n      ...provided,\r\n      display: 'flex',\r\n      paddingRight: '20px',\r\n    })\r\n  };\r\n}\r\n\r\n","import {memo} from \"react\";\r\nimport {components} from \"react-select\";\r\nimport cn from \"classnames\";\r\nimport Checkbox from \"../../Checkbox\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport * as React from \"react\";\r\nimport {CrossWithoutBg, OnBottomArrow, OnTopArrow} from \"../../Search/SearchSelect\";\r\nimport {useMuiCustomSelectStyles} from './CustomSelect.jss';\r\n\r\nexport const CustomMultiValueLabel = memo((props: any) => {\r\n  return (\r\n    <components.MultiValueLabel {...props} />\r\n  )\r\n});\r\n\r\nexport const CustomMultiValueRemove = memo((props: any) => {\r\n  return (\r\n    <components.MultiValueRemove {...props}>\r\n      <CrossWithoutBg fill={'000'}/>\r\n    </components.MultiValueRemove>\r\n  )\r\n});\r\n\r\nexport const LimitedChipsContainer = ({children, hasValue, ...props}: any) => {\r\n  const classes = useMuiCustomSelectStyles({});\r\n  if (!hasValue) {\r\n    return (\r\n      <components.ValueContainer {...props}>\r\n        {children}\r\n      </components.ValueContainer>\r\n    );\r\n  }\r\n  let CHIPS_LIMIT = 3;\r\n  const [chips, otherChildren] = children;\r\n  if (chips.length > CHIPS_LIMIT) {\r\n    CHIPS_LIMIT = 1;\r\n  }\r\n  const overflowCounter = chips.slice(CHIPS_LIMIT).length;\r\n  const displayChips = chips.slice(overflowCounter, overflowCounter + CHIPS_LIMIT);\r\n  return (\r\n    <components.ValueContainer {...props}>\r\n      {displayChips}\r\n      {overflowCounter > 0 &&\r\n      <div className={classes.selectTag}>\r\n        +{overflowCounter}\r\n      </div>}\r\n    </components.ValueContainer>\r\n  );\r\n};\r\n\r\nexport const CustomInd = memo((props: any) => {\r\n  const classes = useMuiCustomSelectStyles({});\r\n  if (props.menuIsOpen) {\r\n    return <components.DropdownIndicator {...props}>\r\n      <div className={cn(classes.selectArrowOnArrow, classes.selectArrow)}>\r\n        <OnTopArrow/>\r\n      </div>\r\n    </components.DropdownIndicator>\r\n  }\r\n  return <OnBottomArrow className={classes.selectArrow}/>\r\n});\r\n\r\nexport const CustomOption = memo((props: any) => {\r\n  const classes = useMuiCustomSelectStyles({});\r\n  if (props.children.length > 0) {\r\n    return <div>\r\n      <components.Option {...props} className={classes.selectOption}>\r\n        {props.children}\r\n        {/*<Checkbox*/}\r\n        {/*  disableRipple*/}\r\n        {/*  checked={props.activeCriteria.values.indexOf(props.children) >= 0}*/}\r\n        {/*/>*/}\r\n      </components.Option>\r\n    </div>\r\n  }\r\n  return null;\r\n})\r\n\r\n\r\nexport const CustomMenuList = memo(({selectProps, ...props}: any) => {\r\n  const {onInputChange, inputValue, onMenuInputFocus} = selectProps;\r\n  const classes = useMuiCustomSelectStyles({})\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <input\r\n          className={classes.selectMenuListInput}\r\n          autoCorrect=\"off\"\r\n          autoComplete=\"off\"\r\n          spellCheck=\"false\"\r\n          type=\"text\"\r\n          value={inputValue}\r\n          onChange={(e) =>\r\n            onInputChange(e.currentTarget.value, {\r\n              action: \"input-change\"\r\n            })\r\n          }\r\n          onMouseDown={(e) => {\r\n            e.stopPropagation();\r\n            // @ts-ignore\r\n            e.target.focus();\r\n          }}\r\n          onTouchEnd={(e) => {\r\n            e.stopPropagation();\r\n            // @ts-ignore\r\n            e.target.focus();\r\n          }}\r\n          onFocus={onMenuInputFocus}\r\n          placeholder=\"ÐÐ¾Ð¸ÑÐº\"\r\n        />\r\n        <SearchIcon className={classes.selectMenuListInputIcon}/>\r\n      </div>\r\n      <div style={{height: '400px !important'}}>\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import React, {FC, useEffect, useState} from 'react';\r\nimport {selectCustomStylesCreator, useMuiCustomSelectStyles} from \"./CustomSelect.jss\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport Select from \"react-select\";\r\nimport {Typography} from \"@mui/material\";\r\nimport {\r\n  CustomInd,\r\n  CustomMenuList,\r\n  CustomMultiValueLabel,\r\n  CustomMultiValueRemove,\r\n  CustomOption,\r\n  LimitedChipsContainer\r\n} from './CustomSelect.components';\r\n\r\nconst CrossSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"#738094\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M11.1618 4.83785C11.3896 5.06567 11.3896 5.43503 11.1618 5.66285L5.66187 11.1628C5.43406 11.3906 5.06469 11.3906 4.83688 11.1628C4.60906 10.935 4.60906 10.5656 4.83688 10.3378L10.3368 4.83785C10.5646 4.61004 10.934 4.61004 11.1618 4.83785Z\"\r\n            fill=\"white\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M4.83688 4.83785C5.06469 4.61004 5.43406 4.61004 5.66187 4.83785L11.1618 10.3378C11.3896 10.5656 11.3896 10.935 11.1618 11.1628C10.934 11.3906 10.5646 11.3906 10.3368 11.1628L4.83688 5.66285C4.60906 5.43503 4.60906 5.06567 4.83688 4.83785Z\"\r\n            fill=\"white\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\ntype OptionType = {\r\n  label: string,\r\n  value: any\r\n};\r\n\r\ntype CustomSelect = {\r\n  // Ð·Ð½Ð°ÑÐµÐ½Ð¸Ðµ\r\n  value: OptionType[] | any,\r\n  // Ð²ÑÐµ Ð¿ÑÐµÐ´Ð»Ð¾Ð³Ð°ÐµÐ¼ÑÐµ Ð·Ð½Ð°ÑÐµÐ½Ð¸Ñ\r\n  options: OptionType[],\r\n  // ÑÐ¸Ð¿ ÑÐµÐ»ÐµÐºÑÐ°\r\n  selectType: string,\r\n  // Ð¿Ð¾Ð»Ðµ Ð¿Ð¾ ÑÐ¼Ð¾Ð»ÑÐ°Ð½Ð¸Ñ?\r\n  isDefaultField: boolean,\r\n\r\n  // Ð¿ÑÐ¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ Ð·Ð½Ð°ÑÐµÐ½Ð¸Ð¹ ÑÐµÐ»ÐµÐºÑÐ°\r\n  valueHandler: (event: any) => void,\r\n  // ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð²ÑÐµÐ³Ð¾ Ð¿Ð¾Ð»Ñ\r\n  removeSelectHandler?: (event: any) => void,\r\n\r\n  // Ð¸ÐºÐ¾Ð½ÐºÐ° ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ñ (Ð¿Ð¾ Ð´ÐµÑÐ¾Ð»ÑÑ ÐºÑÐµÑÑÐ¸Ðº Ñ Ð±ÑÐºÐ³ÑÐ°ÑÐ½Ð´Ð¾Ð¼)\r\n  deleteIcon?: React.ReactElement,\r\n\r\n  // ÑÑÐ¸Ð»Ð¸\r\n  width?: string,\r\n  height?: string\r\n}\r\n\r\nconst CustomSelect: FC<CustomSelect> = (\r\n  {\r\n    value,\r\n    options,\r\n    selectType,\r\n\r\n    valueHandler,\r\n    isDefaultField,\r\n    deleteIcon,\r\n    removeSelectHandler,\r\n    width,\r\n    height\r\n  }\r\n) => {\r\n  // styles\r\n  const classes = useMuiCustomSelectStyles({width: width});\r\n\r\n\r\n  // logic block\r\n  // LOGIC BLOCK\r\n  // Ð´Ð¸ÑÐ¿Ð°ÑÑ\r\n  // Ð¾ÑÐºÑÑÑÐµ Ð¸ Ð·Ð°ÐºÑÑÑÐ¸Ðµ Ð¼ÐµÐ½ÑÑÐºÐ¸.\r\n  const [menuIsOpen, setMenuIsOpen] = useState<boolean>(false);\r\n\r\n  // ÐºÐ¾ÑÑÑÐ»ÐµÑÐµÐº Ð´Ð»Ñ Ð·Ð°Ð³ÑÑÑÐ¸Ñ ÑÐµÐ»ÐµÐºÑÐ¾Ð²\r\n  useEffect(() => {\r\n    document.addEventListener(\"mousedown\", () => setMenuIsOpen(false));\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", () => setMenuIsOpen(false));\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.selectBox}>\r\n      {selectType === \"multiString\" ?\r\n        <div className={classes.selectSelectBox} onClick={() => setMenuIsOpen(true)}>\r\n          <CreatableSelect\r\n            closeMenuOnSelect={false}\r\n            isMulti\r\n            createOptionPosition={'first'}\r\n            styles={selectCustomStylesCreator({menuIsOpen: menuIsOpen, height: height})}\r\n            formatCreateLabel={(str) => str}\r\n            value={value}\r\n            onChange={valueHandler}\r\n            tabIndex={0}\r\n            isValidNewOption={(str) => true}\r\n            options={options}\r\n            hideSelectedOptions={false}\r\n            components={{\r\n              MenuList: CustomMenuList,\r\n              Option: CustomOption,\r\n              // @ts-ignore\r\n              DropdownIndicator: CustomInd,\r\n              IndicatorSeparator: () => null,\r\n              MultiValueLabel: CustomMultiValueLabel,\r\n              MultiValueRemove: CustomMultiValueRemove,\r\n            }}\r\n            placeholder={'ÐÑÐµ'}\r\n            menuIsOpen={menuIsOpen}\r\n\r\n          />\r\n        </div> :\r\n        <div className={classes.selectSelectBox} onClick={() => setMenuIsOpen(true)}>\r\n          <Select\r\n            openMenuOnFocus={true}\r\n            menuIsOpen={menuIsOpen}\r\n            className={classes.selectItem}\r\n            name=\"color\"\r\n            placeholder={'ÐÑÐµ'}\r\n            components={{\r\n              MenuList: CustomMenuList,\r\n              Option: CustomOption,\r\n              DropdownIndicator: CustomInd,\r\n              IndicatorSeparator: () => null,\r\n              MultiValueLabel: CustomMultiValueLabel,\r\n              MultiValueRemove: CustomMultiValueRemove,\r\n              ValueContainer: LimitedChipsContainer,\r\n            }}\r\n            onChange={valueHandler}\r\n            isClearable={true}\r\n            closeMenuOnSelect={false}\r\n            styles={selectCustomStylesCreator({menuIsOpen: menuIsOpen})}\r\n            isMulti\r\n            isSearchable={false}\r\n            value={value}\r\n            options={options}\r\n            hideSelectedOptions={false}\r\n          />\r\n          {value.length < 1 &&\r\n          <Typography className={classes.selectPlaceholder}>ÐÑÐµ</Typography>\r\n          }\r\n        </div>\r\n      }\r\n      {!isDefaultField\r\n        ?\r\n        <div onClick={removeSelectHandler}>\r\n          {deleteIcon ?\r\n            deleteIcon :\r\n            <CrossSvg style={{cursor: 'pointer', marginLeft: '8px'}}/>\r\n          }\r\n        </div>\r\n        : null\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomSelect;\r\n","import React, {useEffect, useState, FC} from 'react';\r\nimport {IconButton, InputBase, Typography} from \"@mui/material\";\r\nimport {BlockBox} from \"../../../../components/common\";\r\nimport Field from \"../../../../components/common/FIeld\";\r\nimport TextSelect from \"../../../../components/common/Selects/TextSelect/TextSelect\";\r\nimport {useTagDetailsStyles} from './TagDetails.jss';\r\nimport {useAppSelector} from \"../../../../hooks/redux\";\r\nimport {\r\n  getAllGlobalTagFilters,\r\n  getTagGroups,\r\n  getTags,\r\n  getTag,\r\n  tagsActions,\r\n  tagsSlice,\r\n  updateTag, deleteTag\r\n} from \"../../../../store/tags/tags.slice\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport Alert from \"../../../../components/common/Alert/Alert\";\r\nimport CustomSelect from \"../../../../components/common/Selects/CustomSelect/CustomSelect\";\r\nimport ContainedSelect from \"../../../../components/common/Selects/ContainedSelect\";\r\nimport CustomCheckbox from \"../../../../components/common/Checkbox\";\r\nimport {useFormik} from \"formik\";\r\nimport Checkbox from \"../../../../components/common/Checkbox\";\r\nimport {PlusSvg, TrashSvg} from \"./TagDetails.svg\";\r\nimport Preloader from '../../../../assets/loading.svg';\r\nimport {LoadingButton} from \"@mui/lab\";\r\nimport {translate} from \"../../../../localizations\";\r\nimport {RootState} from \"../../../../store/store\";\r\nimport cloneDeep from \"lodash.clonedeep\";\r\nimport Snackbar, {SnackbarType} from \"../../../../components/common/Snackbar\";\r\nimport noResultsPng from \"../../../../assets/images/no-results.png\";\r\nimport CustomControlSelect from \"../../../../components/common/Selects/CustomControlSelect\";\r\nimport {GroupType} from \"../../../../store/dicts/dicts.types\";\r\nimport Switch from \"../../../../components/common/Switch\";\r\nimport ModalWindow from \"../../../../components/common/ModalWindowBox\";\r\nimport {TagGroupType, TagType} from \"../../../../store/tags/tags.types\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nexport const AddButton: FC<{ onClick?: () => void }> = ({onClick, children}) => {\r\n  const classes = useTagDetailsStyles();\r\n  return (\r\n    <div onClick={onClick} style={{display: 'flex', alignItems: 'center', marginTop: '20px', cursor: 'pointer'}}>\r\n      <PlusSvg style={{marginRight: '10px'}}/>\r\n      <Typography className={classes.typographyTitleMiniThree}>{children}</Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TagDetails: FC = () => {\r\n  const classes = useTagDetailsStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const currentTag = useAppSelector(state => state.tags.currentTag);\r\n  const allGlobalFilterCriterias = useAppSelector(state => state.tags.allGlobalFilterCriterias);\r\n  const activeGlobalFilterCriterias = useAppSelector(state => state.tags.activeGlobalFilterCriterias);\r\n  const defaultGlobalFilterCriterias = useAppSelector(state => state.tags.defaultGlobalFilterCriterias);\r\n  const activeFragments = useAppSelector(state => state.tags.activeFragments);\r\n  const activeSetTags = useAppSelector(state => state.tags.activeSetTags);\r\n  const currentGroup = useAppSelector(state => state.tags.currentTagGroup);\r\n\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllGlobalTagFilters());\r\n  }, []);\r\n\r\n\r\n  // text select\r\n  const handleGlobalFilterSelectClick = () => {\r\n    let state = allGlobalFilterCriterias;\r\n    let localCriterias = []\r\n    if (state && currentTag) {\r\n      const defAcCriterias = [...activeGlobalFilterCriterias, ...currentTag.globalFilter]\r\n      for (let i = 0; i < state.length; i++) {\r\n        if (!defAcCriterias.find((item) => {\r\n          if (state) {\r\n            return item.key === state[i].key\r\n          }\r\n        })) {\r\n          localCriterias.push({value: state[i], label: state[i].title})\r\n        }\r\n      }\r\n      return localCriterias;\r\n    }\r\n    return [];\r\n  }\r\n  const globalFilterOptions = handleGlobalFilterSelectClick();\r\n\r\n\r\n  // global filter select\r\n  // Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð·Ð½Ð°ÑÐµÐ½Ð¸Ñ ÑÐµÐ»ÐµÐºÑÐ°.\r\n  const globalFilterValueHandler = (event: any, isDefault: boolean, criteriaFull: any) => {\r\n    const eventConverter = () => {\r\n      let result = [];\r\n      for (let i = 0; i < event.length; i++) {\r\n        result.push(event[i].value);\r\n      }\r\n      return result;\r\n    };\r\n    const eventConverterResult = eventConverter();\r\n    dispatch(tagsSlice.actions.setActiveGlobalFilterCriteriaValues({\r\n      ...criteriaFull,\r\n      values: [...eventConverterResult]\r\n    }));\r\n  };\r\n  // ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ðµ.\r\n  const removeGlobalFilterField = (event: any, criteriaFull: any) => {\r\n    dispatch(tagsSlice.actions.removeActiveGlobalFilterCriteria(criteriaFull));\r\n  };\r\n\r\n\r\n  const selectConverter = (values: any, defaultValues: any = []) => {\r\n    if (values) {\r\n      let local: { value: any, label: string }[] = [];\r\n      for (let i = 0; i < values.length; i++) {\r\n        // @ts-ignore\r\n        if (!defaultValues.find(item => item === values[i])) {\r\n          local.push({value: values[i], label: values[i]});\r\n        }\r\n      }\r\n      return local;\r\n    }\r\n    return [];\r\n  };\r\n\r\n  const createSelectOptions = () => {\r\n    let result = [];\r\n    if (currentTag) {\r\n      for (let i = 0; i < currentTag.allowedActions.length; i++) {\r\n        // Ð·Ð°ÐºÐ¸Ð½ÑÑÑ translate\r\n        const action = currentTag.allowedActions[i];\r\n        if (action === 'clone') {\r\n          result.push({value: action, label: translate(\"cloneButton_dictDetailSelect\", language)});\r\n        } else if (action === 'delete') {\r\n          result.push({value: action, label: translate(\"deleteButton_dictDetailSelect\", language)});\r\n        } else if (action === 'make_global') {\r\n          result.push({value: action, label: translate(\"makeGlobal_dictDetailSelect\", language)});\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n  const addRuleSelectConverter = (values: any) => {\r\n    if (values) {\r\n      let local: { value: any, label: string }[] = [];\r\n      for (let i = 0; i < values.length; i++) {\r\n        if (values[i].key === 'dicts' || values[i].key === 'phrases') {\r\n          continue\r\n        }\r\n        if (!values[i].visible) {\r\n          local.push({value: values[i], label: values[i].title});\r\n        }\r\n      }\r\n      return local;\r\n    }\r\n    return [];\r\n  };\r\n\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      // Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ, Ð³ÑÑÐ¿Ð¿Ð°, Ð¿ÑÐ¸Ð¾ÑÐ¸ÑÐµÑ.\r\n      name: '',\r\n      group: '',\r\n      priority: '' as string | number\r\n    },\r\n    onSubmit: async (values) => {\r\n    }\r\n  });\r\n\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n\r\n  const [render, setRender] = useState(false);\r\n  useEffect(() => {\r\n    if (currentTag && currentGroup) {\r\n      formik.values.name = currentTag.title;\r\n      formik.values.group = currentTag.group ? currentTag.group : currentGroup.group\r\n      formik.values.priority = currentTag.calculatedRulePriority;\r\n    }\r\n    setRender(!render);\r\n  }, [currentTag]);\r\n\r\n  // snackbars\r\n  const [snackbar, setSnackbar] = useState<{ type: SnackbarType, text: string, value: boolean, time: number | null }>({\r\n    type: 'success',\r\n    text: '',\r\n    value: false,\r\n    time: null\r\n  });\r\n\r\n\r\n  const userIdData = useAppSelector(state => state.users.currentUser?.id);\r\n  const userId = userIdData ? userIdData : \"_\";\r\n  // ${language}/${userId}/\r\n\r\n  async function onClickSaveButton() {\r\n    setLoading(true);\r\n\r\n    // global filters convert\r\n    const globalFiltersForRequest = [];\r\n    for (let i = 0; i < activeGlobalFilterCriterias.length; i++) {\r\n      globalFiltersForRequest.push({\r\n        key: activeGlobalFilterCriterias[i].key,\r\n        values: activeGlobalFilterCriterias[i].values\r\n      })\r\n    }\r\n\r\n    // Ð±ÑÐºÐ° Ð° Ð½Ðµ ÐºÐ¾Ð´\r\n    // fragments convert\r\n    let fragmentsForRequest: any = [];\r\n    for (let i = 0; i < activeFragments.length; i++) {\r\n      fragmentsForRequest.push({});\r\n      const fragment = activeFragments[i];\r\n      for (let ii = 0; ii < fragment.length; ii++) {\r\n        if (fragment[ii].key === 'phrasesAndDicts') {\r\n          fragmentsForRequest[i][fragment[ii].key] = [];\r\n          if (fragment[ii].value) {\r\n            for (let iii = 0; iii < fragment[ii].value.length; iii++) {\r\n              let array: any = cloneDeep(fragmentsForRequest[i][fragment[ii].key]);\r\n              array.push(fragment[ii].value[iii].value);\r\n              fragmentsForRequest[i][fragment[ii].key] = array;\r\n            }\r\n          } else {\r\n            debugger\r\n          }\r\n        } else {\r\n          fragmentsForRequest[i][fragment[ii].key] = fragment[ii].value.value;\r\n        }\r\n      }\r\n    }\r\n    // set tags\r\n    // Ð¿Ð¾ÐºÐ° Ð½Ðµ Ð½ÑÐ¶Ð½Ð° ÐºÐ¾Ð½Ð²ÐµÑÑÐ°ÑÐ¸Ñ. Ð¿Ð¾ÐºÐ°.\r\n    await dispatch(updateTag({\r\n      ...currentTag,\r\n      title: formik.values.name,\r\n      group: formik.values.group,\r\n      rulePriority: formik.values.priority,\r\n      globalFilter: globalFiltersForRequest,\r\n      fragmentRules: fragmentsForRequest,\r\n      setTags: activeSetTags\r\n    }));\r\n\r\n    setLoading(false);\r\n    setSnackbar({\r\n      type: 'success',\r\n      value: true,\r\n      time: 2000,\r\n      text: 'Ð¢ÐµÐ³ Ð¾Ð±Ð½Ð°Ð²Ð»ÐµÐ½'\r\n    })\r\n  }\r\n\r\n  const [deleteMWIsOpen, setDeleteMWIsOpen] = useState(false);\r\n  const [buttonLoading, setButtonLoading] = useState(false);\r\n\r\n  function handleDeleteMWOpen() {\r\n    setDeleteMWIsOpen(true);\r\n  }\r\n\r\n  function handleDeleteMWClose() {\r\n    setDeleteMWIsOpen(false);\r\n  }\r\n\r\n\r\n  if (!currentTag) {\r\n    return (\r\n      <BlockBox padding={'0'} height={'100%'}>\r\n        <div style={{position: 'relative', height: '100%'}}>\r\n          {currentTag === null && (\r\n            <div style={{position: 'absolute', top: '30%', left: '32%'}}>\r\n              <img src={Preloader} alt=\"\"/>\r\n            </div>\r\n          )}\r\n          {currentTag === false && (\r\n            <div style={{textAlign: 'center', paddingTop: '150px'}}>\r\n              <img src={noResultsPng} alt=\"\"/>\r\n            </div>\r\n          )}\r\n          {currentTag === undefined && (\r\n            <div></div>\r\n          )}\r\n        </div>\r\n      </BlockBox>\r\n    );\r\n  }\r\n\r\n\r\n  return (\r\n    <BlockBox padding={'0'} height={'auto'}>\r\n      <div className={classes.tdWrapper}>\r\n\r\n        {/* Ð¨Ð°Ð¿ÐºÐ° */}\r\n        <div>\r\n          <div className={classes.tdNameAdnPriority}>\r\n            {/* ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ ÑÐµÐ³Ð° */}\r\n            <Field\r\n              margin={'0 5% 15px 0'}\r\n              label={\"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ ÑÐµÐ³Ð°\"}\r\n              width={\"100%\"}\r\n            >\r\n              <InputBase\r\n                value={formik.values.name}\r\n                onChange={formik.handleChange}\r\n                name={\"name\"}\r\n\r\n                className={classes.tdTagNameInput}\r\n                type=\"text\"\r\n              />\r\n            </Field>\r\n            {/* ÐÑÐ¸Ð¾ÑÐ¸ÑÐµÑ */}\r\n            <Field\r\n              label={\"ÐÑÐ¸Ð¾ÑÐ¸ÑÐµÑ\"}\r\n              width={'11%'}\r\n              padding={\"3px 0 3px 0\"}\r\n            >\r\n              <InputBase\r\n                value={formik.values.priority}\r\n                onChange={formik.handleChange}\r\n                name={\"priority\"}\r\n\r\n                className={classes.tdPriorityInput}\r\n                type=\"number\"\r\n              />\r\n            </Field>\r\n          </div>\r\n          {/* ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð³ÑÑÐ¿Ð¿Ñ */}\r\n          <Field\r\n            label={\"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð³ÑÑÐ¿Ð¿Ñ ÑÐµÐ³Ð°\"}\r\n            margin={'0 0 15px 0'}\r\n            width={\"84%\"}\r\n          >\r\n            <InputBase\r\n              value={formik.values.group}\r\n              onChange={formik.handleChange}\r\n              name={\"group\"}\r\n\r\n              className={classes.tdTagNameInput}\r\n              type=\"text\"\r\n            />\r\n          </Field>\r\n        </div>\r\n\r\n        {/* ÐÐ»Ð¾Ð±Ð°Ð»ÑÐ½ÑÐµ ÑÐ¸Ð»ÑÑÑÑ */}\r\n        <div style={{width: '100%', margin: '30px 0'}}>\r\n          <Typography className={classes.typographyTitle}>ÐÐ»Ð¾Ð±Ð°Ð»ÑÐ½ÑÐµ Ð½Ð°ÑÑÑÐ¾Ð¹ÐºÐ¸ ÑÐµÐ³Ð°</Typography>\r\n          <div>\r\n            <div>\r\n              <div>\r\n                {defaultGlobalFilterCriterias.length > 0 &&\r\n                defaultGlobalFilterCriterias.map((currentCriteria) => {\r\n                  const isDefault = true;\r\n                  const criteriaFull = allGlobalFilterCriterias.find((fullCriteria) => {\r\n                    return currentCriteria.key === fullCriteria.key;\r\n                  });\r\n                  if (criteriaFull) {\r\n                    return (\r\n                      <div>\r\n                        <Typography className={classes.typographyTitleMini}>{criteriaFull.title}</Typography>\r\n                        <div style={{display: 'flex'}}>\r\n                          <CustomSelect\r\n                            value={selectConverter(currentCriteria.values)}\r\n                            options={selectConverter(criteriaFull.values, currentCriteria.values)}\r\n                            selectType={criteriaFull.selectType}\r\n\r\n                            valueHandler={(event) => globalFilterValueHandler(event, isDefault, criteriaFull)}\r\n\r\n                            isDefaultField={isDefault}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  }\r\n                })}\r\n              </div>\r\n              <div>\r\n                {activeGlobalFilterCriterias.map((currentCriteria) => {\r\n                  const isDefault = false;\r\n                  const criteriaFull = allGlobalFilterCriterias.find((fullCriteria) => {\r\n                    return currentCriteria.key === fullCriteria.key;\r\n                  });\r\n                  if (criteriaFull) {\r\n                    return (\r\n                      <div>\r\n                        <Typography className={classes.typographyTitleMini}>{currentCriteria.title}</Typography>\r\n\r\n                        <CustomSelect\r\n                          value={selectConverter(currentCriteria.values)}\r\n                          options={selectConverter(criteriaFull.values, currentCriteria.values)}\r\n                          selectType={criteriaFull.selectType}\r\n\r\n                          valueHandler={(event) => globalFilterValueHandler(event, isDefault, criteriaFull)}\r\n                          removeSelectHandler={(event: any) => removeGlobalFilterField(event, criteriaFull)}\r\n\r\n                          deleteIcon={<TrashSvg style={{cursor: 'pointer', marginLeft: '8px'}}/>}\r\n\r\n                          isDefaultField={isDefault}\r\n\r\n                          width={'60%'}\r\n                        />\r\n\r\n                      </div>\r\n                    )\r\n                  }\r\n                })}\r\n                {activeGlobalFilterCriterias.length < 1 && defaultGlobalFilterCriterias.length < 1 &&\r\n                <Alert\r\n                  width={'84%'}\r\n                  text={'Ð£ ÑÑÐ¾Ð³Ð¾ ÑÐµÐ³Ð° Ð½ÐµÑ Ð³Ð»Ð¾Ð±Ð°Ð»ÑÐ½ÑÑ ÑÐ¸Ð»ÑÑÑÐ¾Ð²'}\r\n                />\r\n                }\r\n                <div style={{marginTop: '19px'}}>\r\n                  <TextSelect\r\n                    value={null}\r\n                    handleValueChange={(event: any) => {\r\n                      dispatch(tagsSlice.actions.setActiveGlobalFilterCriteria({...event.value, values: []}));\r\n                    }}\r\n                    options={globalFilterOptions}\r\n                    iconPosition={'left'}\r\n                    height={'300px'}\r\n                    icon={<PlusSvg style={{marginRight: '10px'}}/>}\r\n                    customControl={\r\n                      <div style={{display: 'flex', alignItems: 'center'}}>\r\n                        <Typography className={classes.typographyTitleMiniTwo}>ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ¸Ð»ÑÑÑ</Typography>\r\n                      </div>\r\n                    }\r\n                    menuPosition={'left'}\r\n                    name={'tagsGlobalSelect'}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Ð¤ÑÐ°Ð³Ð¼ÐµÐ½ÑÑ */}\r\n        <div>\r\n          <Typography className={classes.typographyTitle}>ÐÑÐ°Ð²Ð¸Ð»Ð¾ Ð½Ð° ÑÑÐ°Ð³Ð¼ÐµÐ½ÑÑ</Typography>\r\n          <div>\r\n            <div>\r\n              <div>\r\n                {activeFragments.length > 0 ?\r\n                  <>\r\n                    {activeFragments.map((displayFragment) => {\r\n                      const arrayIndex = activeFragments.indexOf(displayFragment);\r\n                      return (\r\n                        <div\r\n                          style={{width: '100%', display: 'flex', borderBottom: '1px solid #E3E8EF', margin: '10px 0'}}>\r\n                          <div style={{width: '84%'}}>\r\n                            {displayFragment.map((fragmentField) => {\r\n                              const fragmentFieldIndex = displayFragment.indexOf(fragmentField);\r\n                              if (fragmentField.visible) {\r\n                                return (\r\n                                  <div style={{width: '100%', marginBottom: '15px'}}>\r\n                                    {\r\n                                      (fragmentField.selectType === 'multiValue' &&\r\n                                        <div style={{width: '100%'}}>\r\n                                          <Typography\r\n                                            className={classes.typographyTitleMiniTwo}>{fragmentField.title}</Typography>\r\n                                          <div style={{display: 'flex', alignItems: 'center'}}>\r\n                                            <ContainedSelect\r\n                                              width={'100%'}\r\n                                              height={'35px'}\r\n                                              onSelectChange={(event: any) => {\r\n                                                dispatch(tagsSlice.actions.setFragmentFieldValue({\r\n                                                  arrayIndex: arrayIndex,\r\n                                                  fieldIndex: fragmentFieldIndex,\r\n                                                  value: event\r\n                                                }));\r\n                                              }}\r\n                                              // @ts-ignore\r\n                                              options={fragmentField.options}\r\n                                              value={fragmentField.value}\r\n                                            />\r\n                                          </div>\r\n\r\n                                        </div>\r\n                                      ) ||\r\n                                      (fragmentField.selectType === 'multiString' &&\r\n                                        <div style={{width: '100%'}}>\r\n                                          <Typography\r\n                                            className={classes.typographyTitleMiniTwo}>{fragmentField.title}</Typography>\r\n                                          <CustomSelect\r\n                                            value={fragmentField.value}\r\n                                            width={\"100%\"} height={\"35px\"}\r\n                                            // @ts-ignore\r\n                                            options={fragmentField.options}\r\n                                            selectType={fragmentField.selectType}\r\n                                            isDefaultField={false}\r\n                                            valueHandler={(event: any) => {\r\n                                              dispatch(tagsSlice.actions.setFragmentFieldValue({\r\n                                                arrayIndex: arrayIndex,\r\n                                                fieldIndex: fragmentFieldIndex,\r\n                                                value: event\r\n                                              }));\r\n                                            }}\r\n                                            removeSelectHandler={(event: any) => {\r\n                                              dispatch(tagsSlice.actions.setFragmentField({\r\n                                                index: arrayIndex,\r\n                                                value: fragmentField,\r\n                                                visible: false\r\n                                              }))\r\n                                            }}\r\n                                            deleteIcon={<></>}\r\n                                          />\r\n                                        </div>\r\n                                      ) ||\r\n                                      (fragmentField.selectType === 'checkbox' &&\r\n                                        <div style={{\r\n                                          width: '100%',\r\n                                          marginTop: '10px'\r\n                                        }}>\r\n                                          <div style={{display: 'flex'}}>\r\n                                            <CustomCheckbox\r\n                                              style={{marginRight: '10px'}}\r\n                                              onClick={(event) => {\r\n                                                dispatch(tagsSlice.actions.setFragmentFieldValue({\r\n                                                  arrayIndex: arrayIndex,\r\n                                                  fieldIndex: fragmentFieldIndex,\r\n                                                  // @ts-ignore\r\n                                                  value: {value: event.target.checked, label: 'check'}\r\n                                                }));\r\n                                              }}\r\n                                              checked={fragmentField.value.value}\r\n                                            />\r\n                                            <Typography\r\n                                              className={classes.typographyTitleMiniThree}>{fragmentField.title}</Typography>\r\n                                          </div>\r\n                                        </div>\r\n                                      ) ||\r\n                                      (fragmentField.selectType === 'input' &&\r\n                                        <div style={{display: 'flex', alignItems: 'center', width: '100%'}}>\r\n                                          <Field\r\n                                            label={fragmentField.title}\r\n                                            width={\"100%\"}\r\n                                          >\r\n                                            <InputBase\r\n                                              onChange={(event: any) => {\r\n                                                dispatch(tagsSlice.actions.setFragmentFieldValue({\r\n                                                  arrayIndex: arrayIndex,\r\n                                                  fieldIndex: fragmentFieldIndex,\r\n                                                  value: {value: event.target.value, label: event.target.value}\r\n                                                }));\r\n                                              }}\r\n                                              className={classes.tdTagNameInput}\r\n                                              type=\"text\"\r\n                                              value={fragmentField.value.value}\r\n                                            />\r\n                                          </Field>\r\n                                        </div>\r\n                                      )\r\n                                    }\r\n                                  </div>\r\n                                )\r\n                              }\r\n                            })}\r\n                            <TextSelect\r\n                              value={null}\r\n                              handleValueChange={(event: any) => {\r\n                                dispatch(tagsSlice.actions.setFragmentField({\r\n                                  index: activeFragments.indexOf(displayFragment),\r\n                                  value: event.value,\r\n                                  visible: true\r\n                                }));\r\n                              }}\r\n                              options={addRuleSelectConverter(displayFragment)}\r\n                              iconPosition={'left'}\r\n                              height={'300px'}\r\n                              icon={<PlusSvg\r\n                                style={{marginRight: '10px', width: '12px', height: '12px', marginTop: '-3px'}}/>}\r\n                              customControl={\r\n                                <div style={{display: 'flex', alignItems: 'center', margin: '5px 0 10px 0'}}>\r\n                                  <Typography className={classes.typographyTitleMini}>\r\n                                    ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½Ð¾Ðµ ÑÑÐ»Ð¾Ð²Ð¸Ðµ\r\n                                  </Typography>\r\n                                </div>\r\n                              }\r\n                              menuPosition={'left'}\r\n                              name={'tagsGlobalSelect'}\r\n                            />\r\n                          </div>\r\n                          <IconButton style={{cursor: 'pointer', height: '100%', marginLeft: '7%'}}>\r\n                            <TrashSvg\r\n                              style={{width: '25px', height: '25px'}}\r\n                              onClick={() => {\r\n                                dispatch(tagsSlice.actions.removeFragment(arrayIndex));\r\n                              }}\r\n                            />\r\n                          </IconButton>\r\n                        </div>\r\n                      )\r\n                    })}\r\n                  </>\r\n                  :\r\n                  <Alert\r\n                    width={'84%'}\r\n                    text={'Ð£ ÑÑÐ¾Ð³Ð¾ ÑÐµÐ³Ð° Ð½ÐµÑ ÑÑÐ°Ð³Ð¼ÐµÐ½ÑÐ¾Ð²'}\r\n                  />\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <AddButton\r\n              onClick={() => {\r\n                if (currentTag) {\r\n                  dispatch(tagsSlice.actions.setFragment(null))\r\n                }\r\n              }}\r\n            >\r\n              ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÑÐ°Ð³Ð¼ÐµÐ½Ñ\r\n            </AddButton>\r\n          </div>\r\n        </div>\r\n\r\n        {/* ÐÐ½ÑÑÑÐµÐ½Ð½Ð¸Ðµ ÑÐµÐ³Ð¸*/}\r\n        <div style={{margin: '30px 0'}}>\r\n          <Typography className={classes.typographyTitle}>Ð¢ÐµÐ³Ð¸</Typography>\r\n          <div>\r\n            <div>\r\n              {activeSetTags.length > 0 ? activeSetTags.map(tag => {\r\n                  const setTagIndex = activeSetTags.indexOf(tag);\r\n                  return (\r\n                    <div style={{\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      padding: '10px 0 20px 0',\r\n                      borderBottom: '1px solid #E3E8EF'\r\n                    }}>\r\n                      <div style={{width: '84%'}}>\r\n                        <div style={{display: 'flex'}}>\r\n                          <Field\r\n                            label={'ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ ÑÐµÐ³Ð°'}\r\n                            width={\"47.5%\"}\r\n                            margin={\"0 5% 0 0\"}\r\n                          >\r\n                            <InputBase\r\n                              onChange={(event: any) => {\r\n                                dispatch(tagsSlice.actions.setSetTagFieldValue({\r\n                                  tagIndex: setTagIndex,\r\n                                  fieldKey: event.target.name,\r\n                                  value: event.target.value\r\n                                }));\r\n                              }}\r\n                              name={'name'}\r\n                              value={tag.name}\r\n                              className={classes.tdTagNameInput}\r\n                              type=\"text\"\r\n                            />\r\n                          </Field>\r\n                          <Field\r\n                            label={'ÐÐ½Ð°ÑÐµÐ½Ð¸Ðµ ÑÐµÐ³Ð°'}\r\n                            width={\"47.5%\"}\r\n                          >\r\n                            <InputBase\r\n                              onChange={(event: any) => {\r\n                                dispatch(tagsSlice.actions.setSetTagFieldValue({\r\n                                  tagIndex: setTagIndex,\r\n                                  fieldKey: event.target.name,\r\n                                  value: event.target.value\r\n                                }));\r\n                              }}\r\n                              name={'value'}\r\n\r\n                              value={tag.value}\r\n                              className={classes.tdTagNameInput}\r\n                              type=\"text\"\r\n                            />\r\n                          </Field>\r\n                        </div>\r\n\r\n                        <div style={{display: 'flex', marginTop: '15px'}}>\r\n                          <Checkbox\r\n                            onClick={(event: any) => {\r\n                              dispatch(tagsSlice.actions.setSetTagFieldValue({\r\n                                tagIndex: setTagIndex,\r\n                                fieldKey: event.target.name,\r\n                                value: event.target.checked\r\n                              }));\r\n                            }}\r\n                            checked={tag.visible}\r\n                            name={'visible'}\r\n                            style={{marginRight: '10px'}}\r\n                          />\r\n                          <Typography className={classes.typographyTitleMini}>Ð¡ÐºÑÑÑÑ</Typography>\r\n                        </div>\r\n                      </div>\r\n                      <IconButton style={{cursor: 'pointer', height: '100%', marginLeft: '7%'}}>\r\n                        <TrashSvg\r\n                          style={{width: '25px', height: '25px'}}\r\n                          onClick={() => {\r\n                            dispatch(tagsSlice.actions.removeSetTag(setTagIndex));\r\n                          }}\r\n                        />\r\n                      </IconButton>\r\n                    </div>\r\n                  )\r\n                }) :\r\n                <Alert\r\n                  width={'84%'}\r\n                  text={'Ð£ ÑÑÐ¾Ð³Ð¾ ÑÐµÐ³Ð° Ð½ÐµÑ Ð¿ÑÐ¸Ð²ÑÐ·Ð°Ð½Ð½ÑÑ ÑÐµÐ³Ð¾Ð²'}\r\n                />\r\n              }\r\n            </div>\r\n            <AddButton\r\n              onClick={() => {\r\n                if (currentTag) {\r\n                  dispatch(tagsSlice.actions.setSetTag(null))\r\n                }\r\n              }}\r\n            >\r\n              ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ³\r\n            </AddButton>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        {/* ÐÐºÑÐ¸Ð²Ð½Ð¾ÑÑÐ¸ */}\r\n        <div>\r\n          <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\r\n\r\n            {/* ÐÐºÑÐ¸Ð²Ð°ÑÐ¸Ñ Ð¸ Ð´ÐµÐ°ÐºÑÐ¸Ð²Ð°ÑÐ¸Ñ ÑÐµÐ³Ð° */}\r\n            {currentTag && currentTag.allowedActions.includes(\"enable\") && currentTag.allowedActions.includes(\"disable\") && (\r\n              <div style={{display: 'flex', alignItems: 'center'}}>\r\n                <Switch\r\n                  onChecked={async (e) => {\r\n                    if (currentGroup) {\r\n                      setSnackbar({type: 'loading', value: true, text: 'ÐÐ°Ð³ÑÑÐ·ÐºÐ°...', time: null})\r\n\r\n                      await dispatch(tagsActions({\r\n                        tagId: currentTag.id,\r\n                        action: currentTag.enabled ? 'disable' : 'enable'\r\n                      }));\r\n                      const groupsData = await dispatch(getTagGroups());\r\n                      // @ts-ignore\r\n                      const groups: TagGroupType[] = groupsData.payload;\r\n                      if (currentGroup.count < 1) {\r\n                        dispatch(tagsSlice.actions.setCurrentTagGroup(groups[0]));\r\n                        const dictsData = await dispatch(getTags({group: groups[0].group}));\r\n                        // @ts-ignore\r\n                        const tags: DictType[] = dictsData.payload;\r\n                        await dispatch(getTag(tags[0].id));\r\n                      } else {\r\n                        const dictsData = await dispatch(getTags({group: currentGroup.group}));\r\n                        // @ts-ignore\r\n                        const tags: DictType[] = dictsData.payload;\r\n                        await dispatch(getTag(currentTag.id))\r\n                        dispatch(tagsSlice.actions.setSearchParams(`?group=${currentGroup.group}&id=${currentTag.id}`))\r\n                        history.location.pathname = '/';\r\n                        history.replace(`${language}/${userId}/markuprules/tags?group=${currentGroup.group}&id=${currentTag.id}`)\r\n                      }\r\n\r\n                      setSnackbar({\r\n                        type: 'success',\r\n                        value: true,\r\n                        text: `Ð¡Ð»Ð¾Ð²Ð°ÑÑ ${currentTag.enabled ? 'Ð²ÑÐºÐ»ÑÑÐµÐ½' : 'Ð²ÐºÐ»ÑÑÑÐ½'}`,\r\n                        time: 1000\r\n                      });\r\n                    }\r\n                  }}\r\n                  checked={currentTag.enabled}\r\n                  disabled={false}\r\n                />\r\n                <Typography style={{fontWeight: '700', marginLeft: '10px'}}>\r\n                  {currentTag.enabled ? 'ÐÐºÐ»' : 'ÐÑÐºÐ»'}\r\n                </Typography>\r\n              </div>\r\n            )}\r\n\r\n            <div style={{display: 'flex', alignItems: 'center'}}>\r\n              <LoadingButton\r\n                type={\"submit\"}\r\n                style={{marginRight: '24px'}}\r\n                variant={\"contained\"}\r\n                loading={loading}\r\n                onClick={onClickSaveButton}\r\n              >\r\n                {translate(\"saveButton_dictDetail\", language)}\r\n              </LoadingButton>\r\n              <div style={{width: '40px', height: '40px'}}>\r\n                <CustomControlSelect\r\n                  disabled={false}\r\n                  optionsPosition={\"top\"}\r\n                  options={createSelectOptions()}\r\n                  svg={'horizontal'}\r\n                  handleSelectChange={async (e) => {\r\n                    if (e.value === 'delete') {\r\n                      handleDeleteMWOpen();\r\n                    } else if (e.value === 'clone' && currentGroup) {\r\n                      setSnackbar({type: 'loading', value: true, text: 'ÐÐ°Ð³ÑÑÐ·ÐºÐ°...', time: null})\r\n                      await dispatch(tagsActions({\r\n                        tagId: currentTag.id,\r\n                        action: 'clone'\r\n                      }));\r\n\r\n                      const groupsData = await dispatch(getTagGroups());\r\n                      // @ts-ignore\r\n                      const groups: GroupType[] = groupsData.payload;\r\n                      dispatch(tagsSlice.actions.setCurrentTagGroup(groups[0]))\r\n                      if (currentGroup.count < 2) {\r\n                        const tagsData = await dispatch(getTags({group: groups[0].group}))\r\n                        // @ts-ignore\r\n                        const tags: TagType[] = tagsData.payload;\r\n                        await dispatch(getTag(tags[0].id))\r\n\r\n                        dispatch(tagsSlice.actions.setSearchParams(`?group=${groups[0].group}&id=${tags[0].id}`));\r\n\r\n                        history.location.pathname = `/`;\r\n                        history.replace(`${language}/${userId}/markuprules/tags?group=${groups[0].group}&id=${tags[0].id}`);\r\n                      } else {\r\n                        const tagsData = await dispatch(getTags({group: currentGroup.group}))\r\n                        // @ts-ignore\r\n                        const tags: TagType[] = tagsData.payload;\r\n                        await dispatch(getTag(tags[0].id))\r\n\r\n                        dispatch(tagsSlice.actions.setSearchParams(`?group=${currentGroup.group}&id=${tags[0].id}`));\r\n\r\n                        history.location.pathname = `/`;\r\n                        history.replace(`${language}/${userId}/markuprules/tags?group=${currentGroup.group}&id=${tags[0].id}`);\r\n                      }\r\n\r\n                      setSnackbar({type: 'loading', value: false, text: 'ÐÐ°Ð³ÑÑÐ·ÐºÐ°...', time: null})\r\n                      setSnackbar({type: 'success', value: true, text: 'Ð¢ÐµÐ³ ÑÐºÐ»Ð¾Ð½Ð¸ÑÐ¾Ð²Ð°Ð½', time: 2000})\r\n                    }\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Ð¡Ð½Ð°ÑÐºÐ±Ð°Ñ */}\r\n          <div>\r\n            {snackbar.value &&\r\n            <Snackbar\r\n              type={snackbar.type}\r\n              open={snackbar.value}\r\n              onClose={() => {\r\n                setSnackbar({value: false, type: 'success', time: null, text: ''})\r\n              }}\r\n              text={snackbar.text}\r\n              time={snackbar.time}\r\n            />\r\n            }\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <ModalWindow\r\n          isMWOpen={deleteMWIsOpen}\r\n          handleMWClose={handleDeleteMWClose}\r\n          text={\"ÐÑ Ð¿ÑÐ°Ð²Ð´Ð° ÑÐ¾ÑÐ¸ÑÐµ ÑÐ´Ð°Ð»Ð¸ÑÑ ÑÑÐ¾Ñ ÑÐµÐ³?\"}\r\n        >\r\n          <div>\r\n            <LoadingButton\r\n              style={{marginRight: '15px'}}\r\n              loading={buttonLoading}\r\n              variant=\"contained\"\r\n              color=\"error\"\r\n              onClick={async () => {\r\n                if (currentGroup) {\r\n                  setButtonLoading(true);\r\n                  await dispatch(deleteTag(currentTag.id));\r\n\r\n                  const groupsData = await dispatch(getTagGroups());\r\n\r\n                  if (currentGroup.count < 2) {\r\n                    // @ts-ignore\r\n                    const groups: GroupType[] = groupsData.payload;\r\n                    dispatch(tagsSlice.actions.setCurrentTagGroup(groups[0]));\r\n                    const tagsData = await dispatch(getTags({group: groups[0].group}));\r\n                    // @ts-ignore\r\n                    const tags: TagType[] = tagsData.payload;\r\n                    await dispatch(getTag(tags[0].id));\r\n\r\n                    dispatch(tagsSlice.actions.setSearchParams(`?group=${groups[0].group}&id=${tags[0].id}`))\r\n                    history.location.pathname = '/';\r\n                    history.replace(`${language}/${userId}/markuprules/tags?group=${groups[0].group}&id=${tags[0].id}`)\r\n                  } else {\r\n                    const tagsDicts = await dispatch(getTags({group: currentGroup.group}));\r\n                    // @ts-ignore\r\n                    const tags: TagType[] = tagsDicts.payload;\r\n                    await dispatch(getTag(tags[0].id));\r\n\r\n                    dispatch(tagsSlice.actions.setSearchParams(`?group=${currentGroup.group}&id=${tags[0].id}`))\r\n                    history.location.pathname = '/';\r\n                    history.replace(`${language}/${userId}/markuprules/tags?group=${currentGroup.group}&id=${tags[0].id}`);\r\n                  }\r\n                  handleDeleteMWClose();\r\n                  // setDeleteDictMWIsOpen(false);\r\n                  setSnackbar({type: \"success\", text: 'Ð¡Ð»Ð¾Ð²Ð°ÑÑ ÑÐ´Ð°Ð»ÐµÐ½', value: true, time: 2000});\r\n                }\r\n                setButtonLoading(false);\r\n              }}\r\n            >\r\n              {translate(\"deleteButton\", language)}\r\n            </LoadingButton>\r\n            <LoadingButton\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n            >\r\n              {translate(\"cancelButton\", language)}\r\n            </LoadingButton>\r\n          </div>\r\n        </ModalWindow>\r\n\r\n      </div>\r\n    </BlockBox>\r\n  )\r\n};\r\n\r\nexport default TagDetails;\r\n","import {makeStyles} from \"@mui/styles\";\r\n\r\nexport const useTagsStyles = makeStyles(({\r\n  // dp - dicts page\r\n  tagsContainer: {\r\n    width: '100%',\r\n    height: '810px',\r\n    margin: '40px 10px',\r\n    display: 'flex'\r\n  },\r\n\r\n  // left block\r\n  dpLeftBlock: {\r\n    width: '58%',\r\n    marginRight: '2%',\r\n    display: 'flex',\r\n  },\r\n  dpLeftBlockGroups: {\r\n    width: '50%',\r\n    backgroundColor: '#fff',\r\n    borderTopLeftRadius: \"10px\",\r\n    borderBottomLeftRadius: \"10px\"\r\n  },\r\n\r\n  dpLeftBlockDicts: {\r\n    paddingTop: '26px',\r\n    overflow: 'hidden',\r\n    width: '50%',\r\n    backgroundColor: '#F8FAFC',\r\n    borderTopRightRadius: \"10px\",\r\n    borderBottomRightRadius: \"10px\",\r\n  },\r\n\r\n  dpBothBox: {\r\n    marginTop: '24px',\r\n    height: '700px',\r\n    overflow: 'hidden',\r\n    overflowY: 'auto',\r\n    borderRadius: '5px',\r\n\r\n    '&::-webkit-scrollbar': {\r\n      paddingTop: '4px',\r\n      width: '4px',\r\n      outline: 'none',\r\n      background: '#CDD5DF'\r\n    },\r\n    '&::-webkit-scrollbar-thumb': {\r\n      background: '#A3AEBE',\r\n      height: '50px',\r\n    },\r\n    '&::-webkit-scrollbar-thumb:hover': {\r\n      background: '#9298A1'\r\n    }\r\n  },\r\n\r\n  // right block\r\n  dpRightBlock: {\r\n    width: '40%',\r\n  },\r\n}));\r\n","import {makeStyles} from \"@mui/styles\";\r\nimport {Theme} from \"@mui/material\";\r\n\r\ntype TagGroupStylesType = {\r\n  isActive: boolean\r\n}\r\n\r\nexport const useTagGroupStyles = makeStyles<Theme, TagGroupStylesType>((theme: Theme) => ({\r\n  groupItem: {\r\n    minHeight: '56px',\r\n    cursor: \"pointer\",\r\n    padding: '24px',\r\n    margin: '0 24px 24px 24px',\r\n    border: '2px solid #fff',\r\n    borderColor: props => props.isActive ? '#AD80E6' : '#ffffff',\r\n    boxShadow: '0px 0px 4px rgba(98, 98, 98, 0.22)',\r\n    borderRadius: '10px',\r\n    transition: '0.1s',\r\n    '&:hover': {\r\n      boxShadow: '0px 0px 4px rgba(98, 98, 98, 0.4)',\r\n    }\r\n  },\r\n  groupTopBlock: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: '10px'\r\n  },\r\n  groupTopBlockText: {\r\n    fontWeight: '700 !important',\r\n    color: '#738094 !important'\r\n  },\r\n\r\n  groupBottomBlock: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center'\r\n  },\r\n  groupBottomBlockText: {\r\n    color: '#000 !important'\r\n  },\r\n  groupBottomBlockRight: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center'\r\n  },\r\n  groupBottomBlockSvg: {\r\n    marginRight: '10px'\r\n  }\r\n}));","import React from \"react\";\r\n\r\nexport const PurpleCircleSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"18\" height=\"18\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <circle cx=\"8\" cy=\"8\" r=\"7.5\" fill=\"white\" stroke=\"#9254DE\"/>\r\n      <circle cx=\"8\" cy=\"8\" r=\"4\" fill=\"#9254DE\"/>\r\n    </svg>\r\n  );\r\n};\r\n","import React, {FC, memo} from \"react\";\r\nimport {Skeleton, Typography} from \"@mui/material\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useTagGroupStyles} from \"./TagGroup.jss\";\r\nimport {TagDetailedType, TagGroupType, TagType} from \"../../../../../store/tags/tags.types\";\r\nimport {PurpleCircleSvg} from \"./TagGroup.svg\";\r\nimport {createNullArray, getTag, getTags, tagsSlice} from \"../../../../../store/tags/tags.slice\";\r\nimport {useAppSelector} from \"../../../../../hooks/redux\";\r\nimport {RootState} from \"../../../../../store/store\";\r\n\r\ntype TagGroupPropsType = {\r\n  group: TagGroupType | null,\r\n  isActive: boolean\r\n};\r\n\r\nconst TagGroup: FC<TagGroupPropsType> = memo(({group, isActive}) => {\r\n  const classes = useTagGroupStyles({isActive});\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n  const userIdData = useAppSelector(state => state.users.currentUser?.id);\r\n  const userId = userIdData ? userIdData : \"_\";\r\n  // ${language}/${userId}/\r\n\r\n  const onTagGroupClick = async () => {\r\n    if (group) {\r\n      dispatch(tagsSlice.actions.setSearchInput(\"\"));\r\n      dispatch(tagsSlice.actions.setTags(createNullArray(20)));\r\n      dispatch(tagsSlice.actions.setCurrentTag(null));\r\n      dispatch(tagsSlice.actions.setActiveGlobalFilterCriterias([]));\r\n      dispatch(tagsSlice.actions.removeFragments(null));\r\n      await dispatch(tagsSlice.actions.removeSetTags(null));\r\n      dispatch(tagsSlice.actions.setCurrentTagGroup(group));\r\n\r\n      const tagsData = await dispatch(getTags({group: group.group}));\r\n      // @ts-ignore\r\n      const tags: TagType[] = tagsData.payload;\r\n      if (tags.length > 0) {\r\n        const dataTag = await dispatch(getTag(tags[0].id));\r\n        // @ts-ignore\r\n        const tag: TagDetailedType = dataTag.payload;\r\n        dispatch(tagsSlice.actions.setSearchParams(`?group=${group.group}&id=${tag.id}`));\r\n        history.location.pathname = `/`;\r\n        history.replace(`${language}/${userId}/markuprules/tags?group=${group.group}&id=${tag.id}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.groupItem} onClick={onTagGroupClick}>\r\n\r\n      <div className={classes.groupTopBlock}>\r\n        {group\r\n          ? <Typography className={classes.groupTopBlockText}>{group.group}</Typography>\r\n          : <Skeleton variant=\"text\" width={250} height={20} />\r\n        }\r\n        {isActive && <PurpleCircleSvg/>}\r\n      </div>\r\n\r\n      <div className={classes.groupBottomBlock}>\r\n        {group\r\n          ? <Typography className={classes.groupBottomBlockText}>{group.count} ÑÐµÐ³Ð¾Ð²</Typography>\r\n          : <Skeleton variant=\"text\" width={80} height={20} />\r\n        }\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default TagGroup;\r\n","import React, {FC} from 'react';\r\nimport {useAppSelector} from \"../../../../hooks/redux\";\r\nimport TagGroup from \"./TagGroup/TagGroup\";\r\n\r\n\r\nconst TagGroups: FC = () => {\r\n  const tagGroups = useAppSelector(state => state.tags.tagGroups);\r\n  const currentGroup = useAppSelector(state => state.tags.currentTagGroup);\r\n\r\n  return (\r\n    <div style={{padding: '5px 0'}}>\r\n      {tagGroups.map((group) => {\r\n        return (\r\n          <TagGroup\r\n            group={group}\r\n            isActive={Boolean(currentGroup && group && group.group === currentGroup.group)}\r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TagGroups;\r\n","import {makeStyles} from \"@mui/styles\";\r\nimport {Theme} from \"@mui/material\";\r\nimport {TagType} from \"../../../../../store/tags/tags.types\";\r\n\r\ntype TagItemStylesType = {\r\n  isActive: boolean,\r\n  tag: TagType | null\r\n}\r\n\r\nexport const useTagItemStyles = makeStyles<Theme, TagItemStylesType>((theme: Theme) => ({\r\n  itemBox: {\r\n    cursor: 'pointer',\r\n    minHeight: '31px',\r\n\r\n    padding: '9px 24px',\r\n    transition: '0.1s',\r\n    backgroundColor: props => props.isActive ? '#F9F0FF' : '#F8FAFC',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    borderRight: '4px solid #FFFFFF',\r\n    borderColor: props => props.isActive ? '#9254DE' : '#F8FAFC',\r\n    '&:hover': {\r\n      borderColor: props => props.isActive ? '#722ED1' : '#F9F0FF',\r\n      backgroundColor: '#F9F0FF'\r\n    },\r\n    '&:hover div': {\r\n      color: \"#722ED1\",\r\n    }\r\n  },\r\n  item: {\r\n    fontWeight: '700',\r\n    color: props => props.isActive ? '#722ED1' : '#2F3747',\r\n    fontSize: '13px',\r\n    fontFamily: 'Inter, sans-serif',\r\n  },\r\n  rule: {\r\n    fontWeight: '700',\r\n    color: props => props.isActive ? '#722ED1' : '#2F3747',\r\n    marginTop: '5px',\r\n    fontSize: '10px',\r\n    fontFamily: 'Inter, sans-serif',\r\n    '&:hover': {\r\n      color: '#002766 !important'\r\n    }\r\n  }\r\n}));","import React, {FC, memo} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Skeleton, Typography} from \"@mui/material\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useTagItemStyles} from \"./TagItem.jss\";\r\nimport {TagType} from \"../../../../../store/tags/tags.types\";\r\nimport {InfoCircle, InfoCircleActive} from \"../../../MarkupRules\";\r\nimport {getTag, tagsSlice} from \"../../../../../store/tags/tags.slice\";\r\nimport {useAppSelector} from \"../../../../../hooks/redux\";\r\nimport {searchStringParserInObj} from \"../../TagPage\";\r\nimport {RootState} from \"../../../../../store/store\";\r\n\r\ntype TagItemPropsType = {\r\n  tag: TagType | null,\r\n  isActive: boolean\r\n};\r\n\r\nconst TagItem: FC<TagItemPropsType> = memo(({tag, isActive}) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const classes = useTagItemStyles({tag, isActive});\r\n  const currentGroup = useAppSelector(state => state.tags.currentTagGroup);\r\n\r\n\r\n  const search = useAppSelector(state => state.tags.searchParams);\r\n  const searchParamsObject = searchStringParserInObj(search);\r\n\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n  const userIdData = useAppSelector(state => state.users.currentUser?.id);\r\n  const userId = userIdData ? userIdData : \"_\";\r\n  // ${language}/${userId}/\r\n\r\n\r\n  async function onTagItemClick() {\r\n    if (!isActive && tag && currentGroup) {\r\n      dispatch(tagsSlice.actions.setCurrentTag(null));\r\n      dispatch(tagsSlice.actions.setActiveGlobalFilterCriterias([]));\r\n      dispatch(tagsSlice.actions.removeFragments(null));\r\n      dispatch(tagsSlice.actions.removeSetTags(null));\r\n      await dispatch(getTag(tag.id));\r\n\r\n      if (searchParamsObject.search) {\r\n        dispatch(tagsSlice.actions.setSearchParams(`?group=${currentGroup.group}&id=${tag.id}&search=${searchParamsObject.search}`));\r\n        history.location.pathname = `/`;\r\n        history.replace(`${language}/${userId}/markuprules/tags?group=${currentGroup.group}&id=${tag.id}&search=${searchParamsObject.search}`);\r\n      } else {\r\n        dispatch(tagsSlice.actions.setSearchParams(`?group=${currentGroup.group}&id=${tag.id}`));\r\n        history.location.pathname = `/`;\r\n        history.replace(`${language}/${userId}/markuprules/tags?group=${currentGroup.group}&id=${tag.id}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.itemBox} onClick={onTagItemClick}>\r\n      <div style={{minWidth: '130px'}}>\r\n        <div className={classes.item}>\r\n          {tag\r\n            ? <>{tag.title}</>\r\n            : <Skeleton variant=\"text\" width={130} height={15}/>\r\n          }\r\n        </div>\r\n      </div>\r\n      <div style={{display: 'flex', alignItems: 'center'}}>\r\n        {isActive ? <InfoCircleActive style={{marginLeft: '30px'}}/> : <InfoCircle style={{marginLeft: '30px'}}/>}\r\n      </div>\r\n    </div>\r\n  )\r\n});\r\n\r\nexport default TagItem;\r\n","import React, {FC} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useAppSelector} from \"../../../../hooks/redux\";\r\nimport {RootState} from \"../../../../store/store\";\r\nimport {translate} from \"../../../../localizations\";\r\nimport TagItem from \"./TagItem/TagItem\";\r\n\r\nconst TagItems: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n  const tags = useAppSelector(state => state.tags.tags);\r\n  const currentTag = useAppSelector(state => state.tags.currentTag);\r\n\r\n  return (\r\n    <div style={{padding: '5px 0'}}>\r\n      {tags && tags.length > 0\r\n        ?\r\n        tags.map((tag) => {\r\n          return (\r\n            <TagItem\r\n              tag={tag}\r\n              isActive={Boolean(currentTag && tag && currentTag.id === tag.id)}\r\n            />\r\n          )\r\n        })\r\n        :\r\n        <div\r\n          style={{\r\n            fontFamily: 'Inter, sans-serif',\r\n            fontWeight: '700',\r\n            fontSize: '16px',\r\n            marginLeft: '24.5px',\r\n\r\n            color: '#738094'\r\n          }}\r\n        >\r\n          {translate('nothingFound_dicts', language)}\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TagItems;\r\n","import React, {Dispatch, FC, useState} from 'react';\r\nimport {IconButton, InputBase, Typography} from \"@mui/material\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport ModalWindow from \"../../../../components/common/ModalWindowBox\";\r\nimport {LoadingButton} from \"@mui/lab\";\r\nimport {translate} from \"../../../../localizations\";\r\nimport {useFormik} from \"formik\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport ContainedSelect from \"../../../../components/common/Selects/ContainedSelect\";\r\nimport {useAppSelector} from \"../../../../hooks/redux\";\r\nimport {RootState} from \"../../../../store/store\";\r\nimport {DirectionOptions, getTag, getTagGroups, getTags, postTag, tagsSlice} from \"../../../../store/tags/tags.slice\";\r\nimport Field from \"../../../../components/common/FIeld\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport Snackbar, {SnackbarType} from \"../../../../components/common/Snackbar\";\r\nimport {dictsSlice, getDict, getDicts, getGroups} from \"../../../../store/dicts/dicts.slice\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {searchStringParserInObj} from \"../TagPage\";\r\n\r\n\r\ntype PostModalWindowType = {\r\n  isOpen: boolean,\r\n  handleMWClose: () => void,\r\n  setSnackbar: any\r\n}\r\n\r\nconst PostModalWindow: FC<PostModalWindowType> = ({isOpen, handleMWClose, setSnackbar}) => {\r\n  const useStyles = makeStyles(({\r\n    MWTitle: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      marginBottom: '25px'\r\n    },\r\n    MWTitleText: {\r\n      fontWeight: '700 !important'\r\n    },\r\n    MWButtons: {\r\n      marginTop: '15px',\r\n      textAlign: 'right'\r\n    },\r\n    MWInput: {\r\n      width: '100%',\r\n      height: '20px',\r\n      '&:input': {\r\n        padding: '0'\r\n      }\r\n    },\r\n    MWTextTitle: {\r\n      cursor: 'default',\r\n      color: '#738094 !important',\r\n      fontWeight: '700 !important',\r\n      fontSize: '13px !important',\r\n      margin: '5px 0 !important'\r\n    }\r\n  }));\r\n\r\n  const classes = useStyles();\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n  const allDicts = useAppSelector(state => state.tags.allGlobalFilterCriterias).find(item => item.key === 'client_text');\r\n  const userId = useAppSelector(state => state.users.currentUser?.id);\r\n\r\n  function dictsConverter() {\r\n    if (allDicts) {\r\n      const result: { value: string, label: string }[] = []\r\n      for (let i = 0; i < allDicts.values.length; i++) {\r\n        result.push({label: allDicts.values[i], value: allDicts.values[i]});\r\n      }\r\n      return result;\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  const convertedDicts = dictsConverter();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  // ÐºÐ¾ÑÑÑÐ»ÑÐ½ÑÐ¹ ÐºÐ¾ÑÑÑÐ»Ñ\r\n  const [render, setRender] = useState<string>('');\r\n  const search = useAppSelector(state => state.tags.searchParams);\r\n  const searchParamsObject = searchStringParserInObj(search);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      howSaid: DirectionOptions[0],\r\n      dict: convertedDicts[0],\r\n      group: ''\r\n    },\r\n    onSubmit: async () => {\r\n      setLoading(true);\r\n      const postTagData = await dispatch(postTag({\r\n        owner: userId,\r\n        title: formik.values.dict.value.slice(9),\r\n        group: formik.values.group,\r\n        rulePriority: 0,\r\n        calculatedRulePriority: 0,\r\n        enabled: true,\r\n        globalFilter: [],\r\n        fragmentRules: [{\r\n          phrasesAndDicts: [],\r\n          phrases: [],\r\n          dicts: [],\r\n          direction: formik.values.howSaid.value,\r\n          fromStart: false,\r\n          silentBefore: '',\r\n          silentAfter: '',\r\n          interruptTime: ''\r\n        }],\r\n        setTags: []\r\n      }));\r\n      // @ts-ignore\r\n      const tagId = postTagData.payload;\r\n\r\n      const groupsData = await dispatch(getTagGroups());\r\n      // @ts-ignore\r\n      const group = groupsData.payload.filter((item) => item.group === formik.values.group)[0];\r\n      dispatch(tagsSlice.actions.setCurrentTagGroup(group))\r\n      await dispatch(getTags({group: formik.values.group}));\r\n      await dispatch(getTag(tagId));\r\n\r\n      handleMWClose();\r\n      setLoading(false);\r\n\r\n      setSnackbar({type: 'success', value: true, time: 2000, text: 'Ð¢ÐµÐ³ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½'});\r\n\r\n      dispatch(tagsSlice.actions.setSearchParams(`?group=${group.group}&id=${tagId}`));\r\n      history.location.pathname = `/`;\r\n      history.replace(`${language}/${userId}/markuprules/tags?group=${group.group}&id=${tagId}`);\r\n      dispatch(tagsSlice.actions.setSearchInput(\"\"));\r\n    }\r\n  })\r\n  return (\r\n    <ModalWindow\r\n      isMWOpen={isOpen} handleMWClose={handleMWClose}\r\n      text={\"ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð±Ð°Ð·Ð¾Ð²ÑÐµ Ð´Ð°Ð½Ð½ÑÐµ ÑÐµÐ³Ð°\"}\r\n      width={'400px'}\r\n    >\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <div style={{marginBottom: '20px'}}>\r\n          <Typography className={classes.MWTextTitle}>\r\n            ÐÑÐ¾ ÑÐºÐ°Ð·Ð°Ð»\r\n          </Typography>\r\n          <ContainedSelect\r\n            width={'100%'}\r\n            onSelectChange={(e: any) => {\r\n              formik.values.howSaid = e;\r\n              setRender(e.value);\r\n            }}\r\n            options={DirectionOptions}\r\n            value={formik.values.howSaid}\r\n          />\r\n        </div>\r\n        <div style={{marginBottom: '20px'}}>\r\n          <Typography className={classes.MWTextTitle}>\r\n            ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ ÑÐ»Ð¾Ð²Ð°ÑÑ\r\n          </Typography>\r\n          <ContainedSelect\r\n            width={'100%'}\r\n            onSelectChange={(e: any) => {\r\n              formik.values.dict = e;\r\n              setRender(e.value);\r\n            }}\r\n            options={convertedDicts}\r\n            value={formik.values.dict}\r\n          />\r\n        </div>\r\n        <div style={{marginBottom: '20px'}}>\r\n          <Field\r\n            margin={'0 0 15px 0'}\r\n            label={\"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð³ÑÑÐ¿Ð¿Ñ\"}\r\n            width={\"100%\"}\r\n          >\r\n            <InputBase\r\n              name={\"group\"}\r\n              type=\"text\"\r\n              value={formik.values.group}\r\n              onChange={formik.handleChange}\r\n            />\r\n          </Field>\r\n        </div>\r\n\r\n        <div className={classes.MWButtons}>\r\n          <LoadingButton\r\n            loading={loading}\r\n            style={{marginRight: '15px'}}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n          >\r\n            {translate(\"sendButton\", language)}\r\n          </LoadingButton>\r\n          <LoadingButton\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            onClick={handleMWClose}\r\n          >\r\n            {translate(\"cancelButton\", language)}\r\n          </LoadingButton>\r\n        </div>\r\n      </form>\r\n\r\n    </ModalWindow>\r\n  );\r\n};\r\n\r\nexport default PostModalWindow;","import React, {useEffect, useState} from 'react';\r\nimport {MarkupRulesButtons, SearchInput} from \"../MarkupRules\";\r\nimport TagDetails from \"./TagDetails/TagDetails\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {createNullArray, getTag, getTagGroups, getTags, tagsSlice} from \"../../../store/tags/tags.slice\";\r\nimport {TagGroupType, TagType} from \"../../../store/tags/tags.types\";\r\nimport {useTagsStyles} from './TagPage.jss';\r\nimport TagGroups from \"./TagGroups/TagGroups\";\r\nimport TagItems from \"./TagItems/TagItems\";\r\nimport {useAppSelector} from \"../../../hooks/redux\";\r\nimport PostModalWindow from \"./TagDetails/PostModalWindow\";\r\nimport Snackbar, {SnackbarType} from \"../../../components/common/Snackbar\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport queryString from \"query-string\";\r\nimport {createQueryString} from \"../Dicts/Dicts\";\r\nimport {langSlice} from \"../../../store/lang/lang.slice\";\r\n\r\nexport function searchStringParserInObj(initialString: string) {\r\n  const searchString = initialString.slice(1);\r\n  const searchStringArray = searchString.split(\"&\");\r\n\r\n  let output: any = {};\r\n  for (let i = 0; i < searchStringArray.length; i++) {\r\n    const query = queryString.parse(searchStringArray[i]);\r\n    output = {...output, ...query}\r\n  }\r\n  return output;\r\n}\r\n\r\n\r\nconst TagPage = () => {\r\n  const classes = useTagsStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const currentGroup = useAppSelector(state => state.tags.currentTagGroup);\r\n  const currentTag = useAppSelector(state => state.tags.currentTag);\r\n  const search = useAppSelector(state => state.tags.searchParams);\r\n\r\n\r\n  // Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¾ÑÐºÑÑÑÐ¸Ñ Ð¼Ð¾Ð´Ð°Ð»ÑÐ½Ð¾ Ð¾ÐºÐ½Ð° (MW - Modal Window).\r\n  const [addDictMWIsOpen, setAddDictMWIsOpen] = useState<boolean>(false);\r\n  const handleMWOpen = () => {\r\n    setAddDictMWIsOpen(true);\r\n  };\r\n  const handleMWClose = () => {\r\n    setAddDictMWIsOpen(false);\r\n  };\r\n\r\n\r\n  // Ð·Ð°Ð¿ÑÐ¾ÑÑ ÑÑÐ°Ð·Ñ Ð¿Ð¾ÑÐ»Ðµ Ð¾ÑÑÐ¸ÑÐ¾Ð²ÐºÐ¸ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÐ°.\r\n  const getStartTagsData = async () => {\r\n    const searchParams = createQueryString(queryString.parse(search));\r\n    // Ð³ÑÑÐ¿Ð¿Ñ.\r\n    const groupsData = await dispatch(getTagGroups())\r\n    // @ts-ignore\r\n    const groups: TagGroupType[] = groupsData.payload;\r\n\r\n    if (searchParams.length < 2) {\r\n      // ÑÑÑÐ°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°Ñ Ð¿ÐµÑÐ²ÑÑ Ð³ÑÑÐ¿Ð¿Ñ ÐºÐ°Ðº ÑÐµÐºÑÑÑÑ.\r\n      const currentGroup = groups[0];\r\n      dispatch(tagsSlice.actions.setCurrentTagGroup(currentGroup));\r\n\r\n      // Ð·Ð°Ð¿ÑÐ°ÑÐ¸Ð²Ð°Ñ ÑÐµÐ³Ð¸ ÑÐµÐºÑÑÐµÐ¹ Ð³ÑÑÐ¿Ð¿Ñ.\r\n      const tagsData = await dispatch(getTags({group: currentGroup.group}));\r\n      // @ts-ignore\r\n      const tags: TagType[] = tagsData.payload;\r\n\r\n      if (!currentTag) {\r\n        // ÑÑÑÐ°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°Ñ Ð¿ÐµÑÐ²ÑÐ¹ ÑÐµÐ³ ÐºÐ°Ðº ÑÐµÐºÑÑÐ¸Ð¹.\r\n        await dispatch(getTag(tags[0].id));\r\n      }\r\n      dispatch(tagsSlice.actions.setSearchParams(`?group=${currentGroup.group}&id=${tags[0].id}`));\r\n      history.location.pathname = '/';\r\n      history.replace(`${language}/${userId}/markuprules/tags?group=${groups[0].group}&id=${tags[0].id}`)\r\n    } else {\r\n      queryByParameters(search);\r\n      history.location.pathname = '/';\r\n      let newSearch = search;\r\n      if (search[0] !== '?') {\r\n        newSearch = `?${search}`;\r\n      }\r\n      history.replace(`${language}/${userId}/markuprules/tags${newSearch}`);\r\n    }\r\n  }\r\n\r\n  const [snackbar, setSnackbar] = useState<{ type: SnackbarType, text: string, value: boolean, time: number | null }>({\r\n    type: 'success',\r\n    text: '',\r\n    value: false,\r\n    time: null\r\n  });\r\n\r\n\r\n  const history = useHistory();\r\n\r\n  const {path} = JSON.parse(localStorage.getItem('path') || '{}');\r\n  let pathArray = [];\r\n  if (path) {\r\n    pathArray = path.split(\"/\");\r\n  }\r\n  const language = pathArray[1];\r\n  const userIdData = useAppSelector(state => state.users.currentUser?.id);\r\n  const userId = userIdData ? userIdData : \"_\";\r\n  // ${language}/${userId}/\r\n\r\n  async function queryByParameters(search: string) {\r\n\r\n    const groupsData = await dispatch(getTagGroups());\r\n    // @ts-ignore\r\n    const groups: TagGroupType[] = groupsData.payload;\r\n\r\n    const searchParamsObject = searchStringParserInObj(search);\r\n\r\n    const currentGroupLocal = groups.find(item => {\r\n      if (item) {\r\n        return item.group === searchParamsObject.group\r\n      }\r\n    });\r\n    if (currentGroupLocal && currentGroup && currentGroupLocal.group !== currentGroup.group) {\r\n      dispatch(tagsSlice.actions.setTags(createNullArray(10)));\r\n    }\r\n    dispatch(tagsSlice.actions.setCurrentTag(null));\r\n\r\n    let tags = null;\r\n\r\n    if (currentGroupLocal && searchParamsObject.search) {\r\n      dispatch(tagsSlice.actions.setCurrentTagGroup(currentGroupLocal));\r\n      const tagsData = await dispatch(getTags({group: currentGroupLocal.group, filter: searchParamsObject.search}));\r\n      // @ts-ignore\r\n      tags = tagsData.payload;\r\n    }\r\n    if (currentGroupLocal && !searchParamsObject.search) {\r\n      dispatch(tagsSlice.actions.setCurrentTagGroup(currentGroupLocal));\r\n      dispatch(tagsSlice.actions.setSearchInput(\"\"));\r\n      const tagsData = await dispatch(getTags({group: currentGroupLocal.group}));\r\n      // @ts-ignore\r\n      tags = tagsData.payload;\r\n    }\r\n    if (tags) {\r\n      if (tags.find((item: any) => item.id === searchParamsObject.id)) {\r\n        await dispatch(getTag(searchParamsObject.id));\r\n      } else {\r\n        dispatch(tagsSlice.actions.setCurrentTag(false));\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    return history.listen((location) => {\r\n      const currentSearch = createQueryString(queryString.parse(location.search));\r\n      let oldSearchConverted = createQueryString(queryString.parse(search));\r\n      if (oldSearchConverted[0] !== '?') {\r\n        oldSearchConverted = `?${search}`\r\n      }\r\n      debugger\r\n      if (currentSearch !== oldSearchConverted) {\r\n        queryByParameters(location.search);\r\n      }\r\n    });\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    getStartTagsData().then();\r\n    dispatch(langSlice.actions.setLoading(false));\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className={classes.tagsContainer}>\r\n      <div className={classes.dpLeftBlock}>\r\n        <div className={classes.dpLeftBlockGroups}>\r\n          {/* local url handler */}\r\n          <MarkupRulesButtons/>\r\n\r\n          {/* groups */}\r\n          <div className={classes.dpBothBox}>\r\n            <TagGroups/>\r\n          </div>\r\n        </div>\r\n\r\n        {/* tags */}\r\n        <div className={classes.dpLeftBlockDicts}>\r\n          <SearchInput\r\n            onSubmit={async (values) => {\r\n              const searchObj = searchStringParserInObj(history.location.search);\r\n              dispatch(tagsSlice.actions.setTags(createNullArray(20)));\r\n              dispatch(tagsSlice.actions.setCurrentTag(null));\r\n              const tagsData = await dispatch(getTags({group: searchObj.group, filter: values.search}));\r\n              // @ts-ignore\r\n              const tags: TagType[] = tagsData.payload;\r\n              if (tags.length < 1) {\r\n                await dispatch(tagsSlice.actions.setCurrentTag(false));\r\n              } else {\r\n                await dispatch(getTag(tags[0].id));\r\n              }\r\n            }}\r\n            handleMWOpen={() => {\r\n              setAddDictMWIsOpen(true);\r\n            }}\r\n          />\r\n          <div className={classes.dpBothBox}>\r\n            <TagItems/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* detail */}\r\n      <div className={classes.dpRightBlock}>\r\n        <TagDetails/>\r\n      </div>\r\n\r\n      <PostModalWindow\r\n        setSnackbar={setSnackbar}\r\n        isOpen={addDictMWIsOpen}\r\n        handleMWClose={handleMWClose}\r\n      />\r\n\r\n      {snackbar.value &&\r\n      <Snackbar\r\n        type={snackbar.type}\r\n        open={snackbar.value}\r\n        onClose={() => {\r\n          setSnackbar({...snackbar, value: false})\r\n        }}\r\n        text={snackbar.text}\r\n        time={snackbar.time}\r\n      />\r\n      }\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TagPage;","import React from 'react';\r\nimport {Typography} from \"@mui/material\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {BlockBox} from \"../../../components/common\";\r\n\r\nconst ChecklistsDetail = () => {\r\n  const useStyles = makeStyles(({\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <BlockBox padding={'0 15px'} width={'100%'}>\r\n\r\n      <Typography\r\n        style={{textAlign: 'center', color: 'rgba(0, 0, 0, 0.2)', paddingTop: '300px'}}\r\n        variant=\"h3\"\r\n      >\r\n        in this place will be checklists details\r\n      </Typography>\r\n\r\n    </BlockBox>\r\n  );\r\n};\r\n\r\nexport default ChecklistsDetail;","import React, {useState} from 'react';\r\nimport {MarkupRulesButtons, SearchInput} from \"../MarkupRules\";\r\nimport ModalWindow from \"../../../components/common/ModalWindowBox\";\r\nimport {Input} from \"../../../components/common\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport ChecklistsDetail from './ChecklistsDetail';\r\n\r\nconst ChecklistsPage = () => {\r\n  const useStyles = makeStyles(({\r\n    checklistsContainer: {\r\n      width: '100%',\r\n      height: '810px',\r\n      margin: '40px 10px',\r\n      display: 'flex'\r\n    },\r\n    checklistsLeftBlock: {\r\n      width: '29%',\r\n      marginRight: '2%',\r\n      backgroundColor: '#fff',\r\n      borderRadius: '10px',\r\n      height: '100%'\r\n    },\r\n    checklistsRightBlock: {\r\n      width: '40%',\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const [addDictMWIsOpen, setAddDictMWIsOpen] = useState<boolean>(false);\r\n  const handleMWOpen = () => {\r\n    setAddDictMWIsOpen(true);\r\n  };\r\n  const handleMWClose = () => {\r\n    setAddDictMWIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.checklistsContainer}>\r\n      <div className={classes.checklistsLeftBlock}>\r\n        {/* local url handler */}\r\n        <MarkupRulesButtons/>\r\n        <div style={{marginTop: '25px'}}>\r\n          <SearchInput\r\n            onSubmit={(values) => {}}\r\n            handleMWOpen={handleMWOpen}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* detail */}\r\n      <div className={classes.checklistsRightBlock}>\r\n        <ChecklistsDetail/>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChecklistsPage;","import React, {FC, memo, useEffect} from 'react';\r\nimport {CircularProgress, IconButton} from \"@mui/material\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {Header, Input} from \"../../components/common\";\r\nimport ToggleButtonGroup from \"@mui/material/ToggleButtonGroup\";\r\nimport ToggleButton from \"@mui/material/ToggleButton\";\r\nimport Plus from \"../../components/common/Buttons/Plus\";\r\nimport {dictsSlice, getDict, getDicts} from \"../../store/dicts/dicts.slice\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport {useFormik} from \"formik\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {MarkupRulesPagesType} from \"../../store/dicts/dicts.types\";\r\nimport {useStyles} from \"../../App\";\r\nimport DictsPage from \"./Dicts/Dicts\";\r\nimport TagPage, {searchStringParserInObj} from \"./Tags/TagPage\";\r\nimport ChecklistsPage from \"./Checklists/Checklists\";\r\nimport {RootState} from \"../../store/store\";\r\nimport {translate} from '../../localizations';\r\nimport {tagsSlice} from \"../../store/tags/tags.slice\";\r\nimport {langSlice} from \"../../store/lang/lang.slice\";\r\n\r\n// CUSTOM COMMON COMPONENTS\r\ntype SearchInputType = {\r\n  onSubmit: (values: any) => void,\r\n  handleMWOpen: () => void\r\n};\r\n\r\nexport const SearchInput: FC<SearchInputType> = ({onSubmit, handleMWOpen}) => {\r\n  // Ð¿ÑÐ¸Ð²ÐµÑ, Ð¿ÑÐµÐ´ÑÐ¿ÑÐµÐ¶Ð´Ð°Ñ Ð¿Ð¾ÑÐ»Ðµ Ð¿ÑÐ¾ÑÐ¼Ð¾ÑÑÐ° ÑÑÐ¾Ð³Ð¾ ÐºÑÑÐºÐ° ÐºÐ¾Ð´Ð° Ð¼Ð¾Ð¶ÐµÑ Ð¿Ð¾Ð¹ÑÐ¸ ÐºÑÐ¾Ð²Ñ Ð¸Ð· Ð³Ð»Ð°Ð·.\r\n  // ÐºÐ°Ðº-Ð½Ð¸Ð±ÑÐ´Ñ Ð¿Ð¾ÑÐµÑÐ°ÐºÑÐ¾ÑÑ.\r\n\r\n  const searchTagsParams = useAppSelector(state => state.tags.searchParams);\r\n  const searchDictsParams = useAppSelector(state => state.dicts.search);\r\n  const search = useAppSelector(state => state.tags.searchInput);\r\n\r\n  const {path} = JSON.parse(localStorage.getItem('path') || '{}');\r\n  const pathArray = path.split(\"/\");\r\n  const isDtOrTg = pathArray[4];\r\n\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const searchInHistory = searchStringParserInObj(history.location.search).search;\r\n\r\n\r\n  useEffect(() => {\r\n    if (searchInHistory) {\r\n      if (isDtOrTg === \"dictionaries\") {\r\n        const searchObj = searchStringParserInObj(history.location.search);\r\n        if (searchObj.search) {\r\n          dispatch(dictsSlice.actions.setSearch(`?group=${searchObj.group}&id=${searchObj.id}&search=${searchObj.search}`));\r\n          dispatch(tagsSlice.actions.setSearchInput(searchObj.search));\r\n          debugger\r\n        } else if (searchStringParserInObj(searchDictsParams).search) {\r\n          debugger\r\n          dispatch(dictsSlice.actions.setSearch(`?group=${searchObj.group}&id=${searchObj.id}`));\r\n          dispatch(tagsSlice.actions.setSearchInput(\"\"));\r\n          onSubmit({search: \"\"});\r\n        }\r\n      } else if (isDtOrTg === \"tags\") {\r\n        const searchObj = searchStringParserInObj(history.location.search);\r\n        if (searchObj.search) {\r\n          dispatch(tagsSlice.actions.setSearchParams(`?group=${searchObj.group}&id=${searchObj.id}&search=${searchObj.search}`));\r\n          dispatch(tagsSlice.actions.setSearchInput(searchObj.search));\r\n          // onSubmit({search: searchObj.search});\r\n        } else {\r\n          dispatch(tagsSlice.actions.setSearchParams(`?group=${searchObj.group}&id=${searchObj.id}`));\r\n          dispatch(tagsSlice.actions.setSearchInput(\"\"));\r\n          onSubmit({search: \"\"});\r\n        }\r\n      }\r\n    }\r\n\r\n  }, [searchInHistory]);\r\n\r\n  const userIdData = useAppSelector(state => state.users.currentUser?.id);\r\n  const userId = userIdData ? userIdData : \"_\";\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      search: ''\r\n    },\r\n    onSubmit: async (values) => {\r\n      onSubmit({search: search})\r\n      if (search) {\r\n        if (isDtOrTg === \"dictionaries\") {\r\n          const searchObj = searchStringParserInObj(history.location.search);\r\n          if (searchObj.search) {\r\n            dispatch(dictsSlice.actions.setSearch(`?group=${searchObj.group}&id=${searchObj.id}&search=${search}`));\r\n            history.location.pathname = '/';\r\n            history.replace(`${language}/${userId}/markuprules/dictionaries?group=${searchObj.group}&id=${searchObj.id}&search=${search}`)\r\n          } else {\r\n            let newSearchDictsParams = searchDictsParams;\r\n            if (newSearchDictsParams[0] != \"?\") {\r\n              newSearchDictsParams = `?${newSearchDictsParams}`\r\n            }\r\n            dispatch(dictsSlice.actions.setSearch(`${newSearchDictsParams}&search=${search}`));\r\n            history.location.pathname = '/';\r\n            history.replace(`${language}/${userId}/markuprules/dictionaries${newSearchDictsParams}&search=${search}`);\r\n          }\r\n        } else if (isDtOrTg === \"tags\") {\r\n          const searchObj = searchStringParserInObj(history.location.search);\r\n          if (searchObj.search) {\r\n            dispatch(tagsSlice.actions.setSearchParams(`?group=${searchObj.group}&id=${searchObj.id}&search=${search}`));\r\n            history.location.pathname = '/';\r\n            history.replace(`${language}/${userId}/markuprules/tags?group=${searchObj.group}&id=${searchObj.id}&search=${search}`)\r\n          } else {\r\n            let newSearchTagsParams = searchTagsParams;\r\n            if (newSearchTagsParams[0] != \"?\") {\r\n              newSearchTagsParams = `?${newSearchTagsParams}`\r\n            }\r\n            dispatch(tagsSlice.actions.setSearchParams(`${newSearchTagsParams}&search=${search}`));\r\n            history.location.pathname = '/';\r\n            history.replace(`${language}/${userId}/markuprules/tags${newSearchTagsParams}&search=${search}`)\r\n          }\r\n        }\r\n\r\n      } else {\r\n\r\n        if (isDtOrTg === \"dictionaries\") {\r\n          const searchObj = searchStringParserInObj(history.location.search);\r\n          dispatch(tagsSlice.actions.setSearchParams(`?group=${searchObj.group}&id=${searchObj.id}`));\r\n          history.location.pathname = '/';\r\n          history.replace(`${language}/${userId}/markuprules/dictionaries?group=${searchObj.group}&id=${searchObj.id}`)\r\n        } else if (isDtOrTg === \"tags\") {\r\n          const searchObj = searchStringParserInObj(history.location.search);\r\n          dispatch(tagsSlice.actions.setSearchParams(`?group=${searchObj.group}&id=${searchObj.id}`));\r\n          history.location.pathname = '/';\r\n          history.replace(`${language}/${userId}/markuprules/tags?group=${searchObj.group}&id=${searchObj.id}`);\r\n        }\r\n      }\r\n    },\r\n  });\r\n  const useStyles = makeStyles(({\r\n    searchInputBox: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      margin: '0 24px',\r\n    },\r\n    searchInputInputBox: {\r\n      position: 'relative',\r\n      width: '100%',\r\n    },\r\n    searchInputSvgBox: {\r\n      textAlign: 'center',\r\n      paddingTop: '9px',\r\n      position: 'absolute',\r\n      top: '-7.5px',\r\n      right: '-1px',\r\n      width: '32px',\r\n      height: 'calc(100% - 9px)'\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n  return (\r\n    <div className={classes.searchInputBox}>\r\n      <form onSubmit={formik.handleSubmit} style={{width: '100%'}}>\r\n        <div className={classes.searchInputInputBox}>\r\n          <Input\r\n            handleChange={(e) => {\r\n              dispatch(tagsSlice.actions.setSearchInput(e.target.value));\r\n            }}\r\n            value={search}\r\n            name={'search'}\r\n            type={'text'}\r\n            height={'35px'}\r\n            bcColor={'#F8FAFC'}\r\n            border={'1px solid #E3E8EF'}\r\n            label={translate('searchInputText_dicts', language)}\r\n          />\r\n          <div className={classes.searchInputSvgBox}>\r\n            <IconButton type={\"submit\"}>\r\n              <SearchSvg/>\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n      </form>\r\n      <Plus margin={'0 0 0 16px'} handleClick={handleMWOpen}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const MarkupRulesButtons = () => {\r\n  const useStyles = makeStyles(({\r\n    buttonsBox: {\r\n      margin: '24px 24px 0 24px',\r\n      boxShadow: 'none !important',\r\n    },\r\n    button: {\r\n      border: 'none !important',\r\n      transition: '0.4s !important',\r\n      outline: 'none !important',\r\n      height: '40px',\r\n      fontSize: '14px !important',\r\n      // @ts-ignore\r\n      textTransform: 'none !important',\r\n      color: '#738094 !important',\r\n      backgroundColor: '#EEF2F6 !important',\r\n      '&.Mui-selected, &:active': {\r\n        backgroundColor: '#D6D9DF !important',\r\n        color: '#000 !important'\r\n      },\r\n      '&.Mui-disabled': {\r\n        cursor: 'pointer'\r\n      }\r\n    }\r\n  }));\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n  const {language} = useAppSelector((state: RootState) => state.lang);\r\n\r\n\r\n  // LOGIC BLOCK\r\n  const activePage = useAppSelector(state => state.dicts.activePage);\r\n  // Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¿ÐµÑÐµÑÐ¾Ð´Ð° Ð¼ÐµÐ¶Ð´Ñ Ð»Ð¾ÐºÐ°Ð»ÑÐ½ÑÐ¼Ð¸ ÑÑÑÐ°Ð½Ð¸ÑÐ°Ð¼Ð¸.\r\n  const handleChange = (\r\n    event: React.MouseEvent<HTMLElement>,\r\n    page: MarkupRulesPagesType,\r\n  ) => {\r\n    dispatch(dictsSlice.actions.setActivePage(page));\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(langSlice.actions.setLoading(false));\r\n  }, []);\r\n\r\n  const userIdData = useAppSelector(state => state.users.currentUser?.id);\r\n  const userId = userIdData ? userIdData : \"_\";\r\n\r\n  return (\r\n    <ToggleButtonGroup\r\n      className={classes.buttonsBox}\r\n      value={activePage}\r\n      exclusive\r\n      onChange={handleChange}\r\n    >\r\n      <ToggleButton\r\n        disabled={\"dictionaries\" === activePage}\r\n        className={classes.button} value=\"dictionaries\"\r\n        onClick={() => {\r\n          dispatch(langSlice.actions.setLoading(true));\r\n          dispatch(tagsSlice.actions.setSearchInput(\"\"));\r\n          history.location.search = \"\";\r\n          history.location.pathname = '/'\r\n          history.replace(`${language}/${userId}/markuprules/dictionaries`)\r\n        }}\r\n      >\r\n        {translate('buttonDictsName_dicts', language)}\r\n      </ToggleButton>\r\n\r\n      <ToggleButton\r\n        className={classes.button} value=\"tags\"\r\n        onClick={() => {\r\n          dispatch(langSlice.actions.setLoading(true));\r\n          dispatch(tagsSlice.actions.setSearchInput(\"\"));\r\n          history.location.search = \"\";\r\n          history.location.pathname = '/'\r\n          history.replace(`${language}/${userId}/markuprules/tags`)\r\n        }}\r\n      >\r\n        {translate('buttonTagsName_dicts', language)}\r\n      </ToggleButton>\r\n\r\n      {/*<ToggleButton*/}\r\n      {/*  className={classes.button} disabled={\"checklists\" === activePage} value=\"checklists\"*/}\r\n      {/*  onClick={() => {*/}\r\n      {/*    history.location.pathname = '/'*/}\r\n      {/*    history.replace('markuprules/checklists')*/}\r\n      {/*  }}*/}\r\n      {/*>*/}\r\n      {/*  {translate('buttonChecklistsName_dicts', language)}*/}\r\n      {/*</ToggleButton>*/}\r\n    </ToggleButtonGroup>\r\n  );\r\n};\r\n\r\n// SVG BLOCK\r\nexport const SearchSvg = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M9.59029 10.2973C7.82342 11.7125 5.23712 11.6011 3.59927 9.9632C1.84191 8.20587 1.84191 5.35663 3.59927 3.59927C5.35663 1.84191 8.20589 1.84191 9.96322 3.59927C11.6011 5.23712 11.7125 7.8234 10.2974 9.59027L13.7344 13.0273C13.9297 13.2226 13.9297 13.5392 13.7344 13.7345C13.5392 13.9297 13.2226 13.9297 13.0274 13.7345L9.59029 10.2973ZM4.30638 9.25614C2.93954 7.88927 2.93954 5.67321 4.30638 4.30638C5.67321 2.93954 7.88929 2.93954 9.25616 4.30638C10.622 5.67221 10.623 7.886 9.25916 9.25314C9.25809 9.25414 9.25709 9.25507 9.25609 9.25614C9.25509 9.25714 9.25409 9.25814 9.25309 9.25914C7.88602 10.6229 5.67221 10.6219 4.30638 9.25614Z\"\r\n            fill=\"#738094\"/>\r\n    </svg>\r\n  );\r\n};\r\nexport const InfoCircleActive = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M3.25 12C3.25 7.16751 7.16751 3.25 12 3.25C16.8325 3.25 20.75 7.16751 20.75 12C20.75 16.8325 16.8325 20.75 12 20.75C7.16751 20.75 3.25 16.8325 3.25 12ZM13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7C12.5523 7 13 7.44772 13 8ZM12 10.75C12.4142 10.75 12.75 11.0858 12.75 11.5V16.5C12.75 16.9142 12.4142 17.25 12 17.25C11.5858 17.25 11.25 16.9142 11.25 16.5V11.5C11.25 11.0858 11.5858 10.75 12 10.75Z\"\r\n            fill=\"#9254DE\"/>\r\n    </svg>\r\n  );\r\n};\r\nexport const InfoCircle = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <path\r\n        d=\"M11.916 2.66602C6.80787 2.66602 2.66602 6.80787 2.66602 11.916C2.66602 17.0242 6.80787 21.166 11.916 21.166C17.0242 21.166 21.166 17.0242 21.166 11.916C21.166 6.80787 17.0242 2.66602 11.916 2.66602ZM11.916 19.5968C7.67506 19.5968 4.23521 16.157 4.23521 11.916C4.23521 7.67506 7.67506 4.23521 11.916 4.23521C16.157 4.23521 19.5968 7.67506 19.5968 11.916C19.5968 16.157 16.157 19.5968 11.916 19.5968Z\"\r\n        fill=\"#738094\"/>\r\n      <path\r\n        d=\"M10.666 7.85649C10.666 8.17223 10.7914 8.47503 11.0147 8.69829C11.238 8.92154 11.5408 9.04697 11.8565 9.04697C12.1722 9.04697 12.475 8.92154 12.6983 8.69829C12.9215 8.47503 13.047 8.17223 13.047 7.85649C13.047 7.54076 12.9215 7.23796 12.6983 7.0147C12.475 6.79144 12.1722 6.66602 11.8565 6.66602C11.5408 6.66602 11.238 6.79144 11.0147 7.0147C10.7914 7.23796 10.666 7.54076 10.666 7.85649ZM12.6501 11.4279C12.6501 10.9896 12.2948 10.6343 11.8565 10.6343C11.4182 10.6343 11.0628 10.9896 11.0628 11.4279C11.0628 11.7747 11.0628 12.1148 11.0628 12.166V16.1921C11.0628 16.2446 11.0628 16.6143 11.0628 16.9835C11.0628 17.4218 11.4182 17.7771 11.8565 17.7771C12.2948 17.7771 12.6501 17.4218 12.6501 16.9835C12.6501 16.6143 12.6501 16.2446 12.6501 16.1921V12.166C12.6501 12.1148 12.6501 11.7747 12.6501 11.4279Z\"\r\n        fill=\"#738094\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst MarkupRules = memo(() => {\r\n  const history = useHistory();\r\n  const path = history.location.pathname.split('/');\r\n  const pathActivePage = path[4];\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (pathActivePage) {\r\n      dispatch(dictsSlice.actions.setActivePage(pathActivePage));\r\n    } else {\r\n      dispatch(dictsSlice.actions.setActivePage('dictionaries'));\r\n    }\r\n  }, []);\r\n\r\n  const appClasses = useStyles();\r\n  // Ð´Ð»Ñ Ð¿ÐµÑÐµÑÐ¸ÑÐ¾Ð²ÐºÐ¸\r\n  const activePage = useAppSelector(state => state.dicts.activePage);\r\n  return (\r\n    <div>\r\n      {(activePage === 'dictionaries' || activePage === 'tags' || activePage === 'checklists')\r\n        ?\r\n        <div>\r\n          <div className={appClasses.container}>\r\n            {activePage === 'dictionaries' && <DictsPage/>}\r\n            {activePage === 'tags' && <TagPage/>}\r\n            {activePage === 'checklists' && <ChecklistsPage/>}\r\n          </div>\r\n        </div>\r\n        :\r\n        <div>\r\n          <div style={{\r\n            fontWeight: '700',\r\n            marginTop: '400px',\r\n            textAlign: 'center',\r\n            fontSize: '45px',\r\n            fontFamily: 'sans-serif'\r\n          }}>\r\n            404\r\n          </div>\r\n        </div>\r\n\r\n      }\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default MarkupRules;\r\n","import React, {useState} from 'react';\r\nimport IconButton from \"../../components/common/IconButton\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {BlockBox} from \"../../components/common\";\r\nimport {Alert, Button, Typography} from \"@mui/material\";\r\nimport ContainedSelect from \"../../components/common/Selects/ContainedSelect\";\r\nimport Snackbar from \"../../components/common/Snackbar\";\r\n\r\nconst DownloadSvg = () => {\r\n  return (\r\n    <svg width=\"56\" height=\"56\" viewBox=\"0 0 56 56\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M11.666 37.916C12.6325 37.916 13.416 38.6995 13.416 39.666V44.3327C13.416 44.6549 13.6772 44.916 13.9993 44.916H41.9994C42.3216 44.916 42.5827 44.6549 42.5827 44.3327V39.666C42.5827 38.6995 43.3662 37.916 44.3327 37.916C45.2992 37.916 46.0827 38.6995 46.0827 39.666V44.3327C46.0827 46.5878 44.2545 48.416 41.9994 48.416H13.9993C11.7442 48.416 9.91602 46.5878 9.91602 44.3327V39.666C9.91602 38.6995 10.6995 37.916 11.666 37.916Z\"\r\n            fill=\"#738094\"/>\r\n      <path\r\n        d=\"M25.0552 8.75C23.8552 8.75 22.8539 9.66728 22.7491 10.8629C22.3906 14.9526 22.3274 19.0624 22.5597 23.1603C21.9834 23.1921 21.4073 23.2291 20.8315 23.271L17.356 23.5244C16.016 23.622 15.2669 25.1162 15.9903 26.2484C18.4684 30.1266 21.6615 33.498 25.3994 36.1832L26.7917 37.1835C27.5139 37.7022 28.4866 37.7022 29.2088 37.1835L30.6011 36.1832C34.3391 33.498 37.532 30.1266 40.0103 26.2484C40.7336 25.1162 39.9846 23.622 38.6446 23.5244L35.1691 23.271C34.5932 23.2291 34.0171 23.1921 33.4408 23.1603C33.6732 19.0624 33.6099 14.9526 33.2515 10.8629C33.1465 9.66728 32.1453 8.75 30.9453 8.75H25.0552Z\"\r\n        fill=\"#738094\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst ErrorSvg = () => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"#FF4D4F\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M11.1618 4.83737C11.3896 5.06518 11.3896 5.43455 11.1618 5.66236L5.66187 11.1623C5.43406 11.3901 5.06469 11.3901 4.83688 11.1623C4.60906 10.9345 4.60906 10.5651 4.83688 10.3373L10.3368 4.83737C10.5646 4.60955 10.934 4.60955 11.1618 4.83737Z\"\r\n            fill=\"white\"/>\r\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n            d=\"M4.83688 4.83737C5.06469 4.60955 5.43406 4.60955 5.66187 4.83737L11.1618 10.3373C11.3896 10.5651 11.3896 10.9345 11.1618 11.1623C10.934 11.3901 10.5646 11.3901 10.3368 11.1623L4.83688 5.66236C4.60906 5.43455 4.60906 5.06518 4.83688 4.83737Z\"\r\n            fill=\"white\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\n\r\nconst LoadCall = () => {\r\n  const useStyles = makeStyles(({\r\n    loadCallInner: {\r\n      padding: '40px 20px',\r\n      margin: '0 auto',\r\n    },\r\n    loadCallTitle: {\r\n      textAlign: 'center',\r\n      margin: '24px 0 30px 0 !important',\r\n      fontSize: '18px !important',\r\n      color: '#2F3747 !important',\r\n      fontWeight: '700 !important',\r\n      cursor: 'default'\r\n    },\r\n    loadCallSelectLabel: {\r\n      cursor: 'default',\r\n      marginBottom: '5px !important',\r\n      color: '#738094 !important',\r\n      fontWeight: '500 !important',      \r\n    },\r\n    loadCallButton: {\r\n      width: '100% !important',\r\n      // @ts-ignore\r\n      textTransform: 'none !important'\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n\r\n  const employeeSelectTestOptions = [\r\n    {value: 'Ð¡Ð»ÐµÐ²Ð°', label: 'Ð¡Ð»ÐµÐ²Ð°'},\r\n    {value: 'Ð ÑÐµÐ½ÑÑÐµ', label: 'Ð ÑÐµÐ½ÑÑÐµ'},\r\n    {value: 'Ð¡Ð¿ÑÐ°Ð²Ð°', label: 'Ð¡Ð¿ÑÐ°Ð²Ð°'}\r\n  ];\r\n  const [employeeSelectTestValues, setEmployeeSelectTestValues] = useState(employeeSelectTestOptions[0]);\r\n\r\n  const metaSelectTestOptions = [\r\n    {value: 'ÐÐµ Ð²ÑÑÐ°ÑÐºÐ¸Ð²Ð°ÑÑ', label: 'ÐÐµ Ð²ÑÑÐ°ÑÐºÐ¸Ð²Ð°ÑÑ'},\r\n    {value: 'ÐÑÑÐ°ÑÐºÐ¸Ð²Ð°ÑÑ', label: 'ÐÑÑÐ°ÑÐºÐ¸Ð²Ð°ÑÑ'}\r\n  ];\r\n  const [metaSelectTestValues, setMetaSelectTestValues] = useState(metaSelectTestOptions[0]);\r\n\r\n  const [snackbarIsOpen, setSnackbarIsOpen] = useState(false);\r\n  const handleOpen = () => {\r\n    setSnackbarIsOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setSnackbarIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <BlockBox margin={'60px auto 110px auto'} width={'540px'}>\r\n      <div className={classes.loadCallInner}>\r\n        <div style={{textAlign: 'center'}}>\r\n          <IconButton\r\n            borderRadius={'10px'}\r\n            icon={<DownloadSvg/>}\r\n            backgroundColor={'#E3E8EF'}\r\n            onClick={() => null}\r\n            margin={'0'}\r\n            width={'96px'}\r\n            height={'96px'}\r\n          />\r\n        </div>\r\n        <Typography className={classes.loadCallTitle}>ÐÐ°Ð³ÑÑÐ·Ð¸ÑÐµ Ð°ÑÐ´Ð¸Ð¾ Ð² ÑÐ¾ÑÐ¼Ð°ÑÐµ MP3 Ð¸Ð»Ð¸ WAV</Typography>\r\n        <div style={{width: '320px', margin: '0 auto'}}>\r\n          <div style={{marginBottom: '30px'}}>\r\n            <Typography className={classes.loadCallSelectLabel}>ÐÐ¾Ð·Ð¸ÑÐ¸Ñ ÑÐ¾ÑÑÑÐ´Ð½Ð¸ÐºÐ°</Typography>\r\n            <ContainedSelect\r\n              width={'320px'}\r\n              justify={'center'}\r\n              onSelectChange={(event) => setEmployeeSelectTestValues(event)}\r\n              options={employeeSelectTestOptions}\r\n              value={employeeSelectTestValues}\r\n            />\r\n          </div>\r\n          <div style={{marginBottom: '30px'}}>\r\n            <Typography className={classes.loadCallSelectLabel}>ÐÐ¾Ð·Ð¸ÑÐ¸Ñ ÑÐ¾ÑÑÑÐ´Ð½Ð¸ÐºÐ°</Typography>\r\n            <ContainedSelect\r\n              width={'320px'}\r\n              justify={'center'}\r\n              onSelectChange={(event) => setMetaSelectTestValues(event)}\r\n              options={metaSelectTestOptions}\r\n              value={metaSelectTestValues}\r\n            />\r\n          </div>\r\n          <Button onClick={handleOpen} variant={\"contained\"} className={classes.loadCallButton}>ÐÐ°Ð³ÑÑÐ·Ð¸ÑÑ Ð°ÑÐ´Ð¸Ð¾</Button>\r\n        </div>\r\n      </div>\r\n      <Snackbar\r\n        type={'error'}\r\n        open={snackbarIsOpen}\r\n        onClose={handleClose}\r\n        text={'Ð­ÑÐ° ÑÑÐ½ÐºÑÐ¸Ñ Ð¿Ð¾ÐºÐ° Ð½Ðµ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ'}\r\n        time={2000}\r\n      />\r\n    </BlockBox>\r\n  );\r\n};\r\n\r\nexport default LoadCall;\r\n","import React, {FC, useState} from 'react';\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport {BlockBox} from \"../../components/common\";\r\nimport {Typography} from \"@mui/material\";\r\n\r\nconst MenuItem: FC<{ isActive: boolean, text: string, handleClick: () => void }> = ({isActive, text, handleClick}) => {\r\n  const useMenuItemStyles = makeStyles(({\r\n    menuItem: {\r\n      cursor: 'pointer',\r\n      borderLeft: '2px solid #EEF2F6',\r\n      borderColor: isActive ? '#9254DE' : '#EEF2F6',\r\n      padding: '9px 16px'\r\n    },\r\n    menuItemText: {\r\n      color: isActive ? '#9254DE !important' : '#738094 !important',\r\n      fontWeight: '700 !important'\r\n    }\r\n  }));\r\n  const classes = useMenuItemStyles();\r\n  return (\r\n    <div className={classes.menuItem} onClick={handleClick}>\r\n      <Typography className={classes.menuItemText}>{text}</Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Settings = () => {\r\n  const useSettingsStyles = makeStyles(({\r\n    settingsBox: {\r\n      width: '100%',\r\n      height: '810px',\r\n      display: 'flex',\r\n      margin: '40px 0'\r\n    },\r\n    settingsMenu: {\r\n      width: '350px',\r\n      marginRight: '20px',\r\n      height: '100%',\r\n    },\r\n    settingsMenuTitle: {\r\n      fontWeight: '700 !important',\r\n      color: '#738094 !important',\r\n      marginBottom: '24px !important'\r\n    },\r\n\r\n    settingsBodyInner: {}\r\n  }));\r\n  const classes = useSettingsStyles();\r\n\r\n  const [settingsPageChanger, setSettingsPageChanger] = useState<'menu' | 'body'>('menu');\r\n\r\n  return (\r\n    <div className={classes.settingsBox}>\r\n      <div className={classes.settingsMenu}>\r\n        <Typography variant={'h5'} className={classes.settingsMenuTitle}>ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸</Typography>\r\n        <MenuItem\r\n          text={\"ÐÑÐ¾ÑÐ¸Ð»Ñ\"}\r\n          isActive={settingsPageChanger === 'menu'}\r\n          handleClick={() => {\r\n            setSettingsPageChanger('menu')\r\n          }}\r\n        />\r\n        <MenuItem\r\n          text={\"ÐÐµÐ¹ÑÑÐ²Ð¸Ñ ÑÐ¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð¼\"}\r\n          isActive={settingsPageChanger === 'body'}\r\n          handleClick={() => {\r\n            setSettingsPageChanger('body')\r\n          }}\r\n        />\r\n      </div>\r\n      <BlockBox width={'450px'} padding={'24px'}>\r\n        <div className={classes.settingsBodyInner}>\r\n          {settingsPageChanger === 'menu' &&\r\n          <div>\r\n            <div>\r\n              <Typography style={{textAlign: 'center', color: 'rgba(0, 0, 0, 0.2)'}} variant=\"h4\">ÐÑÐ¾ÑÐ¸Ð»Ñ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ</Typography>\r\n              <Typography style={{textAlign: 'center', color: '#722ED1', fontSize: '10px'}} variant=\"h2\">\r\n                in developing\r\n              </Typography>\r\n            </div>\r\n          </div>\r\n          }\r\n          {settingsPageChanger === 'body' &&\r\n          <div>\r\n            <Typography style={{textAlign: 'center', color: 'rgba(0, 0, 0, 0.2)'}} variant=\"h4\">ÐÐµÐ¹ÑÑÐ²Ð¸Ñ ÑÐ¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð¼</Typography>\r\n            <Typography style={{textAlign: 'center', color: '#722ED1', fontSize: '10px'}} variant=\"h2\">\r\n              in developing\r\n            </Typography>\r\n          </div>\r\n          }\r\n        </div>\r\n      </BlockBox>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import React, {useEffect} from 'react';\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport {useAppSelector} from \"../../hooks/redux\";\r\nimport queryString from \"query-string\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {callsSlice, getCallAudio, getCallInfo, getCallStt} from \"../../store/calls/calls.slice\";\r\nimport Call from \"./Call\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport Preloader from '../../assets/loading.svg';\r\nimport {Alert, CircularProgress, Typography} from \"@mui/material\";\r\n\r\nconst CallPage = () => {\r\n\r\n  const useStyles = makeStyles(({\r\n    callPageBox: {\r\n      boxShadow: \"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px\"\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const searchParams = useAppSelector(state => state.calls.callPageSearchParams);\r\n\r\n  useEffect(() => {\r\n    const searchParamsObject = queryString.parse(history.location.search);\r\n    if (searchParamsObject.call && searchParamsObject.token) {\r\n      dispatch(callsSlice.actions.setCallPageSearchParams(history.location.search));\r\n    }\r\n  }, [history]);\r\n\r\n  async function fetchCallInfoData() {\r\n    debugger\r\n    const searchParamsObject = queryString.parse(history.location.search);\r\n    const id = searchParamsObject.id;\r\n    const token = searchParamsObject.token;\r\n    if (id && token) {\r\n      const callInfoData = await dispatch(getCallInfo({id, token}));\r\n      const callAudioData = await dispatch(getCallAudio({id, token}));\r\n      const callSttData = await dispatch(getCallStt({id, token}));\r\n\r\n      // @ts-ignore\r\n      const callInfo = callInfoData.payload;\r\n\r\n      if (callInfo) {\r\n        dispatch(callsSlice.actions.setCurrentCall({\r\n          // @ts-ignore\r\n          id: id,\r\n          info: callInfo,\r\n          // @ts-ignore\r\n          stt: callSttData.payload,\r\n          // @ts-ignore\r\n          audio: callAudioData.payload\r\n        }));\r\n      } else {\r\n        dispatch(callsSlice.actions.setCurrentCall(false));\r\n      }\r\n    } else {\r\n      dispatch(callsSlice.actions.setCurrentCall(false));\r\n    }\r\n  }\r\n\r\n  // Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð°ÑÐ°Ð¼ÐµÑÑÐ¾Ð² Ð¿Ð¾Ð¸ÑÐºÐ°\r\n  useEffect(() => {\r\n    debugger\r\n    fetchCallInfoData().then();\r\n  }, [searchParams]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(callsSlice.actions.setCallPageSearchParams(\"\"));\r\n      dispatch(callsSlice.actions.setCurrentCall(null));\r\n    }\r\n  }, []);\r\n\r\n  const currentCall = useAppSelector(state => state.calls.currentCall);\r\n  const currentUser = useAppSelector(state => state.users.currentUser);\r\n  const isAuth = useAppSelector(state => state.auth.isAuth);\r\n  const {language} = useAppSelector(state => state.lang);\r\n\r\n  return (\r\n    <div style={{marginTop: '40px'}}>\r\n      {currentCall && (\r\n        <div className={classes.callPageBox}>\r\n          <Call\r\n            callInfo={currentCall.info}\r\n            callAudio={currentCall.audio}\r\n            callStt={currentCall.stt}\r\n            bundleIndex={null}\r\n            expanded={true}\r\n            handleExpandedChange={() => {\r\n            }}\r\n            solo={true}\r\n          />\r\n        </div>\r\n      )}\r\n      {currentCall === null && (\r\n        <div style={{position: 'absolute', top: '35%', left: 'calc(50% - 100px)'}}>\r\n          <CircularProgress style={{width: '100px', height: '100px'}}/>\r\n        </div>\r\n      )}\r\n      {currentCall === false && (\r\n        <div style={{width: '400px'}}>\r\n          <Alert severity=\"error\">ÐÐ²ÐµÐ´ÐµÐ½Ñ Ð½ÐµÐ²ÐµÑÐ½ÑÐµ Ð¿Ð°ÑÐ°Ð¼ÐµÑÑÑ</Alert>\r\n          {isAuth ? (\r\n            <Link style={{fontSize: '11px', marginLeft: '20px'}} to={`/${language}/${currentUser ? currentUser.id : \"_\"}/calls`}>\r\n              ÐÐ° Ð³Ð»Ð°Ð²Ð½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÑ â\r\n            </Link>\r\n          ) : (\r\n            <Link style={{fontSize: '11px', marginLeft: '20px'}} to={`/${language}/auth`}>\r\n              ÐÑÐºÑÑÑÑ Ð¿Ð¾Ð»Ð½ÑÑ Ð²ÐµÑÑÐ¸Ñ Ð¿ÑÐ¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ â\r\n            </Link>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CallPage;","import React, {useEffect, useState} from 'react';\r\nimport {Redirect, Route, Switch, Link, useHistory} from 'react-router-dom';\r\nimport {makeStyles} from '@mui/styles';\r\nimport {Typography} from '@mui/material';\r\nimport {Header} from './components/common';\r\nimport {\r\n  Auth,\r\n  Calls,\r\n  Reports,\r\n  MarkupRules,\r\n  LoadCall,\r\n  Settings\r\n} from './pages';\r\nimport {useAppSelector} from \"./hooks/redux\";\r\nimport {authSlice} from \"./store/auth/auth.slice\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport \"rsuite/dist/rsuite.min.css\";\r\nimport LinearDeterminate from \"./components/common/LinearDeterminate\";\r\nimport {dictsSlice} from \"./store/dicts/dicts.slice\";\r\nimport {tagsSlice} from \"./store/tags/tags.slice\";\r\nimport {getLang, langSlice} from \"./store/lang/lang.slice\";\r\nimport CallPage from \"./pages/Calls/CallPage\";\r\nimport {callsSlice} from \"./store/calls/calls.slice\";\r\n\r\n\r\nexport const useStyles = makeStyles(({\r\n  wrapper: {\r\n    width: 'auto',\r\n  },\r\n  container: {\r\n    maxWidth: '1655px',\r\n    margin: '0 auto',\r\n    padding: '0 15px'\r\n  }\r\n}));\r\n\r\nconst Test = () => {\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    history.location.pathname = \"/\";\r\n    history.push(\"/ru/auth\");\r\n  }, [history]);\r\n  return <></>\r\n}\r\n\r\nconst App = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const isAuth = useAppSelector(state => state.auth.isAuth);\r\n\r\n  const {path} = JSON.parse(localStorage.getItem('path') || '{}');\r\n  let pathArray = [];\r\n  if (path) {\r\n    pathArray = path.split(\"/\");\r\n  }\r\n  const activePage = pathArray[3];\r\n  const isDtOrTg = pathArray[4];\r\n\r\n\r\n  const currentUser = useAppSelector(state => state.users.currentUser);\r\n  const languageParam = pathArray[1];\r\n  const searchDictsParams = useAppSelector(state => state.dicts.search);\r\n  const searchTagsParams = useAppSelector(state => state.tags.searchParams);\r\n  const searchCallParams = useAppSelector(state => state.calls.callPageSearchParams);\r\n  const {language} = useAppSelector(state => state.lang);\r\n\r\n  const history = useHistory();\r\n\r\n\r\n  // lang changer\r\n  useEffect(() => {\r\n    history.listen(async (location) => {\r\n        let pathArray: any = [];\r\n        if (location.pathname) {\r\n          pathArray = location.pathname.split(\"/\");\r\n        }\r\n        const languageParam = pathArray[1];\r\n        pathArray = location.pathname.split(\"/\");\r\n        pathArray.splice(0, 2);\r\n\r\n        if (languageParam === \"ru\" || languageParam === \"en\") {\r\n          dispatch(langSlice.actions.setLoading(true));\r\n          await dispatch(getLang(languageParam));\r\n          dispatch(langSlice.actions.setLoading(false));\r\n        } else if (!languageParam || (languageParam !== \"ru\" && languageParam !== \"en\")) {\r\n          dispatch(langSlice.actions.setDefaultLang(null));\r\n          if (pathArray.length === 1) {\r\n            history.location.pathname = `/`;\r\n            history.replace(`ru/${pathArray.join(\"/\")}`);\r\n          } else {\r\n            history.location.pathname = `/`;\r\n            history.replace(`ru/${currentUser ? currentUser.id : \"_\"}/calls`);\r\n          }\r\n        }\r\n    });\r\n  }, [languageParam, currentUser]);\r\n\r\n  // ÐºÐ¾ÑÑÑÐ»Ñ Ð¿Ð°ÑÐ°Ð¼ÐµÑÑÐ¾Ð² Ð¿Ð¾Ð¸ÑÐºÐ°\r\n  let newSearch = history.location.search;\r\n  if (newSearch[0] !== '?') {\r\n    newSearch = `?${history.location.search}`\r\n  }\r\n  if (!searchDictsParams && isDtOrTg === \"dictionaries\") {\r\n    dispatch(dictsSlice.actions.setSearch(newSearch));\r\n  }\r\n  if (searchTagsParams && isDtOrTg === \"tags\") {\r\n    dispatch(tagsSlice.actions.setSearchParams(newSearch));\r\n  }\r\n  if (!searchCallParams && pathArray[2] === \"call\") {\r\n    dispatch(callsSlice.actions.setCallPageSearchParams(newSearch));\r\n  }\r\n\r\n  useEffect(() => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    debugger\r\n    if (token) {\r\n      dispatch(authSlice.actions.setAuth(true))\r\n    }\r\n  }, []);\r\n\r\n  // dicts (Ð¿ÑÐ¾ÑÐ¾ÑÐ¸Ð¿ 2)\r\n  if (!searchDictsParams) {\r\n    let newSearch = history.location.search;\r\n    if (newSearch[0] !== '?') {\r\n      newSearch = `?${history.location.search}`\r\n    }\r\n    dispatch(dictsSlice.actions.setSearch(newSearch));\r\n  }\r\n\r\n  useEffect(() => {\r\n    const {token} = JSON.parse(localStorage.getItem('token') || '{}');\r\n    if (token) {\r\n      dispatch(authSlice.actions.setAuth(true))\r\n    }\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    history.listen((location) => {\r\n      localStorage.setItem('path', JSON.stringify({\r\n        path: location.pathname\r\n      }));\r\n    })\r\n  }, [history]);\r\n\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      {isAuth ? (\r\n        <Switch>\r\n          {/* ÐÐ²Ð¾Ð½ÐºÐ¸ */}\r\n          <Route path=\"/:lang/:userId/calls\">\r\n            <Header/>\r\n            <div className={classes.container}>\r\n              <Calls/>\r\n            </div>\r\n          </Route>\r\n\r\n          {/* ÐÐ²Ð¾Ð½Ð¾Ðº */}\r\n          <Route path=\"/:lang/call\">\r\n            <Header/>\r\n            <div className={classes.container}>\r\n              <CallPage/>\r\n            </div>\r\n          </Route>\r\n\r\n          {/* ÐÑÑÑÐµÑÑ */}\r\n          <Route path=\"/:lang/:userId/reports\">\r\n            <Header/>\r\n            <div className={classes.container}>\r\n              <Reports/>\r\n            </div>\r\n          </Route>\r\n\r\n          {/* ÐÑÐ°Ð²Ð¸Ð»Ð° ÑÐ°Ð·Ð¼ÐµÑÐºÐ¸ */}\r\n          <Route path=\"/:lang/:userId/markuprules\">\r\n            <Header/>\r\n            <MarkupRules/>\r\n          </Route>\r\n\r\n          {/* ÐÐ°Ð³ÑÑÐ·Ð¸ÑÑ Ð·Ð²Ð¾Ð½Ð¾Ðº */}\r\n          <Route path=\"/:lang/:userId/upload\">\r\n            <Header/>\r\n            <div className={classes.container}>\r\n              <LoadCall/>\r\n            </div>\r\n          </Route>\r\n\r\n          {/* ÐÐ¿Ð¾Ð²ÐµÑÐµÐ½Ð¸Ðµ */}\r\n          <Route path=\"/:lang/:userId/alert\">\r\n            <Header/>\r\n            <div className={classes.container}>\r\n              <div className={classes.container}>\r\n                <Typography style={{textAlign: 'center', color: 'rgba(0, 0, 0, 0.2)'}} variant=\"h2\">\r\n                  Alert\r\n                </Typography>\r\n                <Typography style={{textAlign: 'center', color: '#722ED1', fontSize: '10px'}} variant=\"h2\">\r\n                  in developing\r\n                </Typography>\r\n              </div>\r\n            </div>\r\n          </Route>\r\n\r\n          {/* ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸ */}\r\n          <Route path=\"/:lang/:userId/settings\">\r\n            <Header/>\r\n            <div className={classes.container}>\r\n              <Settings/>\r\n            </div>\r\n          </Route>\r\n\r\n          <Route exact path={`/${language}/auth`}>\r\n            <Redirect to={path ? `${path}` : `/${language}/${currentUser ? currentUser.id : \"_\"}/calls`}/>\r\n          </Route>\r\n\r\n          <Route exact path=\"/\">\r\n            <Redirect to={`/${language}/${currentUser ? currentUser.id : \"_\"}/calls`}/>\r\n          </Route>\r\n\r\n          <Route exact path=\"*\">\r\n            <div style={{textAlign: \"center\", marginTop: \"250px\"}}>\r\n              <h1 style={{fontSize: '80px', marginBottom: '30px'}}>404</h1>\r\n              <Link style={{fontSize: '18px'}} to={`/${language}/${currentUser ? currentUser.id : \"_\"}/calls`}>\r\n                ÐÐ° Ð³Ð»Ð°Ð²Ð½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÑ â\r\n              </Link>\r\n            </div>\r\n          </Route>\r\n\r\n        </Switch>\r\n      ) : (\r\n        <Switch>\r\n          {/* ÐÐ²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ */}\r\n          <Route exact path=\"/:lang/auth\">\r\n            <Auth/>\r\n          </Route>\r\n\r\n          {/* ÐÐ²Ð¾Ð½Ð¾Ðº */}\r\n          <Route path=\"/:lang/call\">\r\n            <Header/>\r\n            <div className={classes.container}>\r\n              <CallPage/>\r\n            </div>\r\n          </Route>\r\n\r\n          <Route path=\"*\">\r\n            <Test/>\r\n          </Route>\r\n\r\n        </Switch>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App\r\n","import {createTheme} from '@mui/material/styles';\r\n\r\nconst theme = createTheme({\r\n\r\n  typography: {\r\n    body1: {\r\n      fontFamily: \"Inter, sans-serif\",\r\n      fontSize: 14,\r\n    },\r\n    allVariants: {\r\n      fontFamily: \"Inter, sans-serif\",\r\n      'color': '#738094',\r\n    },\r\n    fontFamily: [\r\n      'Inter'\r\n    ].join(','),\r\n    'fontWeightLight': 300,\r\n    'fontWeightRegular': 400,\r\n    'fontWeightMedium': 500,\r\n  },\r\n  palette: {\r\n    primary: {\r\n      main: '#722ED1',\r\n      contrastText: '#FFFFFF'\r\n    },\r\n    secondary: {\r\n      main: \"#EFDBFF\",\r\n    },\r\n  }\r\n});\r\n\r\nexport default theme;","import {configureStore, combineReducers} from '@reduxjs/toolkit';\r\n\r\nimport {authSlice} from \"./auth/auth.slice\";\r\nimport {callsSlice} from \"./calls/calls.slice\";\r\nimport {searchSlice} from \"./search/search.slice\";\r\nimport {templateSlice} from \"./search/template.slice\";\r\nimport {dictsSlice} from \"./dicts/dicts.slice\";\r\nimport {usersSlice} from \"./users/users.slice\";\r\nimport {langSlice} from \"./lang/lang.slice\";\r\nimport {tagsSlice} from './tags/tags.slice';\r\nimport {reportsSlice} from './reports/reports.slice';\r\nimport {errorSlice} from \"./error/error.slice\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  lang: langSlice.reducer,\r\n  auth: authSlice.reducer,\r\n  users: usersSlice.reducer,\r\n  calls: callsSlice.reducer,\r\n  search: searchSlice.reducer,\r\n  template: templateSlice.reducer,\r\n  dicts: dictsSlice.reducer,\r\n  tags: tagsSlice.reducer,\r\n  reports: reportsSlice.reducer,\r\n  error: errorSlice.reducer\r\n})\r\n\r\nexport const setupStore = () => {\r\n  return configureStore({\r\n    reducer: rootReducer,\r\n    middleware: getDefaultMiddleware =>\r\n      getDefaultMiddleware({\r\n        serializableCheck: false,\r\n      }),\r\n  });\r\n};\r\n\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\nexport type AppStore = ReturnType<typeof setupStore>;\r\nexport type AppDispatch = AppStore['dispatch'];\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {ThemeProvider} from \"@mui/material/styles\";\r\nimport {StylesProvider} from '@material-ui/styles';\r\n\r\nimport App from './App';\r\nimport './index.css';\r\nimport theme from \"./theme\";\r\nimport {setupStore} from \"./store/store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nconst store = setupStore();\r\n\r\ndeclare global {\r\n  interface Window {\r\n    __store__: any\r\n  }\r\n}\r\n\r\nwindow.__store__ = store;\r\n\r\n      ReactDOM.render(\r\n        <React.StrictMode>\r\n          <StylesProvider injectFirst>\r\n            <ThemeProvider theme={theme}>\r\n              <Provider store={store}>\r\n                <HashRouter>\r\n                  <App/>\r\n                </HashRouter>\r\n              </Provider>\r\n            </ThemeProvider>\r\n          </StylesProvider>\r\n        </React.StrictMode>, document.getElementById('root')\r\n      );\r\n"],"sourceRoot":""}